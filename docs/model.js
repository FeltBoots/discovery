(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.discovery = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).discovery=t()}}((function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){return r(e[s][1][t]||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){e=void 0;var i,r,o=function(){const t=arguments[arguments.length-1];i=t(),o=void 0};o.amd=!0,function(t,i){"object"==typeof n&&void 0!==e?e.exports=i():"function"==typeof o&&o.amd?o(i):t.CodeMirror=i()}(this,(function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),i=/MSIE \d/.test(t),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=i||r||o,a=s&&(i?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),u=!o&&/Chrome\//.test(t),h=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),g=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),m=/Android/.test(t),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=g||/Mac/.test(e),b=/\bCrOS\b/.test(t),x=/win/i.test(e),w=h&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(h=!1,l=!0);var k=y&&(c||h&&(null==w||w<12.11)),O=n||s&&a>=9;function S(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var M,C=function(t,e){var n=t.className,i=S(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function P(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function T(t,e){return P(t).appendChild(e)}function A(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function L(t,e,n,i){var r=A(t,e,n,i);return r.setAttribute("role","presentation"),r}function j(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function E(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function D(t,e){var n=t.className;S(e).test(n)||(t.className+=(n?" ":"")+e)}function N(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!S(n[i]).test(e)&&(e+=" "+n[i]);return e}M=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(t){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var I=function(t){t.select()};function _(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function z(t,e,n){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function R(t,e,n,i,r){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=i||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}}g?I=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(I=function(t){try{t.select()}catch(t){}});var H=function(){this.id=null};function F(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}H.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var B=30,W={toString:function(){return"CodeMirror.Pass"}},G={scroll:!1},$={origin:"*mouse"},X={origin:"+move"};function Y(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var s=o-i;if(o==t.length||r+s>=e)return i+Math.min(s,e-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=e)return i}}var V=[""];function U(t){for(;V.length<=t;)V.push(q(V)+" ");return V[t]}function q(t){return t[t.length-1]}function K(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Z(){}function J(t,e){var n;return Object.create?n=Object.create(t):(Z.prototype=t,n=new Z),e&&z(e,n),n}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Q.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function nt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var it=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function rt(t){return t.charCodeAt(0)>=768&&it.test(t)}function ot(t,e,n){for(;(n<0?e>0:e<t.length)&&rt(t.charAt(e));)e+=n;return e}function st(t,e,n){for(var i=e>n?-1:1;;){if(e==n)return e;var r=(e+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+i}}var at=null;function lt(t,e,n){var i;at=null;for(var r=0;r<t.length;++r){var o=t[r];if(o.from<e&&o.to>e)return r;o.to==e&&(o.from!=o.to&&"before"==n?i=r:at=r),o.from==e&&(o.from!=o.to&&"before"!=n?i=r:at=r)}return null!=i?i:at}var ct=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(t,e,n){this.level=t,this.from=e,this.to=n}return function(l,c){var u="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!n.test(l))return!1;for(var h,d=l.length,f=[],p=0;p<d;++p)f.push((h=l.charCodeAt(p))<=247?t.charAt(h):1424<=h&&h<=1524?"R":1536<=h&&h<=1785?e.charAt(h-1536):1774<=h&&h<=2220?"r":8192<=h&&h<=8203?"w":8204==h?"b":"L");for(var g=0,m=u;g<d;++g){var v=f[g];"m"==v?f[g]=m:m=v}for(var y=0,b=u;y<d;++y){var x=f[y];"1"==x&&"r"==b?f[y]="n":r.test(x)&&(b=x,"r"==x&&(f[y]="R"))}for(var w=1,k=f[0];w<d-1;++w){var O=f[w];"+"==O&&"1"==k&&"1"==f[w+1]?f[w]="1":","!=O||k!=f[w+1]||"1"!=k&&"n"!=k||(f[w]=k),k=O}for(var S=0;S<d;++S){var M=f[S];if(","==M)f[S]="N";else if("%"==M){var C=void 0;for(C=S+1;C<d&&"%"==f[C];++C);for(var P=S&&"!"==f[S-1]||C<d&&"1"==f[C]?"1":"N",T=S;T<C;++T)f[T]=P;S=C-1}}for(var A=0,L=u;A<d;++A){var j=f[A];"L"==L&&"1"==j?f[A]="L":r.test(j)&&(L=j)}for(var E=0;E<d;++E)if(i.test(f[E])){var D=void 0;for(D=E+1;D<d&&i.test(f[D]);++D);for(var N="L"==(E?f[E-1]:u),I=N==("L"==(D<d?f[D]:u))?N?"L":"R":u,_=E;_<D;++_)f[_]=I;E=D-1}for(var z,R=[],H=0;H<d;)if(o.test(f[H])){var F=H;for(++H;H<d&&o.test(f[H]);++H);R.push(new a(0,F,H))}else{var B=H,W=R.length;for(++H;H<d&&"L"!=f[H];++H);for(var G=B;G<H;)if(s.test(f[G])){B<G&&R.splice(W,0,new a(1,B,G));var $=G;for(++G;G<H&&s.test(f[G]);++G);R.splice(W,0,new a(2,$,G)),B=G}else++G;B<H&&R.splice(W,0,new a(1,B,H))}return"ltr"==c&&(1==R[0].level&&(z=l.match(/^\s+/))&&(R[0].from=z[0].length,R.unshift(new a(0,0,z[0].length))),1==q(R).level&&(z=l.match(/\s+$/))&&(q(R).to-=z[0].length,R.push(new a(0,d-z[0].length,d)))),"rtl"==c?R.reverse():R}}();function ut(t,e){var n=t.order;return null==n&&(n=t.order=ct(t.text,e)),n}var ht=[],dt=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});i[e]=(i[e]||ht).concat(n)}};function ft(t,e){return t._handlers&&t._handlers[e]||ht}function pt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers,r=i&&i[e];if(r){var o=F(r,n);o>-1&&(i[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function gt(t,e){var n=ft(t,e);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function mt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),gt(t,n||e.type,t,e),kt(e)||e.codemirrorIgnore}function vt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==F(n,e[i])&&n.push(e[i])}function yt(t,e){return ft(t,e).length>0}function bt(t){t.prototype.on=function(t,e){dt(this,t,e)},t.prototype.off=function(t,e){pt(this,t,e)}}function xt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function wt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function kt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ot(t){xt(t),wt(t)}function St(t){return t.target||t.srcElement}function Mt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var Ct,Pt,Tt=function(){if(s&&a<9)return!1;var t=A("div");return"draggable"in t||"dragDrop"in t}();function At(t){if(null==Ct){var e=A("span","​");T(t,A("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ct=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var n=Ct?A("span","​"):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Lt(t){if(null!=Pt)return Pt;var e=T(t,document.createTextNode("AخA")),n=M(e,0,1).getBoundingClientRect(),i=M(e,1,2).getBoundingClientRect();return P(t),!(!n||n.left==n.right)&&(Pt=i.right-n.right<3)}var jt,Et=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Dt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Nt="oncopy"in(jt=A("div"))||(jt.setAttribute("oncopy","return;"),"function"==typeof jt.oncopy),It=null;var _t={},zt={};function Rt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),_t[t]=e}function Ht(t){if("string"==typeof t&&zt.hasOwnProperty(t))t=zt[t];else if(t&&"string"==typeof t.name&&zt.hasOwnProperty(t.name)){var e=zt[t.name];"string"==typeof e&&(e={name:e}),(t=J(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Ht("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Ht("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Ft(t,e){e=Ht(e);var n=_t[e.name];if(!n)return Ft(t,"text/plain");var i=n(t,e);if(Bt.hasOwnProperty(e.name)){var r=Bt[e.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)i[s]=e.modeProps[s];return i}var Bt={};function Wt(t,e){z(e,Bt.hasOwnProperty(t)?Bt[t]:Bt[t]={})}function Gt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function $t(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Xt(t,e,n){return!t.startState||t.startState(e,n)}var Yt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Vt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function Ut(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,(function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r})),i}function qt(t,e,n){var i=[];return t.iter(e,n,(function(t){i.push(t.text)})),i}function Kt(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function Zt(t){if(null==t.parent)return null;for(var e=t.parent,n=F(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function Jt(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s].height;if(e<a)break;e-=a}return n+s}function Qt(t,e){return e>=t.first&&e<t.first+t.size}function te(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function ee(t,e,n){if(void 0===n&&(n=null),!(this instanceof ee))return new ee(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ne(t,e){return t.line-e.line||t.ch-e.ch}function ie(t,e){return t.sticky==e.sticky&&0==ne(t,e)}function re(t){return ee(t.line,t.ch)}function oe(t,e){return ne(t,e)<0?e:t}function se(t,e){return ne(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function le(t,e){if(e.line<t.first)return ee(t.first,0);var n=t.first+t.size-1;return e.line>n?ee(n,Vt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?ee(t.line,e):n<0?ee(t.line,0):t}(e,Vt(t,e.line).text.length)}function ce(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=le(t,e[i]);return n}Yt.prototype.eol=function(){return this.pos>=this.string.length},Yt.prototype.sol=function(){return this.pos==this.lineStart},Yt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Yt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Yt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Yt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Yt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Yt.prototype.skipToEnd=function(){this.pos=this.string.length},Yt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Yt.prototype.backUp=function(t){this.pos-=t},Yt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=R(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},Yt.prototype.indentation=function(){return R(this.string,null,this.tabSize)-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},Yt.prototype.match=function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t};if(r(this.string.substr(this.pos,t.length))==r(t))return!1!==e&&(this.pos+=t.length),!0},Yt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Yt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Yt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Yt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ue=function(t,e){this.state=t,this.lookAhead=e},he=function(t,e,n,i){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function de(t,e,n,i){var r=[t.state.modeGen],o={};we(t,e.text,t.doc.mode,n,(function(t,e){return r.push(t,e)}),o,i);for(var s=n.state,a=function(i){n.baseTokens=r;var a=t.state.overlays[i],l=1,c=0;n.state=!0,we(t,e.text,a.mode,n,(function(t,e){for(var n=l;c<t;){var i=r[l];i>t&&r.splice(l,1,t,r[l+1],i),l+=2,c=Math.min(t,i)}if(e)if(a.opaque)r.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+e}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function fe(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=pe(t,Zt(e)),r=e.text.length>t.options.maxHighlightLength&&Gt(t.doc.mode,i.state),o=de(t,e,i);r&&(i.state=r),e.stateAfter=i.save(!r),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function pe(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return new he(i,!0,e);var o=function(t,e,n){for(var i,r,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Vt(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof ue?c.lookAhead:0)<=o.modeFrontier))return a;var u=R(l.text,null,t.options.tabSize);(null==r||i>u)&&(r=a-1,i=u)}return r}(t,e,n),s=o>i.first&&Vt(i,o-1).stateAfter,a=s?he.fromSaved(i,s,o):new he(i,Xt(i.mode),o);return i.iter(o,e,(function(n){ge(t,n.text,a);var i=a.line;n.stateAfter=i==e-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?a.save():null,a.nextLine()})),n&&(i.modeFrontier=a.line),a}function ge(t,e,n,i){var r=t.doc.mode,o=new Yt(e,t.options.tabSize,n);for(o.start=o.pos=i||0,""==e&&me(r,n.state);!o.eol();)ve(r,o,n.state),o.start=o.pos}function me(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=$t(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ve(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=$t(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}he.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},he.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},he.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},he.fromSaved=function(t,e,n){return e instanceof ue?new he(t,Gt(t.mode,e.state),n,e.lookAhead):new he(t,Gt(t.mode,e),n)},he.prototype.save=function(t){var e=!1!==t?Gt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ue(e,this.maxLookAhead):e};var ye=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function be(t,e,n,i){var r,o,s=t.doc,a=s.mode,l=Vt(s,(e=le(s,e)).line),c=pe(t,e.line,n),u=new Yt(l.text,t.options.tabSize,c);for(i&&(o=[]);(i||u.pos<e.ch)&&!u.eol();)u.start=u.pos,r=ve(a,u,c.state),i&&o.push(new ye(u,r,Gt(s.mode,c.state)));return i?o:new ye(u,r,c.state)}function xe(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}return t}function we(t,e,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,h=new Yt(e,t.options.tabSize,i),d=t.options.addModeClass&&[null];for(""==e&&xe(me(n,i.state),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&ge(t,e,i,h.pos),h.pos=e.length,l=null):l=xe(ve(n,h,i.state,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<h.start;)r(c=Math.min(h.start,c+5e3),u);u=l}h.start=h.pos}for(;c<h.pos;){var p=Math.min(h.pos,c+5e3);r(p,u),c=p}}var ke=!1,Oe=!1;function Se(t,e,n){this.marker=t,this.from=e,this.to=n}function Me(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function Ce(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function Pe(t,e){if(e.full)return null;var n=Qt(t,e.from.line)&&Vt(t,e.from.line).markedSpans,i=Qt(t,e.to.line)&&Vt(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,s=0==ne(e.from,e.to),a=function(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new Se(s,o.from,a?null:o.to))}}return i}(n,r,s),l=function(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new Se(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return i}(i,o,s),c=1==e.text.length,u=q(e.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var f=Me(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+u):d.to=r}}if(l)for(var p=0;p<l.length;++p){var g=l[p];if(null!=g.to&&(g.to+=u),null==g.from)Me(a,g.marker)||(g.from=u,c&&(a||(a=[])).push(g));else g.from+=u,c&&(a||(a=[])).push(g)}a&&(a=Te(a)),l&&l!=a&&(l=Te(l));var m=[a];if(!c){var v,y=e.text.length-2;if(y>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(v||(v=[])).push(new Se(a[b].marker,null,null));for(var x=0;x<y;++x)m.push(v);m.push(l)}return m}function Te(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Ae(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Le(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function je(t){return t.inclusiveLeft?-1:0}function Ee(t){return t.inclusiveRight?1:0}function De(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=ne(i.from,r.from)||je(t)-je(e);if(o)return-o;var s=ne(i.to,r.to)||Ee(t)-Ee(e);return s||e.id-t.id}function Ne(t,e){var n,i=Oe&&t.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(e?r.from:r.to)&&(!n||De(n,r.marker)<0)&&(n=r.marker);return n}function Ie(t){return Ne(t,!0)}function _e(t){return Ne(t,!1)}function ze(t,e){var n,i=Oe&&t.markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||De(n,o.marker)<0)&&(n=o.marker)}return n}function Re(t,e,n,i,r){var o=Vt(t,e),s=Oe&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=ne(c.from,n)||je(l.marker)-je(r),h=ne(c.to,i)||Ee(l.marker)-Ee(r);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ne(c.to,n)>=0:ne(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ne(c.from,i)<=0:ne(c.from,i)<0)))return!0}}}function He(t){for(var e;e=Ie(t);)t=e.find(-1,!0).line;return t}function Fe(t,e){var n=Vt(t,e),i=He(n);return n==i?e:Zt(i)}function Be(t,e){if(e>t.lastLine())return e;var n,i=Vt(t,e);if(!We(t,i))return e;for(;n=_e(i);)i=n.find(1,!0).line;return Zt(i)+1}function We(t,e){var n=Oe&&e.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Ge(t,e,i))return!0}}function Ge(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return Ge(t,i.line,Me(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r=void 0,o=0;o<e.markedSpans.length;++o)if((r=e.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ge(t,e,r))return!0}function $e(t){for(var e=0,n=(t=He(t)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;e+=a.height}return e}function Xe(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=Ie(i);){var r=e.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=t;e=_e(i);){var o=e.find(0,!0);n-=i.text.length-o.from.ch,n+=(i=o.to.line).text.length-o.to.ch}return n}function Ye(t){var e=t.display,n=t.doc;e.maxLine=Vt(n,n.first),e.maxLineLength=Xe(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=Xe(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}var Ve=function(t,e,n){this.text=t,Le(this,e),this.height=n?n(this):1};function Ue(t){t.parent=null,Ae(t)}Ve.prototype.lineNo=function(){return Zt(this)},bt(Ve);var qe={},Ke={};function Ze(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ke:qe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Je(t,e){var n=L("span",null,null,l?"padding-right: .1px":null),i={pre:L("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o=r?e.rest[r-1]:e.line,s=void 0;i.pos=0,i.addToken=tn,Lt(t.display.measure)&&(s=ut(o,t.doc.direction))&&(i.addToken=en(i.addToken,s)),i.map=[],rn(o,i,fe(t,o,e!=t.display.externalMeasured&&Zt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=N(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=N(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(At(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var a=i.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return gt(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=N(i.pre.className,i.textClass||"")),i}function Qe(t){var e=A("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function tn(t,e,n,i,r,o,l){if(e){var c,u=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,i="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!n||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o=" "),i+=o,n=" "==o}return i}(e,t.trailingSpace):e,h=t.cm.state.specialChars,d=!1;if(h.test(e)){c=document.createDocumentFragment();for(var f=0;;){h.lastIndex=f;var p=h.exec(e),g=p?p.index-f:e.length-f;if(g){var m=document.createTextNode(u.slice(f,f+g));s&&a<9?c.appendChild(A("span",[m])):c.appendChild(m),t.map.push(t.pos,t.pos+g,m),t.col+=g,t.pos+=g}if(!p)break;f+=g+1;var v=void 0;if("\t"==p[0]){var y=t.cm.options.tabSize,b=y-t.col%y;(v=c.appendChild(A("span",U(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=c.appendChild(A("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?c.appendChild(A("span",[v])):c.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,c=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,c),s&&a<9&&(d=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||i||r||d||o){var x=n||"";i&&(x+=i),r&&(x+=r);var w=A("span",[c],x,o);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,l[k]);return t.content.appendChild(w)}t.content.appendChild(c)}}function en(t,e){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var h=void 0,d=0;d<e.length&&!((h=e[d]).to>c&&h.from<=c);d++);if(h.to>=u)return t(n,i,r,o,s,a,l);t(n,i.slice(0,h.to-c),r,o,null,a,l),o=null,i=i.slice(h.to-c),c=h.to}}}function nn(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function rn(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var s,a,l,c,u,h,d,f=r.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=u=a="",d=null,h=null,v=1/0;for(var y=[],b=void 0,x=0;x<i.length;++x){var w=i[x],k=w.marker;if("bookmark"==k.type&&w.from==p&&k.widgetNode)y.push(k);else if(w.from<=p&&(null==w.to||w.to>p||k.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&w.from==p&&(u+=" "+k.startStyle),k.endStyle&&w.to==v&&(b||(b=[])).push(k.endStyle,w.to),k.title&&((d||(d={})).title=k.title),k.attributes)for(var O in k.attributes)(d||(d={}))[O]=k.attributes[O];k.collapsed&&(!h||De(h.marker,k)<0)&&(h=w)}else w.from>p&&v>w.from&&(v=w.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!h||h.from==p)for(var M=0;M<y.length;++M)nn(e,0,y[M]);if(h&&(h.from||0)==p){if(nn(e,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var C=Math.min(f,v);;){if(m){var P=p+m.length;if(!h){var T=P>C?m.slice(0,C-p):m;e.addToken(e,T,s?s+l:l,u,p+T.length==v?c:"",a,d)}if(P>=C){m=m.slice(C-p),p=C;break}p=P,u=""}m=r.slice(o,o=n[g++]),s=Ze(n[g++],e.cm.options)}}else for(var A=1;A<n.length;A+=2)e.addToken(e,r.slice(o,o=n[A]),Ze(n[A+1],e.cm.options))}function on(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=_e(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?Zt(q(this.rest))-n+1:1,this.node=this.text=null,this.hidden=We(t,e)}function sn(t,e,n){for(var i,r=[],o=e;o<n;o=i){var s=new on(t.doc,Vt(t.doc,o),o);i=o+s.size,r.push(s)}return r}var an=null;var ln=null;function cn(t,e){var n=ft(t,e);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);an?i=an.delayedCallbacks:ln?i=ln:(i=ln=[],setTimeout(un,0));for(var o=function(t){i.push((function(){return n[t].apply(null,r)}))},s=0;s<n.length;++s)o(s)}}function un(){var t=ln;ln=null;for(var e=0;e<t.length;++e)t[e]()}function hn(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?pn(t,e):"gutter"==o?mn(t,e,n,i):"class"==o?gn(t,e):"widget"==o&&vn(t,e,i)}e.changes=null}function dn(t){return t.node==t.text&&(t.node=A("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function fn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Je(t,e)}function pn(t,e){var n=e.text.className,i=fn(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,gn(t,e)):n&&(e.text.className=n)}function gn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var i=dn(e);e.background=i.insertBefore(A("div",null,n),i.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?dn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function mn(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=dn(e);e.gutterBackground=A("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=dn(e),a=e.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(A("div",te(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(A("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function vn(t,e,n){e.alignable&&(e.alignable=null);for(var i=e.node.firstChild,r=void 0;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&e.node.removeChild(i);bn(t,e,n)}function yn(t,e,n,i){var r=fn(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),gn(t,e),mn(t,e,n,i),bn(t,e,i),e.node}function bn(t,e,n){if(xn(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)xn(t,e.rest[i],e,n,!1)}function xn(t,e,n,i,r){if(e.widgets)for(var o=dn(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=A("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),wn(l,c,n,i),t.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),cn(l,"redraw")}}function wn(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function kn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!j(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),T(e.display.measure,A("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function On(t,e){for(var n=St(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Sn(t){return t.lineSpace.offsetTop}function Mn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Cn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=T(t.measure,A("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function Pn(t){return B-t.display.nativeBarWidth}function Tn(t){return t.display.scroller.clientWidth-Pn(t)-t.display.barWidth}function An(t){return t.display.scroller.clientHeight-Pn(t)-t.display.barHeight}function Ln(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var r=0;r<t.rest.length;r++)if(Zt(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function jn(t,e,n,i){return Nn(t,Dn(t,e),n,i)}function En(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[hi(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Dn(t,e){var n=Zt(e),i=En(t,n);i&&!i.text?i=null:i&&i.changes&&(hn(t,i,n,si(t)),t.curOp.forceUpdate=!0),i||(i=function(t,e){var n=Zt(e=He(e)),i=t.display.externalMeasured=new on(t.doc,e,n);i.lineN=n;var r=i.built=Je(t,i);return i.text=r.pre,T(t.display.lineMeasure,r.pre),i}(t,e));var r=Ln(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Nn(t,e,n,i,r){e.before&&(n=-1);var o,l=n+(i||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(!function(t,e,n){var i=t.options.lineWrapping,r=i&&Tn(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,i){var r,o=zn(e.map,n,i),l=o.node,c=o.start,u=o.end,h=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;c&&rt(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&rt(e.line.text.charAt(o.coverStart+u));)++u;if((r=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Rn(M(l,c,u).getClientRects(),i)).left||r.right||0==c)break;u=c,c-=1,h="right"}s&&a<11&&(r=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=It)return It;var e=T(t,A("span","x")),n=e.getBoundingClientRect(),i=M(e,0,1).getBoundingClientRect();return It=Math.abs(n.left-i.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}(t.display.measure,r))}else{var f;c>0&&(h=i="right"),r=t.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==i?f.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!r||!r.left&&!r.right)){var p=l.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+oi(t.display),top:p.top,bottom:p.bottom}:_n}for(var g=r.top-e.rect.top,m=r.bottom-e.rect.top,v=(g+m)/2,y=e.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var x=b?y[b-1]:0,w=y[b],k={left:("right"==h?r.right:r.left)-e.rect.left,right:("left"==h?r.left:r.right)-e.rect.left,top:x,bottom:w};r.left||r.right||(k.bogus=!0);t.options.singleCursorHeightPerLine||(k.rtop=g,k.rbottom=m);return k}(t,e,n,i)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var In,_n={left:0,right:0,top:0,bottom:0};function zn(t,e,n){for(var i,r,o,s,a,l,c=0;c<t.length;c+=3)if(a=t[c],l=t[c+1],e<a?(r=0,o=1,s="left"):e<l?o=(r=e-a)+1:(c==t.length-3||e==l&&t[c+3]>e)&&(r=(o=l-a)-1,e>=l&&(s="right")),null!=r){if(i=t[c+2],a==l&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)i=t[2+(c-=3)],s="left";if("right"==n&&r==l-a)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)i=t[(c+=3)+2],s="right";break}return{node:i,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function Rn(t,e){var n=_n;if("left"==e)for(var i=0;i<t.length&&(n=t[i]).left==n.right;i++);else for(var r=t.length-1;r>=0&&(n=t[r]).left==n.right;r--);return n}function Hn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Fn(t){t.display.externalMeasure=null,P(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Hn(t.display.view[e])}function Bn(t){Fn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Wn(){return u&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Gn(){return u&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function $n(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=kn(t.widgets[n]));return e}function Xn(t,e,n,i,r){if(!r){var o=$n(e);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=$e(e);if("local"==i?s+=Sn(t.display):s-=t.display.viewOffset,"page"==i||"window"==i){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Gn());var l=a.left+("window"==i?0:Wn());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Yn(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=Wn(),r-=Gn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function Vn(t,e,n,i,r){return i||(i=Vt(t.doc,e.line)),Xn(t,i,jn(t,i,e.ch,r),n)}function Un(t,e,n,i,r,o){function s(e,s){var a=Nn(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Xn(t,i,a,n)}i=i||Vt(t.doc,e.line),r||(r=Dn(t,i));var a=ut(i,t.doc.direction),l=e.ch,c=e.sticky;if(l>=i.text.length?(l=i.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(t,e,n){return s(n?t-1:t,1==a[e].level!=n)}var h=lt(a,l,c),d=at,f=u(l,h,"before"==c);return null!=d&&(f.other=u(l,d,"before"!=c)),f}function qn(t,e){var n=0;e=le(t.doc,e),t.options.lineWrapping||(n=oi(t.display)*e.ch);var i=Vt(t.doc,e.line),r=$e(i)+Sn(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Kn(t,e,n,i,r){var o=ee(t,e,n);return o.xRel=r,i&&(o.outside=i),o}function Zn(t,e,n){var i=t.doc;if((n+=t.display.viewOffset)<0)return Kn(i.first,0,null,-1,-1);var r=Jt(i,n),o=i.first+i.size-1;if(r>o)return Kn(i.first+i.size-1,Vt(i,o).text.length,null,1,1);e<0&&(e=0);for(var s=Vt(i,r);;){var a=ei(t,s,r,e,n),l=ze(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==r)return c;s=Vt(i,r=c.line)}}function Jn(t,e,n,i){i-=$n(e);var r=e.text.length,o=st((function(e){return Nn(t,n,e-1).bottom<=i}),r,0);return{begin:o,end:r=st((function(e){return Nn(t,n,e).top>i}),o,r)}}function Qn(t,e,n,i){return n||(n=Dn(t,e)),Jn(t,e,n,Xn(t,e,Nn(t,n,i),"line").top)}function ti(t,e,n,i){return!(t.bottom<=n)&&(t.top>n||(i?t.left:t.right)>e)}function ei(t,e,n,i,r){r-=$e(e);var o=Dn(t,e),s=$n(e),a=0,l=e.text.length,c=!0,u=ut(e,t.doc.direction);if(u){var h=(t.options.lineWrapping?ii:ni)(t,e,n,o,u,i,r);a=(c=1!=h.level)?h.from:h.to-1,l=c?h.to:h.from-1}var d,f,p=null,g=null,m=st((function(e){var n=Nn(t,o,e);return n.top+=s,n.bottom+=s,!!ti(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(p=e,g=n),!0)}),a,l),v=!1;if(g){var y=i-g.left<g.right-i,b=y==c;m=p+(b?0:1),f=b?"after":"before",d=y?g.left:g.right}else{c||m!=l&&m!=a||m++,f=0==m?"after":m==e.text.length?"before":Nn(t,o,m-(c?1:0)).bottom+s<=r==c?"after":"before";var x=Un(t,ee(n,m,f),"line",e,o);d=x.left,v=r<x.top?-1:r>=x.bottom?1:0}return Kn(n,m=ot(e.text,m,1),f,v,i-d)}function ni(t,e,n,i,r,o,s){var a=st((function(a){var l=r[a],c=1!=l.level;return ti(Un(t,ee(n,c?l.to:l.from,c?"before":"after"),"line",e,i),o,s,!0)}),0,r.length-1),l=r[a];if(a>0){var c=1!=l.level,u=Un(t,ee(n,c?l.from:l.to,c?"after":"before"),"line",e,i);ti(u,o,s,!0)&&u.top>s&&(l=r[a-1])}return l}function ii(t,e,n,i,r,o,s){var a=Jn(t,e,i,s),l=a.begin,c=a.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var u=null,h=null,d=0;d<r.length;d++){var f=r[d];if(!(f.from>=c||f.to<=l)){var p=Nn(t,i,1!=f.level?Math.min(c,f.to)-1:Math.max(l,f.from)).right,g=p<o?o-p+1e9:p-o;(!u||h>g)&&(u=f,h=g)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function ri(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==In){In=A("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)In.appendChild(document.createTextNode("x")),In.appendChild(A("br"));In.appendChild(document.createTextNode("x"))}T(t.measure,In);var n=In.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),P(t.measure),n||1}function oi(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=A("span","xxxxxxxxxx"),n=A("pre",[e],"CodeMirror-line-like");T(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function si(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=t.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+r,i[a]=o.clientWidth}return{fixedPos:ai(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function ai(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function li(t){var e=ri(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/oi(t.display)-3);return function(r){if(We(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function ci(t){var e=t.doc,n=li(t);e.iter((function(t){var e=n(t);e!=t.height&&Kt(t,e)}))}function ui(t,e,n,i){var r=t.display;if(!n&&"true"==St(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var l,c=Zn(t,o,s);if(i&&1==c.xRel&&(l=Vt(t.doc,c.line).text).length==c.ch){var u=R(l,l.length,t.options.tabSize)-l.length;c=ee(c.line,Math.max(0,Math.round((o-Cn(t.display).left)/oi(t.display))-u))}return c}function hi(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if((e-=n[i].size)<0)return i}function di(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Oe&&Fe(t.doc,e)<r.viewTo&&pi(t);else if(n<=r.viewFrom)Oe&&Be(t.doc,n+i)>r.viewFrom?pi(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)pi(t);else if(e<=r.viewFrom){var o=gi(t,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):pi(t)}else if(n>=r.viewTo){var s=gi(t,e,e,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):pi(t)}else{var a=gi(t,e,e,-1),l=gi(t,n,n+i,1);a&&l?(r.view=r.view.slice(0,a.index).concat(sn(t,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):pi(t)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=i:e<c.lineN+c.size&&(r.externalMeasured=null))}function fi(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[hi(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==F(s,n)&&s.push(n)}}}function pi(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function gi(t,e,n,i){var r,o=hi(t,e),s=t.display.view;if(!Oe||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(i>0){if(o==s.length-1)return null;r=a+s[o].size-e,o++}else r=a-e;e+=r,n+=r}for(;Fe(t.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function mi(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function vi(t){t.display.input.showSelection(t.display.input.prepareSelection())}function yi(t,e){void 0===e&&(e=!0);for(var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(e||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&bi(t,a.head,r),l||wi(t,a,o)}}return i}function bi(t,e,n){var i=Un(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(A("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function xi(t,e){return t.top-e.top||t.left-e.left}function wi(t,e,n){var i=t.display,r=t.doc,o=document.createDocumentFragment(),s=Cn(t.display),a=s.left,l=Math.max(i.sizerWidth,Tn(t)-i.sizer.offsetLeft)-s.right,c="ltr"==r.direction;function u(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),o.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(i-e)+"px"))}function h(e,n,i){var o,s,h=Vt(r,e),d=h.text.length;function f(n,i){return Vn(t,ee(e,n),"div",h,i)}function p(e,n,i){var r=Qn(t,h,null,e),o="ltr"==n==("after"==i)?"left":"right";return f("after"==i?r.begin:r.end-(/\s/.test(h.text.charAt(r.end-1))?2:1),o)[o]}var g=ut(h,r.direction);return function(t,e,n,i){if(!t)return i(e,n,"ltr",0);for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(i(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),r=!0)}r||i(e,n,"ltr")}(g,n||0,null==i?d:i,(function(t,e,r,h){var m="ltr"==r,v=f(t,m?"left":"right"),y=f(e-1,m?"right":"left"),b=null==n&&0==t,x=null==i&&e==d,w=0==h,k=!g||h==g.length-1;if(y.top-v.top<=3){var O=(c?x:b)&&k,S=(c?b:x)&&w?a:(m?v:y).left,M=O?l:(m?y:v).right;u(S,v.top,M-S,v.bottom)}else{var C,P,T,A;m?(C=c&&b&&w?a:v.left,P=c?l:p(t,r,"before"),T=c?a:p(e,r,"after"),A=c&&x&&k?l:y.right):(C=c?p(t,r,"before"):a,P=!c&&b&&w?l:v.right,T=!c&&x&&k?a:y.left,A=c?p(e,r,"after"):l),u(C,v.top,P-C,v.bottom),v.bottom<y.top&&u(a,v.bottom,null,y.top),u(T,y.top,A-T,y.bottom)}(!o||xi(v,o)<0)&&(o=v),xi(y,o)<0&&(o=y),(!s||xi(v,s)<0)&&(s=v),xi(y,s)<0&&(s=y)})),{start:o,end:s}}var d=e.from(),f=e.to();if(d.line==f.line)h(d.line,d.ch,f.ch);else{var p=Vt(r,d.line),g=Vt(r,f.line),m=He(p)==He(g),v=h(d.line,d.ch,m?p.text.length+1:null).end,y=h(f.line,m?0:null,f.ch).start;m&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(a,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(a,v.bottom,null,y.top)}n.appendChild(o)}function ki(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Oi(t){t.state.focused||(t.display.input.focus(),Mi(t))}function Si(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Ci(t))}),100)}function Mi(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(gt(t,"focus",t,e),t.state.focused=!0,D(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),ki(t))}function Ci(t,e){t.state.delayingBlurEvent||(t.state.focused&&(gt(t,"blur",t,e),t.state.focused=!1,C(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Pi(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r=e.view[i],o=t.options.lineWrapping,l=void 0,c=0;if(!r.hidden){if(s&&a<8){var u=r.node.offsetTop+r.node.offsetHeight;l=u-n,n=u}else{var h=r.node.getBoundingClientRect();l=h.bottom-h.top,!o&&r.text.firstChild&&(c=r.text.firstChild.getBoundingClientRect().right-h.left-1)}var d=r.line.height-l;if((d>.005||d<-.005)&&(Kt(r.line,l),Ti(r.line),r.rest))for(var f=0;f<r.rest.length;f++)Ti(r.rest[f]);if(c>t.display.sizerWidth){var p=Math.ceil(c/oi(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=r.line,t.display.maxLineChanged=!0)}}}}function Ti(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function Ai(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-Sn(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=Jt(e,i),s=Jt(e,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=Jt(e,$e(Vt(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=Jt(e,$e(Vt(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Li(t,e){var n=t.display,i=ri(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=An(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+Mn(n),l=e.top<i,c=e.bottom>a-i;if(e.top<r)s.scrollTop=l?0:e.top;else if(e.bottom>r+o){var u=Math.min(e.top,(c?a:e.bottom)-o);u!=r&&(s.scrollTop=u)}var h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,d=Tn(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),f=e.right-e.left>d;return f&&(e.right=e.left+d),e.left<10?s.scrollLeft=0:e.left<h?s.scrollLeft=Math.max(0,e.left-(f?0:10)):e.right>d+h-3&&(s.scrollLeft=e.right+(f?0:10)-d),s}function ji(t,e){null!=e&&(Ni(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Ei(t){Ni(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Di(t,e,n){null==e&&null==n||Ni(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Ni(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Ii(t,qn(t,e.from),qn(t,e.to),e.margin))}function Ii(t,e,n,i){var r=Li(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-i,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+i});Di(t,r.scrollLeft,r.scrollTop)}function _i(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||cr(t,{top:e}),zi(t,e,!0),n&&cr(t),rr(t,100))}function zi(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Ri(t,e,n,i){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!i||(t.doc.scrollLeft=e,dr(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Hi(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Mn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Pn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Fi=function(t,e,n){this.cm=n;var i=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,t(i),t(r),dt(i,"scroll",(function(){i.clientHeight&&e(i.scrollTop,"vertical")})),dt(r,"scroll",(function(){r.clientWidth&&e(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Fi.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},Fi.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Fi.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Fi.prototype.zeroWidthHack=function(){var t=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new H,this.disableVert=new H},Fi.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,(function i(){var r=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,i)}))},Fi.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Bi=function(){};function Wi(t,e){e||(e=Hi(t));var n=t.display.barWidth,i=t.display.barHeight;Gi(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&Pi(t),Gi(t,Hi(t)),n=t.display.barWidth,i=t.display.barHeight}function Gi(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}Bi.prototype.update=function(){return{bottom:0,right:0}},Bi.prototype.setScrollLeft=function(){},Bi.prototype.setScrollTop=function(){},Bi.prototype.clear=function(){};var $i={native:Fi,null:Bi};function Xi(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&C(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new $i[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),dt(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?Ri(t,e):_i(t,e)}),t),t.display.scrollbars.addClass&&D(t.display.wrapper,t.display.scrollbars.addClass)}var Yi=0;function Vi(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Yi},e=t.curOp,an?an.ops.push(e):e.ownsGroup=an={ops:[e],delayedCallbacks:[]}}function Ui(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}(n)}finally{an=null,e(n)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)qi(e[n]);for(var i=0;i<e.length;i++)Ki(e[i]);for(var r=0;r<e.length;r++)Zi(e[r]);for(var o=0;o<e.length;o++)Ji(e[o]);for(var s=0;s<e.length;s++)Qi(e[s])}(t)}))}function qi(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Pn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Pn(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Ye(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new sr(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Ki(t){t.updatedDisplay=t.mustUpdate&&ar(t.cm,t.update)}function Zi(t){var e=t.cm,n=e.display;t.updatedDisplay&&Pi(e),t.barMeasure=Hi(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=jn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Pn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Tn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Ji(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Ri(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==E();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Wi(e,t.barMeasure),t.updatedDisplay&&hr(e,t.barMeasure),t.selectionChanged&&ki(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Oi(t.cm)}function Qi(t){var e=t.cm,n=e.display,i=e.doc;(t.updatedDisplay&&lr(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&zi(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Ri(e,t.scrollLeft,!0,!0),t.scrollToPos)&&function(t,e){if(!mt(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!p){var o=A("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-Sn(t.display))+"px;\n                         height: "+(e.bottom-e.top+Pn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}(e,function(t,e,n,i){var r;null==i&&(i=0),t.options.lineWrapping||e!=n||(n="before"==(e=e.ch?ee(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e).sticky?ee(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var s=!1,a=Un(t,e),l=n&&n!=e?Un(t,n):a,c=Li(t,r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-i,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+i}),u=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=c.scrollTop&&(_i(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(Ri(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(s=!0)),!s)break}return r}(e,le(i,t.scrollToPos.from),le(i,t.scrollToPos.to),t.scrollToPos.margin));var r=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(r)for(var s=0;s<r.length;++s)r[s].lines.length||gt(r[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&gt(o[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&gt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function tr(t,e){if(t.curOp)return e();Vi(t);try{return e()}finally{Ui(t)}}function er(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Vi(t);try{return e.apply(t,arguments)}finally{Ui(t)}}}function nr(t){return function(){if(this.curOp)return t.apply(this,arguments);Vi(this);try{return t.apply(this,arguments)}finally{Ui(this)}}}function ir(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Vi(e);try{return t.apply(this,arguments)}finally{Ui(e)}}}function rr(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,_(or,t))}function or(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=pe(t,e.highlightFrontier),r=[];e.iter(i.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(i.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Gt(e.mode,i.state):null,l=de(t,o,i,!0);a&&(i.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!h&&d<s.length;++d)h=s[d]!=o.styles[d];h&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=t.options.maxHighlightLength&&ge(t,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return rr(t,t.options.workDelay),!0})),e.highlightFrontier=i.line,e.modeFrontier=Math.max(e.modeFrontier,i.line),r.length&&tr(t,(function(){for(var e=0;e<r.length;e++)fi(t,r[e],"text")}))}}var sr=function(t,e,n){var i=t.display;this.viewport=e,this.visible=Ai(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Tn(t),this.force=n,this.dims=si(t),this.events=[]};function ar(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return pi(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==mi(t))return!1;fr(t)&&(pi(t),e.dims=si(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Oe&&(o=Fe(t.doc,o),s=Be(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var i=t.display;0==i.view.length||e>=i.viewTo||n<=i.viewFrom?(i.view=sn(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=sn(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(hi(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(sn(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,hi(t,n)))),i.viewTo=n}(t,o,s),n.viewOffset=$e(Vt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var c=mi(t);if(!a&&0==c&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(t){if(t.hasFocus())return null;var e=E();if(!e||!j(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&j(t.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}(t);return c>4&&(n.lineDiv.style.display="none"),function(t,e,n){var i=t.display,r=t.options.lineNumbers,o=i.lineDiv,s=o.firstChild;function a(e){var n=e.nextSibling;return l&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var c=i.view,u=i.viewFrom,h=0;h<c.length;h++){var d=c[h];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;s!=d.node;)s=a(s);var f=r&&null!=e&&e<=u&&d.lineNumber;d.changes&&(F(d.changes,"gutter")>-1&&(f=!1),hn(t,d,u,n)),f&&(P(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(te(t.options,u)))),s=d.node.nextSibling}else{var p=yn(t,d,u,n);o.insertBefore(p,s)}u+=d.size}for(;s;)s=a(s)}(t,n.updateLineNumbers,e.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=E()&&(t.activeElt.focus(),t.anchorNode&&j(document.body,t.anchorNode)&&j(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(u),P(n.cursorDiv),P(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,rr(t,400)),n.updateLineNumbers=null,!0}function lr(t,e){for(var n=e.viewport,i=!0;(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Tn(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Mn(t.display)-An(t),n.top)}),e.visible=Ai(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&ar(t,e);i=!1){Pi(t);var r=Hi(t);vi(t),Wi(t,r),hr(t,r),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function cr(t,e){var n=new sr(t,e);if(ar(t,n)){Pi(t),lr(t,n);var i=Hi(t);vi(t),Wi(t,i),hr(t,i),n.finish()}}function ur(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px"}function hr(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Pn(t)+"px"}function dr(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=ai(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function fr(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=te(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",ur(t.display),!0}return!1}function pr(t,e){for(var n=[],i=!1,r=0;r<t.length;r++){var o=t[r],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;i=!0}n.push({className:o,style:s})}return e&&!i&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function gr(t){var e=t.gutters,n=t.gutterSpecs;P(e),t.lineGutter=null;for(var i=0;i<n.length;++i){var r=n[i],o=r.className,s=r.style,a=e.appendChild(A("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",ur(t)}function mr(t){gr(t.display),di(t),dr(t)}function vr(t,e,i,r){var o=this;this.input=i,o.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=L("div",null,"CodeMirror-code"),o.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=A("div",null,"CodeMirror-cursors"),o.measure=A("div",null,"CodeMirror-measure"),o.lineMeasure=A("div",null,"CodeMirror-measure"),o.lineSpace=L("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=L("div",[o.lineSpace],"CodeMirror-lines");o.mover=A("div",[c],null,"position: relative"),o.sizer=A("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=A("div",null,null,"position: absolute; height: "+B+"px; width: 1px;"),o.gutters=A("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=A("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=A("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=pr(r.gutters,r.lineNumbers),gr(o),i.init(o)}sr.prototype.signal=function(t,e){yt(t,e)&&this.events.push(arguments)},sr.prototype.finish=function(){for(var t=0;t<this.events.length;t++)gt.apply(null,this.events[t])};var yr=0,br=null;function xr(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function wr(t){var e=xr(t);return e.x*=br,e.y*=br,e}function kr(t,e){var i=xr(e),r=i.x,o=i.y,s=t.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(r&&c||o&&u){if(o&&y&&l)t:for(var d=e.target,f=s.view;d!=a;d=d.parentNode)for(var p=0;p<f.length;p++)if(f[p].node==d){t.display.currentWheelTarget=d;break t}if(r&&!n&&!h&&null!=br)return o&&u&&_i(t,Math.max(0,a.scrollTop+o*br)),Ri(t,Math.max(0,a.scrollLeft+r*br)),(!o||o&&u)&&xt(e),void(s.wheelStartX=null);if(o&&null!=br){var g=o*br,m=t.doc.scrollTop,v=m+s.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(t.doc.height,v+g+50),cr(t,{top:m,bottom:v})}yr<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var t=a.scrollLeft-s.wheelStartX,e=a.scrollTop-s.wheelStartY,n=e&&s.wheelDY&&e/s.wheelDY||t&&s.wheelDX&&t/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(br=(br*yr+n)/(yr+1),++yr)}}),200)):(s.wheelDX+=r,s.wheelDY+=o))}}s?br=-.53:n?br=15:u?br=-.7:d&&(br=-1/3);var Or=function(t,e){this.ranges=t,this.primIndex=e};Or.prototype.primary=function(){return this.ranges[this.primIndex]},Or.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(!ie(n.anchor,i.anchor)||!ie(n.head,i.head))return!1}return!0},Or.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Sr(re(this.ranges[e].anchor),re(this.ranges[e].head));return new Or(t,this.primIndex)},Or.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Or.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(ne(e,i.from())>=0&&ne(t,i.to())<=0)return n}return-1};var Sr=function(t,e){this.anchor=t,this.head=e};function Mr(t,e,n){var i=t&&t.options.selectionsMayTouch,r=e[n];e.sort((function(t,e){return ne(t.from(),e.from())})),n=F(e,r);for(var o=1;o<e.length;o++){var s=e[o],a=e[o-1],l=ne(a.to(),s.from());if(i&&!s.empty()?l>0:l>=0){var c=se(a.from(),s.from()),u=oe(a.to(),s.to()),h=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,e.splice(--o,2,new Sr(h?u:c,h?c:u))}}return new Or(e,n)}function Cr(t,e){return new Or([new Sr(t,e||t)],0)}function Pr(t){return t.text?ee(t.from.line+t.text.length-1,q(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Tr(t,e){if(ne(t,e.from)<0)return t;if(ne(t,e.to)<=0)return Pr(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=Pr(e).ch-e.to.ch),ee(n,i)}function Ar(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new Sr(Tr(r.anchor,e),Tr(r.head,e)))}return Mr(t.cm,n,t.sel.primIndex)}function Lr(t,e,n){return t.line==e.line?ee(n.line,t.ch-e.ch+n.ch):ee(n.line+(t.line-e.line),t.ch)}function jr(t){t.doc.mode=Ft(t.options,t.doc.modeOption),Er(t)}function Er(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,rr(t,100),t.state.modeGen++,t.curOp&&di(t)}function Dr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==q(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Nr(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){!function(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ae(t),Le(t,n);var r=i?i(t):1;r!=t.height&&Kt(t,r)}(t,n,r,i),cn(t,"change",t,e)}function s(t,e){for(var n=[],o=t;o<e;++o)n.push(new Ve(c[o],r(o),i));return n}var a=e.from,l=e.to,c=e.text,u=Vt(t,a.line),h=Vt(t,l.line),d=q(c),f=r(c.length-1),p=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Dr(t,e)){var g=s(0,c.length-1);o(h,h.text,f),p&&t.remove(a.line,p),g.length&&t.insert(a.line,g)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),f);else{var m=s(1,c.length-1);m.push(new Ve(d+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),t.insert(a.line+1,m)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),r(0)),t.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(h,d+h.text.slice(l.ch),f);var v=s(1,c.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,v)}cn(t,"change",t,e)}function Ir(t,e,n){!function t(i,r,o){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(e(a.doc,l),t(a.doc,i,l))}}}(t,null,!0)}function _r(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ci(t),jr(t),zr(t),t.options.lineWrapping||Ye(t),t.options.mode=e.modeOption,di(t)}function zr(t){("rtl"==t.doc.direction?D:C)(t.display.lineDiv,"CodeMirror-rtl")}function Rr(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Hr(t,e){var n={from:re(e.from),to:Pr(e),text:Ut(t,e.from,e.to)};return $r(t,n,e.from.line,e.to.line+1),Ir(t,(function(t){return $r(t,n,e.from.line,e.to.line+1)}),!0),n}function Fr(t){for(;t.length;){if(!q(t).ranges)break;t.pop()}}function Br(t,e,n,i){var r=t.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&r.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(Fr(t.done),q(t.done)):t.done.length&&!q(t.done).ranges?q(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),q(t.done)):void 0}(r,r.lastOp==i)))s=q(o.changes),0==ne(e.from,e.to)&&0==ne(e.from,s.to)?s.to=Pr(e):o.changes.push(Hr(t,e));else{var l=q(r.done);for(l&&l.ranges||Gr(t.sel,r.done),o={changes:[Hr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,s||gt(t,"historyAdded")}function Wr(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,q(r.done),e))?r.done[r.done.length-1]=e:Gr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&Fr(r.undone)}function Gr(t,e){var n=q(e);n&&n.ranges&&n.equals(t)||e.push(t)}function $r(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),(function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o}))}function Xr(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Yr(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=[],r=0;r<e.text.length;++r)i.push(Xr(n[r]));return i}(t,e),i=Pe(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[r]=s)}return n}function Vr(t,e,n){for(var i=[],r=0;r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?Or.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&F(e,Number(u[1]))>-1&&(q(a)[h]=c[h],delete c[h])}}}return i}function Ur(t,e,n,i){if(i){var r=t.anchor;if(n){var o=ne(e,r)<0;o!=ne(n,r)<0?(r=e,e=n):o!=ne(e,n)<0&&(e=n)}return new Sr(r,e)}return new Sr(n||e,e)}function qr(t,e,n,i,r){null==r&&(r=t.cm&&(t.cm.display.shift||t.extend)),to(t,new Or([Ur(t.sel.primary(),e,n,r)],0),i)}function Kr(t,e,n){for(var i=[],r=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)i[o]=Ur(t.sel.ranges[o],e[o],null,r);to(t,Mr(t.cm,i,t.sel.primIndex),n)}function Zr(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,to(t,Mr(t.cm,r,t.sel.primIndex),i)}function Jr(t,e,n,i){to(t,Cr(e,n),i)}function Qr(t,e,n){var i=t.history.done,r=q(i);r&&r.ranges?(i[i.length-1]=e,eo(t,e,n)):to(t,e,n)}function to(t,e,n){eo(t,e,n),Wr(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function eo(t,e,n){(yt(t,"beforeSelectionChange")||t.cm&&yt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Sr(le(t,e[n].anchor),le(t,e[n].head))},origin:n&&n.origin};return gt(t,"beforeSelectionChange",t,i),t.cm&&gt(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?Mr(t.cm,i.ranges,i.ranges.length-1):e}(t,e,n));var i=n&&n.bias||(ne(e.primary().head,t.sel.primary().head)<0?-1:1);no(t,ro(t,e,i,!0)),n&&!1===n.scroll||!t.cm||Ei(t.cm)}function no(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,vt(t.cm)),cn(t,"cursorActivity",t))}function io(t){no(t,ro(t,t.sel,null,!1))}function ro(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=so(t,s.anchor,a&&a.anchor,n,i),c=so(t,s.head,a&&a.head,n,i);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new Sr(l,c))}return r?Mr(t.cm,r,e.primIndex):e}function oo(t,e,n,i,r){var o=Vt(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(u?a.to>=e.ch:a.to>e.ch))){if(r&&(gt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var h=l.find(i<0?1:-1),d=void 0;if((i<0?u:c)&&(h=ao(t,h,-i,h&&h.line==e.line?o:null)),h&&h.line==e.line&&(d=ne(h,n))&&(i<0?d<0:d>0))return oo(t,h,e,i,r)}var f=l.find(i<0?-1:1);return(i<0?c:u)&&(f=ao(t,f,i,f.line==e.line?o:null)),f?oo(t,f,e,i,r):null}}return e}function so(t,e,n,i,r){var o=i||1,s=oo(t,e,n,o,r)||!r&&oo(t,e,n,o,!0)||oo(t,e,n,-o,r)||!r&&oo(t,e,n,-o,!0);return s||(t.cantEdit=!0,ee(t.first,0))}function ao(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?le(t,ee(e.line-1)):null:n>0&&e.ch==(i||Vt(t,e.line)).text.length?e.line<t.first+t.size-1?ee(e.line+1,0):null:new ee(e.line,e.ch+n)}function lo(t){t.setSelection(ee(t.firstLine(),0),ee(t.lastLine()),G)}function co(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(e,n,r,o){e&&(i.from=le(t,e)),n&&(i.to=le(t,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),gt(t,"beforeChange",t,i),t.cm&&gt(t.cm,"beforeChange",t.cm,i),i.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function uo(t,e,n){if(t.cm){if(!t.cm.curOp)return er(t.cm,uo)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"))||(e=co(t,e,!0))){var i=ke&&!n&&function(t,e,n){var i=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=F(i,n)||(i||(i=[])).push(n)}})),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(ne(c.to,a.from)<0||ne(c.from,a.to)>0)){var u=[l,1],h=ne(c.from,a.from),d=ne(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)ho(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text,origin:e.origin});else ho(t,e)}}function ho(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ne(e.from,e.to)){var n=Ar(t,e);Br(t,e,n,t.cm?t.cm.curOp.id:NaN),go(t,e,n,Pe(t,e));var i=[];Ir(t,(function(t,n){n||-1!=F(i,t.history)||(bo(t.history,e),i.push(t.history)),go(t,e,null,Pe(t,e))}))}}function fo(t,e,n){var i=t.cm&&t.cm.state.suppressEdits;if(!i||n){for(var r,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,c=0;c<a.length&&(r=a[c],n?!r.ranges||r.equals(t.sel):r.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(i)return void a.push(r);break}if(Gr(r,l),n&&!r.equals(t.sel))return void to(t,r,{clearRedo:!1});s=r}var u=[];Gr(s,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var h=yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"),d=function(n){var i=r.changes[n];if(i.origin=e,h&&!co(t,i,!1))return a.length=0,{};u.push(Hr(t,i));var o=n?Ar(t,i):q(a);go(t,i,o,Yr(t,i)),!n&&t.cm&&t.cm.scrollIntoView({from:i.from,to:Pr(i)});var s=[];Ir(t,(function(t,e){e||-1!=F(s,t.history)||(bo(t.history,i),s.push(t.history)),go(t,i,null,Yr(t,i))}))},f=r.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function po(t,e){if(0!=e&&(t.first+=e,t.sel=new Or(K(t.sel.ranges,(function(t){return new Sr(ee(t.anchor.line+e,t.anchor.ch),ee(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){di(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)fi(t.cm,i,"gutter")}}function go(t,e,n,i){if(t.cm&&!t.cm.curOp)return er(t.cm,go)(t,e,n,i);if(e.to.line<t.first)po(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);po(t,r),e={from:ee(t.first,0),to:ee(e.to.line+r,e.to.ch),text:[q(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:ee(o,Vt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Ut(t,e.from,e.to),n||(n=Ar(t,e)),t.cm?function(t,e,n){var i=t.doc,r=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=Zt(He(Vt(i,o.line))),i.iter(l,s.line+1,(function(t){if(t==r.maxLine)return a=!0,!0})));i.sel.contains(e.from,e.to)>-1&&vt(t);Nr(i,e,n,li(t)),t.options.lineWrapping||(i.iter(l,o.line+e.text.length,(function(t){var e=Xe(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0));(function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,i=e-1;i>n;i--){var r=Vt(t,i).stateAfter;if(r&&(!(r instanceof ue)||i+r.lookAhead<e)){n=i+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}})(i,o.line),rr(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?di(t):o.line!=s.line||1!=e.text.length||Dr(t.doc,e)?di(t,o.line,s.line+1,c):fi(t,o.line,"text");var u=yt(t,"changes"),h=yt(t,"change");if(h||u){var d={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};h&&cn(t,"change",t,d),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}(t.cm,e,i):Nr(t,e,i),eo(t,n,G),t.cantEdit&&so(t,ee(t.firstLine(),0))&&(t.cantEdit=!1)}}function mo(t,e,n,i,r){var o;i||(i=n),ne(i,n)<0&&(n=(o=[i,n])[0],i=o[1]),"string"==typeof e&&(e=t.splitLines(e)),uo(t,{from:n,to:i,text:e,origin:r})}function vo(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function yo(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||((o=t[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)vo(o.ranges[a].anchor,e,n,i),vo(o.ranges[a].head,e,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=ee(c.from.line+i,c.from.ch),c.to=ee(c.to.line+i,c.to.ch);else if(e<=c.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function bo(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;yo(t.done,n,i,r),yo(t.undone,n,i,r)}function xo(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=Vt(t,ae(t,e)):r=Zt(e),null==r?null:(i(o,r)&&t.cm&&fi(t.cm,r,n),o)}function wo(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function ko(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}Sr.prototype.from=function(){return se(this.anchor,this.head)},Sr.prototype.to=function(){return oe(this.anchor,this.head)},Sr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},wo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,Ue(r),cn(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},ko.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),s=i.height;if(i.removeInner(t,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof wo))){var a=[];this.collapse(a),this.children=[new wo(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new wo(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new ko(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=F(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var i=new ko(t.children);i.parent=t,t.children=[i,e],t=i}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t);if(r.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var Oo=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};function So(t,e,n){$e(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&ji(t,n)}Oo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=Zt(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=kn(this);Kt(n,Math.max(0,n.height-o)),t&&(tr(t,(function(){So(t,n,-o),fi(t,i,"widget")})),cn(t,"lineWidgetCleared",t,this,i))}},Oo.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=kn(this)-e;r&&(We(this.doc,i)||Kt(i,i.height+r),n&&tr(n,(function(){n.curOp.forceUpdate=!0,So(n,i,r),cn(n,"lineWidgetChanged",n,t,Zt(i))})))},bt(Oo);var Mo=0,Co=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Mo};function Po(t,e,n,i,r){if(i&&i.shared)return function(t,e,n,i,r){(i=z(i)).shared=!1;var o=[Po(t,e,n,i,r)],s=o[0],a=i.widgetNode;return Ir(t,(function(t){a&&(i.widgetNode=a.cloneNode(!0)),o.push(Po(t,le(t,e),le(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=q(o)})),new To(o,s)}(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return er(t.cm,Po)(t,e,n,i,r);var o=new Co(t,r),s=ne(e,n);if(i&&z(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Re(t,e.line,e,n,o)||e.line!=n.line&&Re(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Oe=!0}o.addToHistory&&Br(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,n.line+1,(function(t){c&&o.collapsed&&!c.options.lineWrapping&&He(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&Kt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new Se(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&t.iter(e.line,n.line+1,(function(e){We(t,e)&&Kt(e,0)})),o.clearOnEnter&&dt(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(ke=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++Mo,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)di(c,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=e.line;u<=n.line;u++)fi(c,u,"text");o.atomic&&io(c.doc),cn(c,"markerAdded",c,o)}return o}Co.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Vi(t),yt(this,"clear")){var n=this.find();n&&cn(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Me(s.markedSpans,this);t&&!this.collapsed?fi(t,Zt(s),"text"):t&&(null!=a.to&&(r=Zt(s)),null!=a.from&&(i=Zt(s))),s.markedSpans=Ce(s.markedSpans,a),null==a.from&&this.collapsed&&!We(this.doc,s)&&t&&Kt(s,ri(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=He(this.lines[l]),u=Xe(c);u>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&di(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&io(t.doc)),t&&cn(t,"markerCleared",t,this,i,r),e&&Ui(t),this.parent&&this.parent.clear()}},Co.prototype.find=function(t,e){var n,i;null==t&&"bookmark"==this.type&&(t=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=Me(o.markedSpans,this);if(null!=s.from&&(n=ee(e?o:Zt(o),s.from),-1==t))return n;if(null!=s.to&&(i=ee(e?o:Zt(o),s.to),1==t))return i}return n&&{from:n,to:i}},Co.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,i=this.doc.cm;e&&i&&tr(i,(function(){var r=e.line,o=Zt(e.line),s=En(i,o);if(s&&(Hn(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!We(n.doc,r)&&null!=n.height){var a=n.height;n.height=null;var l=kn(n)-a;l&&Kt(r,r.height+l)}cn(i,"markerChanged",i,t)}))},Co.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=F(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Co.prototype.detachLine=function(t){if(this.lines.splice(F(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},bt(Co);var To=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function Ao(t){return t.findMarks(ee(t.first,0),t.clipPos(ee(t.lastLine())),(function(t){return t.parent}))}function Lo(t){for(var e=function(e){var n=t[e],i=[n.primary.doc];Ir(n.primary.doc,(function(t){return i.push(t)}));for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==F(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<t.length;n++)e(n)}To.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();cn(this,"clear")}},To.prototype.find=function(t,e){return this.primary.find(t,e)},bt(To);var jo=0,Eo=function(t,e,n,i,r){if(!(this instanceof Eo))return new Eo(t,e,n,i,r);null==n&&(n=0),ko.call(this,[new wo([new Ve("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ee(n,0);this.sel=Cr(o),this.history=new Rr(null),this.id=++jo,this.modeOption=e,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Nr(this,{from:o,to:o,text:t}),to(this,Cr(o),G)};Eo.prototype=J(ko.prototype,{constructor:Eo,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=qt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:ir((function(t){var e=ee(this.first,0),n=this.first+this.size-1;uo(this,{from:e,to:ee(n,Vt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Di(this.cm,0,0),to(this,Cr(e),G)})),replaceRange:function(t,e,n,i){mo(this,t,e=le(this,e),n=n?le(this,n):e,i)},getRange:function(t,e,n){var i=Ut(this,le(this,t),le(this,e));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Qt(this,t))return Vt(this,t)},getLineNumber:function(t){return Zt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Vt(this,t)),He(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return le(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ir((function(t,e,n){Jr(this,le(this,"number"==typeof t?ee(t,e||0):t),null,n)})),setSelection:ir((function(t,e,n){Jr(this,le(this,t),le(this,e||t),n)})),extendSelection:ir((function(t,e,n){qr(this,le(this,t),e&&le(this,e),n)})),extendSelections:ir((function(t,e){Kr(this,ce(this,t),e)})),extendSelectionsBy:ir((function(t,e){Kr(this,ce(this,K(this.sel.ranges,t)),e)})),setSelections:ir((function(t,e,n){if(t.length){for(var i=[],r=0;r<t.length;r++)i[r]=new Sr(le(this,t[r].anchor),le(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),to(this,Mr(this.cm,i,e),n)}})),addSelection:ir((function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new Sr(le(this,t),le(this,e||t))),to(this,Mr(this.cm,i,i.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=Ut(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Ut(this,n[i].from(),n[i].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:ir((function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}for(var a=e&&"end"!=e&&function(t,e,n){for(var i=[],r=ee(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=Lr(a.from,r,o),c=Lr(Pr(a),r,o);if(r=a.to,o=c,"around"==n){var u=t.sel.ranges[s],h=ne(u.head,u.anchor)<0;i[s]=new Sr(h?c:l,h?l:c)}else i[s]=new Sr(l,l)}return new Or(i,t.sel.primIndex)}(this,i,e),l=i.length-1;l>=0;l--)uo(this,i[l]);a?Qr(this,a):this.cm&&Ei(this.cm)})),undo:ir((function(){fo(this,"undo")})),redo:ir((function(){fo(this,"redo")})),undoSelection:ir((function(){fo(this,"undo",!0)})),redoSelection:ir((function(){fo(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new Rr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Vr(this.history.done),undone:Vr(this.history.undone)}},setHistory:function(t){var e=this.history=new Rr(this.history.maxGeneration);e.done=Vr(t.done.slice(0),null,!0),e.undone=Vr(t.undone.slice(0),null,!0)},setGutterMarker:ir((function(t,e,n){return xo(this,t,"gutter",(function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&nt(i)&&(t.gutterMarkers=null),!0}))})),clearGutter:ir((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&xo(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,nt(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!Qt(this,t))return null;if(e=t,!(t=Vt(this,t)))return null}else if(null==(e=Zt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ir((function(t,e,n){return xo(this,t,"gutter"==e?"gutter":"class",(function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(S(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0}))})),removeLineClass:ir((function(t,e,n){return xo(this,t,"gutter"==e?"gutter":"class",(function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(S(n));if(!o)return!1;var s=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0}))})),addLineWidget:ir((function(t,e,n){return function(t,e,n,i){var r=new Oo(t,n,i),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),xo(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!We(t,e)){var i=$e(e)<t.scrollTop;Kt(e,e.height+kn(r)),i&&ji(o,r.height),o.curOp.forceUpdate=!0}return!0})),o&&cn(o,"lineWidgetAdded",o,r,"number"==typeof e?e:Zt(e)),r}(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Po(this,le(this,t),le(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Po(this,t=le(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Vt(this,(t=le(this,t)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=le(this,t),e=le(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r})),i},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)})),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+i;if(o>t)return e=t,!0;t-=o,++n})),le(this,ee(n,e))},indexFromPos:function(t){var e=(t=le(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new Eo(qt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new Eo(qt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(ne(o,s)){var a=Po(t,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,Ao(this)),i},unlinkDoc:function(t){if(t instanceof Ts&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Lo(Ao(this));break}}if(t.history==this.history){var n=[t.id];Ir(t,(function(t){return n.push(t.id)}),!0),t.history=new Rr(null),t.history.done=Vr(this.history.done,n),t.history.undone=Vr(this.history.undone,n)}},iterLinkedDocs:function(t){Ir(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Et(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ir((function(t){var e;("rtl"!=t&&(t="ltr"),t!=this.direction)&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&tr(e=this.cm,(function(){zr(e),di(e)})))}))}),Eo.prototype.eachLine=Eo.prototype.iter;var Do=0;function No(t){var e=this;if(Io(e),!mt(e,t)&&!On(e.display,t)){xt(t),s&&(Do=+new Date);var n=ui(e,t,!0),i=t.dataTransfer.files;if(n&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,l=function(t,i){if(!e.options.allowDropFileTypes||-1!=F(e.options.allowDropFileTypes,t.type)){var s=new FileReader;s.onload=er(e,(function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[i]=t,++a==r){var l={from:n=le(e.doc,n),to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};uo(e.doc,l),Qr(e.doc,Cr(n,Pr(l)))}})),s.readAsText(t)}},c=0;c<r;++c)l(i[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var u=t.dataTransfer.getData("Text");if(u){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),eo(e.doc,Cr(n,n)),h)for(var d=0;d<h.length;++d)mo(e.doc,"",h[d].anchor,h[d].head,"drag");e.replaceSelection(u,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Io(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function _o(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<e.length;i++){var r=e[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var zo=!1;function Ro(){var t;zo||(dt(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,_o(Ho)}),100))})),dt(window,"blur",(function(){return _o(Ci)})),zo=!0)}function Ho(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Fo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bo=0;Bo<10;Bo++)Fo[Bo+48]=Fo[Bo+96]=String(Bo);for(var Wo=65;Wo<=90;Wo++)Fo[Wo]=String.fromCharCode(Wo);for(var Go=1;Go<=12;Go++)Fo[Go+111]=Fo[Go+63235]="F"+Go;var $o={};function Xo(t){var e,n,i,r,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Yo(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=K(n.split(" "),Xo),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var c in e)t[c]=e[c];return t}function Vo(t,e,n,i){var r=(e=Zo(e)).call?e.call(t,i):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Vo(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var s=Vo(t,e.fallthrough[o],n,i);if(s)return s}}}function Uo(t){var e="string"==typeof t?t:Fo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function qo(t,e,n){var i=t;return e.altKey&&"Alt"!=i&&(t="Alt-"+t),(k?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(t="Ctrl-"+t),(k?e.ctrlKey:e.metaKey)&&"Cmd"!=i&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=i&&(t="Shift-"+t),t}function Ko(t,e){if(h&&34==t.keyCode&&t.char)return!1;var n=Fo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),qo(n,t,e))}function Zo(t){return"string"==typeof t?$o[t]:t}function Jo(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&ne(o.from,q(i).to)<=0;){var s=i.pop();if(ne(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}tr(t,(function(){for(var e=i.length-1;e>=0;e--)mo(t.doc,"",i[e].from,i[e].to,"+delete");Ei(t)}))}function Qo(t,e,n){var i=ot(t.text,e+n,n);return i<0||i>t.text.length?null:i}function ts(t,e,n){var i=Qo(t,e.ch,n);return null==i?null:new ee(e.line,i,n<0?"after":"before")}function es(t,e,n,i,r){if(t){var o=ut(n,e.doc.direction);if(o){var s,a=r<0?q(o):o[0],l=r<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var c=Dn(e,n);s=r<0?n.text.length-1:0;var u=Nn(e,c,s).top;s=st((function(t){return Nn(e,c,t).top==u}),r<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Qo(n,s,1))}else s=r<0?a.to:a.from;return new ee(i,s,l)}}return new ee(i,r<0?n.text.length:0,r<0?"before":"after")}$o.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},$o.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},$o.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},$o.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},$o.default=y?$o.macDefault:$o.pcDefault;var ns={selectAll:lo,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),G)},killLine:function(t){return Jo(t,(function(e){if(e.empty()){var n=Vt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:ee(e.head.line+1,0)}:{from:e.head,to:ee(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return Jo(t,(function(e){return{from:ee(e.from().line,0),to:le(t.doc,ee(e.to().line+1,0))}}))},delLineLeft:function(t){return Jo(t,(function(t){return{from:ee(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return Jo(t,(function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return Jo(t,(function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(ee(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(ee(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return is(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return rs(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var n=Vt(t.doc,e),i=function(t){for(var e;e=_e(t);)t=e.find(1,!0).line;return t}(n);i!=n&&(e=Zt(i));return es(!0,t,n,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),X)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),X)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\S/)?rs(t,e.head):i}),X)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=R(t.getLine(o.line),o.ch,i);e.push(U(i-s%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return tr(t,(function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)if(e[i].empty()){var r=e[i].head,o=Vt(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new ee(r.line,r.ch-1)),r.ch>0)r=new ee(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),ee(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=Vt(t.doc,r.line-1).text;s&&(r=new ee(r.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),ee(r.line-1,s.length-1),r,"+transpose"))}n.push(new Sr(r,r))}t.setSelections(n)}))},newlineAndIndent:function(t){return tr(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var i=0;i<e.length;i++)t.indentLine(e[i].from().line,null,!0);Ei(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function is(t,e){var n=Vt(t.doc,e),i=He(n);return i!=n&&(e=Zt(i)),es(!0,t,i,e,1)}function rs(t,e){var n=is(t,e.line),i=Vt(t.doc,n.line),r=ut(i,t.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return ee(n.line,s?0:o,n.sticky)}return n}function os(t,e,n){if("string"==typeof e&&!(e=ns[e]))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=W}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}var ss=new H;function as(t,e,n,i){var r=t.state.keySeq;if(r){if(Uo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:ss.set(50,(function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())})),ls(t,r+" "+e,n,i))return!0}return ls(t,e,n,i)}function ls(t,e,n,i){var r=function(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=Vo(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&Vo(e,t.options.extraKeys,n,t)||Vo(e,t.options.keyMap,n,t)}(t,e,i);return"multi"==r&&(t.state.keySeq=e),"handled"==r&&cn(t,"keyHandled",t,e,n),"handled"!=r&&"multi"!=r||(xt(n),ki(t)),!!r}function cs(t,e){var n=Ko(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?as(t,"Shift-"+n,e,(function(e){return os(t,e,!0)}))||as(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return os(t,e)})):as(t,n,e,(function(e){return os(t,e)})))}var us=null;function hs(t){var e=this;if(e.curOp.focus=E(),!mt(e,t)){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=cs(e,t);h&&(us=i?n:null,!i&&88==n&&!Nt&&(y?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(C(e,"CodeMirror-crosshair"),pt(document,"keyup",n),pt(document,"mouseover",n))}D(e,"CodeMirror-crosshair"),dt(document,"keyup",n),dt(document,"mouseover",n)}(e)}}function ds(t){16==t.keyCode&&(this.doc.sel.shift=!1),mt(this,t)}function fs(t){var e=this;if(!(On(e.display,t)||mt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(h&&n==us)return us=null,void xt(t);if(!h||t.which&&!(t.which<10)||!cs(e,t)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(function(t,e,n){return as(t,"'"+n+"'",e,(function(e){return os(t,e,!0)}))}(e,t,r)||e.display.input.onKeyPress(t))}}}var ps,gs,ms=function(t,e,n){this.time=t,this.pos=e,this.button=n};function vs(t){var e=this,n=e.display;if(!(mt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,On(n,t))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!xs(e,t)){var i=ui(e,t),r=Mt(t),o=i?function(t,e){var n=+new Date;return gs&&gs.compare(n,t,e)?(ps=gs=null,"triple"):ps&&ps.compare(n,t,e)?(gs=new ms(n,t,e),ps=null,"double"):(ps=new ms(n,t,e),gs=null,"single")}(i,r):"single";window.focus(),1==r&&e.state.selectingText&&e.state.selectingText(t),i&&function(t,e,n,i,r){var o="Click";"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o);return as(t,qo(o=(1==e?"Left":2==e?"Middle":"Right")+o,r),r,(function(e){if("string"==typeof e&&(e=ns[e]),!e)return!1;var i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i=e(t,n)!=W}finally{t.state.suppressEdits=!1}return i}))}(e,r,i,o,t)||(1==r?i?function(t,e,n,i){s?setTimeout(_(Oi,t),0):t.curOp.focus=E();var r,o=function(t,e,n){var i=t.getOption("configureMouse"),r=i?i(t,e,n):{};if(null==r.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}(null==r.extend||t.doc.extend)&&(r.extend=t.doc.extend||n.shiftKey);null==r.addNew&&(r.addNew=y?n.metaKey:n.ctrlKey);null==r.moveOnDrag&&(r.moveOnDrag=!(y?n.altKey:n.ctrlKey));return r}(t,n,i),c=t.doc.sel;t.options.dragDrop&&Tt&&!t.isReadOnly()&&"single"==n&&(r=c.contains(e))>-1&&(ne((r=c.ranges[r]).from(),e)<0||e.xRel>0)&&(ne(r.to(),e)>0||e.xRel<0)?function(t,e,n,i){var r=t.display,o=!1,c=er(t,(function(e){l&&(r.scroller.draggable=!1),t.state.draggingText=!1,pt(r.wrapper.ownerDocument,"mouseup",c),pt(r.wrapper.ownerDocument,"mousemove",u),pt(r.scroller,"dragstart",h),pt(r.scroller,"drop",c),o||(xt(e),i.addNew||qr(t.doc,n,null,null,i.extend),l||s&&9==a?setTimeout((function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()}),20):r.input.focus())})),u=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},h=function(){return o=!0};l&&(r.scroller.draggable=!0);t.state.draggingText=c,c.copy=!i.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop();dt(r.wrapper.ownerDocument,"mouseup",c),dt(r.wrapper.ownerDocument,"mousemove",u),dt(r.scroller,"dragstart",h),dt(r.scroller,"drop",c),Si(t),setTimeout((function(){return r.input.focus()}),20)}(t,i,e,o):function(t,e,n,i){var r=t.display,o=t.doc;xt(e);var s,a,l=o.sel,c=l.ranges;i.addNew&&!i.extend?(a=o.sel.contains(n),s=a>-1?c[a]:new Sr(n,n)):(s=o.sel.primary(),a=o.sel.primIndex);if("rectangle"==i.unit)i.addNew||(s=new Sr(n,n)),n=ui(t,e,!0,!0),a=-1;else{var u=ys(t,n,i.unit);s=i.extend?Ur(s,u.anchor,u.head,i.extend):u}i.addNew?-1==a?(a=c.length,to(o,Mr(t,c.concat([s]),a),{scroll:!1,origin:"*mouse"})):c.length>1&&c[a].empty()&&"char"==i.unit&&!i.extend?(to(o,Mr(t,c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Zr(o,a,s,$):(a=0,to(o,new Or([s],0),$),l=o.sel);var h=n;function d(e){if(0!=ne(h,e))if(h=e,"rectangle"==i.unit){for(var r=[],c=t.options.tabSize,u=R(Vt(o,n.line).text,n.ch,c),d=R(Vt(o,e.line).text,e.ch,c),f=Math.min(u,d),p=Math.max(u,d),g=Math.min(n.line,e.line),m=Math.min(t.lastLine(),Math.max(n.line,e.line));g<=m;g++){var v=Vt(o,g).text,y=Y(v,f,c);f==p?r.push(new Sr(ee(g,y),ee(g,y))):v.length>y&&r.push(new Sr(ee(g,y),ee(g,Y(v,p,c))))}r.length||r.push(new Sr(n,n)),to(o,Mr(t,l.ranges.slice(0,a).concat(r),a),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,x=s,w=ys(t,e,i.unit),k=x.anchor;ne(w.anchor,k)>0?(b=w.head,k=se(x.from(),w.anchor)):(b=w.anchor,k=oe(x.to(),w.head));var O=l.ranges.slice(0);O[a]=function(t,e){var n=e.anchor,i=e.head,r=Vt(t.doc,n.line);if(0==ne(n,i)&&n.sticky==i.sticky)return e;var o=ut(r);if(!o)return e;var s=lt(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return e;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return e;if(i.line!=n.line)l=(i.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=lt(o,i.ch,i.sticky),h=u-s||(i.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?h<0:h>0}var d=o[c+(l?-1:0)],f=l==(1==d.level),p=f?d.from:d.to,g=f?"after":"before";return n.ch==p&&n.sticky==g?e:new Sr(new ee(n.line,p,g),i)}(t,new Sr(le(o,k),b)),to(o,Mr(t,O,a),$)}}var f=r.wrapper.getBoundingClientRect(),p=0;function g(e){t.state.selectingText=!1,p=1/0,e&&(xt(e),r.input.focus()),pt(r.wrapper.ownerDocument,"mousemove",m),pt(r.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var m=er(t,(function(e){0!==e.buttons&&Mt(e)?function e(n){var s=++p,a=ui(t,n,!0,"rectangle"==i.unit);if(a)if(0!=ne(a,h)){t.curOp.focus=E(),d(a);var l=Ai(r,o);(a.line>=l.to||a.line<l.from)&&setTimeout(er(t,(function(){p==s&&e(n)})),150)}else{var c=n.clientY<f.top?-20:n.clientY>f.bottom?20:0;c&&setTimeout(er(t,(function(){p==s&&(r.scroller.scrollTop+=c,e(n))})),50)}}(e):g(e)})),v=er(t,g);t.state.selectingText=v,dt(r.wrapper.ownerDocument,"mousemove",m),dt(r.wrapper.ownerDocument,"mouseup",v)}(t,i,e,o)}(e,i,o,t):St(t)==n.scroller&&xt(t):2==r?(i&&qr(e.doc,i),setTimeout((function(){return n.input.focus()}),20)):3==r&&(O?e.display.input.onContextMenu(t):Si(e)))}}function ys(t,e,n){if("char"==n)return new Sr(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Sr(ee(e.line,0),le(t.doc,ee(e.line+1,0)));var i=n(t,e);return new Sr(i.from,i.to)}function bs(t,e,n,i){var r,o;if(e.touches)r=e.touches[0].clientX,o=e.touches[0].clientY;else try{r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&xt(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!yt(t,n))return kt(e);o-=a.top-s.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return gt(t,n,t,Jt(t.doc,o),t.display.gutterSpecs[l].className,e),kt(e)}}function xs(t,e){return bs(t,e,"gutterClick",!0)}function ws(t,e){On(t.display,e)||function(t,e){if(!yt(t,"gutterContextMenu"))return!1;return bs(t,e,"gutterContextMenu",!1)}(t,e)||mt(t,e,"contextmenu")||O||t.display.input.onContextMenu(e)}function ks(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(t)}ms.prototype.compare=function(t,e,n){return this.time+400>t&&0==ne(e,this.pos)&&n==this.button};var Os={toString:function(){return"CodeMirror.Init"}},Ss={},Ms={};function Cs(t,e,n){if(!e!=!(n&&n!=Os)){var i=t.display.dragFunctions,r=e?dt:pt;r(t.display.scroller,"dragstart",i.start),r(t.display.scroller,"dragenter",i.enter),r(t.display.scroller,"dragover",i.over),r(t.display.scroller,"dragleave",i.leave),r(t.display.scroller,"drop",i.drop)}}function Ps(t){t.options.lineWrapping?(D(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(C(t.display.wrapper,"CodeMirror-wrap"),Ye(t)),ci(t),di(t),Bn(t),setTimeout((function(){return Wi(t)}),100)}function Ts(t,e){var n=this;if(!(this instanceof Ts))return new Ts(t,e);this.options=e=e?z(e):{},z(Ss,e,!1);var i=e.value;"string"==typeof i?i=new Eo(i,e.mode,null,e.lineSeparator,e.direction):e.mode&&(i.modeOption=e.mode),this.doc=i;var r=new Ts.inputStyles[e.inputStyle](this),o=this.display=new vr(t,i,r,e);for(var c in o.wrapper.CodeMirror=this,ks(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Xi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new H,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(t){var e=t.display;dt(e.scroller,"mousedown",er(t,vs)),dt(e.scroller,"dblclick",s&&a<11?er(t,(function(e){if(!mt(t,e)){var n=ui(t,e);if(n&&!xs(t,e)&&!On(t.display,e)){xt(e);var i=t.findWordAt(n);qr(t.doc,i.anchor,i.head)}}})):function(e){return mt(t,e)||xt(e)});dt(e.scroller,"contextmenu",(function(e){return ws(t,e)}));var n,i={end:0};function r(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),(i=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return n*n+i*i>400}dt(e.scroller,"touchstart",(function(r){if(!mt(t,r)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(r)&&!xs(t,r)){e.input.ensurePolled(),clearTimeout(n);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-i.end<=300?i:null},1==r.touches.length&&(e.activeTouch.left=r.touches[0].pageX,e.activeTouch.top=r.touches[0].pageY)}})),dt(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),dt(e.scroller,"touchend",(function(n){var i=e.activeTouch;if(i&&!On(e,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var s,a=t.coordsChar(e.activeTouch,"page");s=!i.prev||o(i,i.prev)?new Sr(a,a):!i.prev.prev||o(i,i.prev.prev)?t.findWordAt(a):new Sr(ee(a.line,0),le(t.doc,ee(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),xt(n)}r()})),dt(e.scroller,"touchcancel",r),dt(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(_i(t,e.scroller.scrollTop),Ri(t,e.scroller.scrollLeft,!0),gt(t,"scroll",t))})),dt(e.scroller,"mousewheel",(function(e){return kr(t,e)})),dt(e.scroller,"DOMMouseScroll",(function(e){return kr(t,e)})),dt(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){mt(t,e)||Ot(e)},over:function(e){mt(t,e)||(!function(t,e){var n=ui(t,e);if(n){var i=document.createDocumentFragment();bi(t,n,i),t.display.dragCursor||(t.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),T(t.display.dragCursor,i)}}(t,e),Ot(e))},start:function(e){return function(t,e){if(s&&(!t.state.draggingText||+new Date-Do<100))Ot(e);else if(!mt(t,e)&&!On(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!d)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(t,e)},drop:er(t,No),leave:function(e){mt(t,e)||Io(t)}};var l=e.input.getField();dt(l,"keyup",(function(e){return ds.call(t,e)})),dt(l,"keydown",er(t,hs)),dt(l,"keypress",er(t,fs)),dt(l,"focus",(function(e){return Mi(t,e)})),dt(l,"blur",(function(e){return Ci(t,e)}))}(this),Ro(),Vi(this),this.curOp.forceUpdate=!0,_r(this,i),e.autofocus&&!v||this.hasFocus()?setTimeout(_(Mi,this),20):Ci(this),Ms)Ms.hasOwnProperty(c)&&Ms[c](n,e[c],Os);fr(this),e.finishInit&&e.finishInit(this);for(var u=0;u<As.length;++u)As[u](n);Ui(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ts.defaults=Ss,Ts.optionHandlers=Ms;var As=[];function Ls(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=pe(t,e).state:n="prev");var s=t.options.tabSize,a=Vt(o,e),l=R(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==W||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?R(Vt(o,e-1).text,null,s):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",d=0;if(t.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)d+=s,h+="\t";if(d<c&&(h+=U(c-d)),h!=u)return mo(o,h,ee(e,0),ee(e,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==e&&g.head.ch<u.length){var m=ee(e,u.length);Zr(o,p,new Sr(m,m));break}}}Ts.defineInitHook=function(t){return As.push(t)};var js=null;function Es(t){js=t}function Ds(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var s=+new Date-200,a="paste"==r||t.state.pasteIncoming>s,l=Et(e),c=null;if(a&&i.ranges.length>1)if(js&&js.text.join("\n")==e){if(i.ranges.length%js.text.length==0){c=[];for(var u=0;u<js.text.length;u++)c.push(o.splitLines(js.text[u]))}}else l.length==i.ranges.length&&t.options.pasteLinesPerSelection&&(c=K(l,(function(t){return[t]})));for(var h=t.curOp.updateInput,d=i.ranges.length-1;d>=0;d--){var f=i.ranges[d],p=f.from(),g=f.to();f.empty()&&(n&&n>0?p=ee(p.line,p.ch-n):t.state.overwrite&&!a?g=ee(g.line,Math.min(Vt(o,g.line).text.length,g.ch+q(l).length)):a&&js&&js.lineWise&&js.text.join("\n")==e&&(p=g=ee(p.line,0)));var m={from:p,to:g,text:c?c[d%c.length]:l,origin:r||(a?"paste":t.state.cutIncoming>s?"cut":"+input")};uo(t.doc,m),cn(t,"inputRead",t,m)}e&&!a&&Is(t,e),Ei(t),t.curOp.updateInput<2&&(t.curOp.updateInput=h),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Ns(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||tr(e,(function(){return Ds(e,n,0,null,"paste")})),!0}function Is(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Ls(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Vt(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Ls(t,r.head.line,"smart"));s&&cn(t,"electricInput",t,r.head.line)}}}function _s(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:ee(r,0),head:ee(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function zs(t,e,n,i){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",i?"":"off"),t.setAttribute("spellcheck",!!e)}function Rs(){var t=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=A("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),zs(t),e}function Hs(t,e,n,i,r){var o=e,s=n,a=Vt(t,e.line);function l(i){var o,s;if(null==(o=r?function(t,e,n,i){var r=ut(e,t.doc.direction);if(!r)return ts(e,n,i);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=lt(r,n.ch,n.sticky),s=r[o];if("ltr"==t.doc.direction&&s.level%2==0&&(i>0?s.to>n.ch:s.from<n.ch))return ts(e,n,i);var a,l=function(t,n){return Qo(e,t instanceof ee?t.ch:t,n)},c=function(n){return t.options.lineWrapping?(a=a||Dn(t,e),Qn(t,e,a,n)):{begin:0,end:e.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==s.level){var h=1==s.level==i<0,d=l(n,h?1:-1);if(null!=d&&(h?d<=s.to&&d<=u.end:d>=s.from&&d>=u.begin)){var f=h?"before":"after";return new ee(n.line,d,f)}}var p=function(t,e,i){for(var o=function(t,e){return e?new ee(n.line,l(t,1),"before"):new ee(n.line,t,"after")};t>=0&&t<r.length;t+=e){var s=r[t],a=e>0==(1!=s.level),c=a?i.begin:l(i.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),i.begin<=c&&c<i.end)return o(c,a)}},g=p(o+i,i,u);if(g)return g;var m=i>0?u.end:l(u.begin,-1);return null==m||i>0&&m==e.text.length||!(g=p(i>0?0:r.length-1,i,c(m)))?null:g}(t.cm,a,e,n):ts(a,e,n))){if(i||(s=e.line+n)<t.first||s>=t.first+t.size||(e=new ee(s,e.ch,e.sticky),!(a=Vt(t,s))))return!1;e=es(r,t.cm,a,e.line,n)}else e=o;return!0}if("char"==i)l();else if("column"==i)l(!0);else if("word"==i||"group"==i)for(var c=null,u="group"==i,h=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;!(n<0)||l(!d);d=!1){var f=a.text.charAt(e.ch)||"\n",p=et(f,h)?"w":u&&"\n"==f?"n":!u||/\s/.test(f)?null:"p";if(!u||d||p||(p="s"),c&&c!=p){n<0&&(n=1,l(),e.sticky="after");break}if(p&&(c=p),n>0&&!l(!d))break}var g=so(t,e,o,s,!0);return ie(o,g)&&(g.hitSide=!0),g}function Fs(t,e,n,i){var r,o,s=t.doc,a=e.left;if("page"==i){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*ri(t.display),3);r=(n>0?e.bottom:e.top)+n*c}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;(o=Zn(t,a,r)).outside;){if(n<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*n}return o}var Bs=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new H,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ws(t,e){var n=En(t,e.line);if(!n||n.hidden)return null;var i=Vt(t.doc,e.line),r=Ln(n,i,e.line),o=ut(i,t.doc.direction),s="left";o&&(s=lt(o,e.ch)%2?"right":"left");var a=zn(r.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Gs(t,e){return e&&(t.bad=!0),t}function $s(t,e,n){var i;if(e==t.display.lineDiv){if(!(i=t.display.lineDiv.childNodes[n]))return Gs(t.clipPos(ee(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return Xs(o,e,n)}}function Xs(t,e,n){var i=t.text.firstChild,r=!1;if(!e||!j(i,e))return Gs(ee(Zt(t.line),0),!0);if(e==i&&(r=!0,e=i.childNodes[n],n=0,!e)){var o=t.rest?q(t.rest):t.line;return Gs(ee(Zt(o),o.text.length),r)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var l=t.measure,c=l.maps;function u(e,n,i){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var u=Zt(r<0?t.line:t.rest[r]),h=o[s]+i;return(i<0||a!=e)&&(h=o[s+(i?1:0)]),ee(u,h)}}}var h=u(s,a,n);if(h)return Gs(h,r);for(var d=a.nextSibling,f=s?s.nodeValue.length-n:0;d;d=d.nextSibling){if(h=u(d,d.firstChild,0))return Gs(ee(h.line,h.ch-f),r);f+=d.textContent.length}for(var p=a.previousSibling,g=n;p;p=p.previousSibling){if(h=u(p,p.firstChild,-1))return Gs(ee(h.line,h.ch+g),r);g+=p.textContent.length}}Bs.prototype.init=function(t){var e=this,n=this,i=n.cm,r=n.div=t.lineDiv;function o(t){if(!mt(i,t)){if(i.somethingSelected())Es({lineWise:!1,text:i.getSelections()}),"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=_s(i);Es({lineWise:!0,text:e.text}),"cut"==t.type&&i.operation((function(){i.setSelections(e.ranges,0,G),i.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var o=js.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var s=Rs(),a=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),a.value=js.text.join("\n");var l=document.activeElement;I(a),setTimeout((function(){i.display.lineSpace.removeChild(s),l.focus(),l==r&&n.showPrimarySelection()}),50)}}zs(r,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),dt(r,"paste",(function(t){mt(i,t)||Ns(t,i)||a<=11&&setTimeout(er(i,(function(){return e.updateFromDOM()})),20)})),dt(r,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),dt(r,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),dt(r,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),dt(r,"touchstart",(function(){return n.forceCompositionEnd()})),dt(r,"input",(function(){e.composing||e.readFromDOMSoon()})),dt(r,"copy",o),dt(r,"cut",o)},Bs.prototype.prepareSelection=function(){var t=yi(this.cm,!1);return t.focus=this.cm.state.focused,t},Bs.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Bs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Bs.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),r=i.from(),o=i.to();if(e.display.viewTo==e.display.viewFrom||r.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=$s(e,t.anchorNode,t.anchorOffset),a=$s(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=ne(se(s,a),r)||0!=ne(oe(s,a),o)){var l=e.display.view,c=r.line>=e.display.viewFrom&&Ws(e,r)||{node:l[0].measure.map[2],offset:0},u=o.line<e.display.viewTo&&Ws(e,o);if(!u){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var f,p=t.rangeCount&&t.getRangeAt(0);try{f=M(c.node,c.offset,u.offset,u.node)}catch(t){}f&&(!n&&e.state.focused?(t.collapse(c.node,c.offset),f.collapsed||(t.removeAllRanges(),t.addRange(f))):(t.removeAllRanges(),t.addRange(f)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Bs.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},Bs.prototype.showMultipleSelections=function(t){T(this.cm.display.cursorDiv,t.cursors),T(this.cm.display.selectionDiv,t.selection)},Bs.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Bs.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return j(this.div,e)},Bs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Bs.prototype.blur=function(){this.div.blur()},Bs.prototype.getField=function(){return this.div},Bs.prototype.supportsTouch=function(){return!0},Bs.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():tr(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}))},Bs.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Bs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(m&&u&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=$s(e,t.anchorNode,t.anchorOffset),i=$s(e,t.focusNode,t.focusOffset);n&&i&&tr(e,(function(){to(e.doc,Cr(n,i),G),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)}))}}},Bs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,i=this.cm,r=i.display,o=i.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>i.firstLine()&&(s=ee(s.line-1,Vt(i.doc,s.line-1).length)),a.ch==Vt(i.doc,a.line).text.length&&a.line<i.lastLine()&&(a=ee(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;s.line==r.viewFrom||0==(t=hi(i,s.line))?(e=Zt(r.view[0].line),n=r.view[0].node):(e=Zt(r.view[t].line),n=r.view[t-1].node.nextSibling);var l,c,u=hi(i,a.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=Zt(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!n)return!1;for(var h=i.doc.splitLines(function(t,e,n,i,r){var o="",s=!1,a=t.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function u(t){t&&(c(),o+=t)}function h(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void u(n);var o,d=e.getAttribute("cm-marker");if(d){var f=t.findMarks(ee(i,0),ee(r+1,0),(m=+d,function(t){return t.id==m}));return void(f.length&&(o=f[0].find(0))&&u(Ut(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&c();for(var g=0;g<e.childNodes.length;g++)h(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),p&&(s=!0)}else 3==e.nodeType&&u(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;h(e),e!=n;)e=e.nextSibling,l=!1;return o}(i,n,c,e,l)),d=Ut(i.doc,ee(e,0),ee(l,Vt(i.doc,l).text.length));h.length>1&&d.length>1;)if(q(h)==q(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),e++}for(var f=0,p=0,g=h[0],m=d[0],v=Math.min(g.length,m.length);f<v&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=q(h),b=q(d),x=Math.min(y.length-(1==h.length?f:0),b.length-(1==d.length?f:0));p<x&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==d.length&&e==s.line)for(;f&&f>s.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)f--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var w=ee(e,f),k=ee(l,d.length?q(d).length-p:0);return h.length>1||h[0]||ne(w,k)?(mo(i.doc,h,w,k,"+input"),!0):void 0},Bs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Bs.prototype.reset=function(){this.forceCompositionEnd()},Bs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Bs.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},Bs.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||tr(this.cm,(function(){return di(t.cm)}))},Bs.prototype.setUneditable=function(t){t.contentEditable="false"},Bs.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||er(this.cm,Ds)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Bs.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Bs.prototype.onContextMenu=function(){},Bs.prototype.resetPosition=function(){},Bs.prototype.needsContentAttribute=!0;var Ys=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new H,this.hasSelection=!1,this.composing=null};Ys.prototype.init=function(t){var e=this,n=this,i=this.cm;this.createField(t);var r=this.textarea;function o(t){if(!mt(i,t)){if(i.somethingSelected())Es({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var e=_s(i);Es({lineWise:!0,text:e.text}),"cut"==t.type?i.setSelections(e.ranges,null,G):(n.prevInput="",r.value=e.text.join("\n"),I(r))}"cut"==t.type&&(i.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(r.style.width="0px"),dt(r,"input",(function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),dt(r,"paste",(function(t){mt(i,t)||Ns(t,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())})),dt(r,"cut",o),dt(r,"copy",o),dt(t.scroller,"paste",(function(e){if(!On(t,e)&&!mt(i,e)){if(!r.dispatchEvent)return i.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,r.dispatchEvent(o)}})),dt(t.lineSpace,"selectstart",(function(e){On(t,e)||xt(e)})),dt(r,"compositionstart",(function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}})),dt(r,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Ys.prototype.createField=function(t){this.wrapper=Rs(),this.textarea=this.wrapper.firstChild},Ys.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,i=yi(t);if(t.options.moveInputWithCursor){var r=Un(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},Ys.prototype.showSelection=function(t){var e=this.cm.display;T(e.cursorDiv,t.cursors),T(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Ys.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&I(this.textarea),s&&a>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Ys.prototype.getField=function(){return this.textarea},Ys.prototype.supportsTouch=function(){return!1},Ys.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||E()!=this.textarea))try{this.textarea.focus()}catch(t){}},Ys.prototype.blur=function(){this.textarea.blur()},Ys.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ys.prototype.receivedFocus=function(){this.slowPoll()},Ys.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Ys.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}))},Ys.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!e.state.focused||Dt(n)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=n.value;if(r==i&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===r||y&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(i.length,r.length);l<c&&i.charCodeAt(l)==r.charCodeAt(l);)++l;return tr(e,(function(){Ds(e,r.slice(l),i.length-l,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Ys.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ys.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Ys.prototype.onContextMenu=function(t){var e=this,n=e.cm,i=n.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=ui(n,t),c=i.scroller.scrollTop;if(o&&!h){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&er(n,to)(n.doc,Cr(o),G);var u,d=r.style.cssText,f=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),i.input.focus(),l&&window.scrollTo(null,u),i.input.reset(),n.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=v,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),s&&a>=9&&m(),O){Ot(t);var g=function(){pt(window,"mouseup",g),setTimeout(v,20)};dt(window,"mouseup",g)}else setTimeout(v,50)}function m(){if(null!=r.selectionStart){var t=n.somethingSelected(),o="​"+(t?r.value:"");r.value="⇚",r.value=o,e.prevInput=t?"":"​",r.selectionStart=1,r.selectionEnd=o.length,i.selForContextMenu=n.doc.sel}}function v(){if(e.contextMenuPending==v&&(e.contextMenuPending=!1,e.wrapper.style.cssText=f,r.style.cssText=d,s&&a<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=c),null!=r.selectionStart)){(!s||s&&a<9)&&m();var t=0,o=function(){i.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==e.prevInput?er(n,lo)(n):t++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},Ys.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Ys.prototype.setUneditable=function(){},Ys.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,i,r,o){t.defaults[n]=i,r&&(e[n]=o?function(t,e,n){n!=Os&&r(t,e,n)}:r)}t.defineOption=n,t.Init=Os,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,jr(t)}),!0),n("indentUnit",2,jr,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){Er(t),Bn(t),di(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],i=t.doc.first;t.doc.iter((function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(-1==o)break;r=o+e.length,n.push(ee(i,o))}i++}));for(var r=n.length-1;r>=0;r--)mo(t.doc,e,n[r],ee(n[r].line,n[r].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=Os&&t.refresh()})),n("specialCharPlaceholder",Qe,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){ks(t),mr(t)}),!0),n("keyMap","default",(function(t,e,n){var i=Zo(e),r=n!=Os&&Zo(n);r&&r.detach&&r.detach(t,i),i.attach&&i.attach(t,r||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ps,!0),n("gutters",[],(function(t,e){t.display.gutterSpecs=pr(e,t.options.lineNumbers),mr(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?ai(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return Wi(t)}),!0),n("scrollbarStyle","native",(function(t){Xi(t),Wi(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=pr(t.options.gutters,e),mr(t)}),!0),n("firstLineNumber",1,mr,!0),n("lineNumberFormatter",(function(t){return t}),mr,!0),n("showCursorWhenSelecting",!1,vi,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(Ci(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,Cs),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,vi,!0),n("singleCursorHeightPerLine",!0,vi,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Er,!0),n("addModeClass",!1,Er,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,Er,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}(Ts),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var i=this.options,r=i[t];i[t]==n&&"mode"!=t||(i[t]=n,e.hasOwnProperty(t)&&er(this,e[t])(this,n,r),gt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Zo(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:nr((function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var i=0,r=n(e);i<t.length&&n(t[i])<=r;)i++;t.splice(i,0,e)}(this.state.overlays,{mode:i,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,di(this)})),removeOverlay:nr((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void di(this)}})),indentLine:nr((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Qt(this.doc,t)&&Ls(this,t,e,n)})),indentSelection:nr((function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(Ls(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&Ei(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Ls(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[i].from().ch>0&&Zr(this.doc,i,new Sr(o,c[i].to()),G)}}})),getTokenAt:function(t,e){return be(this,t,e)},getLineTokens:function(t,e){return be(this,ee(t),e,!0)},getTokenTypeAt:function(t){t=le(this.doc,t);var e,n=fe(this,Vt(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}i=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!n.hasOwnProperty(e))return i;var r=n[e],o=this.getModeAt(t);if("string"==typeof o[e])r[o[e]]&&i.push(r[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=r[o[e][s]];a&&i.push(a)}else o.helperType&&r[o.helperType]?i.push(r[o.helperType]):r[o.name]&&i.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==F(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(t,e){var n=this.doc;return pe(this,(t=ae(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Un(this,null==t?n.head:"object"==typeof t?le(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Vn(this,le(this.doc,t),e||"page")},coordsChar:function(t,e){return Zn(this,(t=Yn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Yn(this,{top:t,left:0},e||"page").top,Jt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var i,r=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,r=!0),i=Vt(this.doc,t)}else i=t;return Xn(this,i,{top:0,left:0},e||"page",n||r).top+(r?this.doc.height-$e(i):0)},defaultTextHeight:function(){return ri(this.display)},defaultCharWidth:function(){return oi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o,s,a,l=this.display,c=(t=Un(this,le(this.doc,t))).bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==i)c=t.top;else if("above"==i||"near"==i){var h=Math.max(l.wrapper.clientHeight,this.doc.height),d=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>h)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=h&&(c=t.bottom),u+e.offsetWidth>d&&(u=d-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==r?(u=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?u=0:"middle"==r&&(u=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),n&&(o=this,s={left:u,top:c,right:u+e.offsetWidth,bottom:c+e.offsetHeight},null!=(a=Li(o,s)).scrollTop&&_i(o,a.scrollTop),null!=a.scrollLeft&&Ri(o,a.scrollLeft))},triggerOnKeyDown:nr(hs),triggerOnKeyPress:nr(fs),triggerOnKeyUp:ds,triggerOnMouseDown:nr(vs),execCommand:function(t){if(ns.hasOwnProperty(t))return ns[t].call(null,this)},triggerElectric:nr((function(t){Is(this,t)})),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=le(this.doc,t),s=0;s<e&&!(o=Hs(this.doc,o,r,n,i)).hitSide;++s);return o},moveH:nr((function(t,e){var n=this;this.extendSelectionsBy((function(i){return n.display.shift||n.doc.extend||i.empty()?Hs(n.doc,i.head,t,e,n.options.rtlMoveVisually):t<0?i.from():i.to()}),X)})),deleteH:nr((function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Jo(this,(function(n){var r=Hs(i,n.head,t,e,!1);return t<0?{from:r,to:n.head}:{from:n.head,to:r}}))})),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var s=le(this.doc,t),a=0;a<e;++a){var l=Un(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Fs(this,l,r,n)).hitSide)break}return s},moveV:nr((function(t,e){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy((function(s){if(o)return t<0?s.from():s.to();var a=Un(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Fs(n,a,t,e);return"page"==e&&s==i.sel.primary()&&ji(n,Vn(n,l,"div").top-a.top),l}),X),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]})),findWordAt:function(t){var e=Vt(this.doc,t.line).text,n=t.ch,i=t.ch;if(e){var r=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=e.length||!n?++i:--n;for(var o=e.charAt(n),s=et(o,r)?function(t){return et(t,r)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};n>0&&s(e.charAt(n-1));)--n;for(;i<e.length&&s(e.charAt(i));)++i}return new Sr(ee(t.line,n),ee(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?D(this.display.cursorDiv,"CodeMirror-overwrite"):C(this.display.cursorDiv,"CodeMirror-overwrite"),gt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==E()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:nr((function(t,e){Di(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Pn(this)-this.display.barHeight,width:t.scrollWidth-Pn(this)-this.display.barWidth,clientHeight:An(this),clientWidth:Tn(this)}},scrollIntoView:nr((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:ee(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Ni(t),t.curOp.scrollToPos=e}(this,t):Ii(this,t.from,t.to,t.margin)})),setSize:nr((function(t,e){var n=this,i=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=i(t)),null!=e&&(this.display.wrapper.style.height=i(e)),this.options.lineWrapping&&Fn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){fi(n,r,"widget");break}++r})),this.curOp.forceUpdate=!0,gt(this,"refresh",this)})),operation:function(t){return tr(this,t)},startOperation:function(){return Vi(this)},endOperation:function(){return Ui(this)},refresh:nr((function(){var t=this.display.cachedTextHeight;di(this),this.curOp.forceUpdate=!0,Bn(this),Di(this,this.doc.scrollLeft,this.doc.scrollTop),ur(this.display),(null==t||Math.abs(t-ri(this.display))>.5)&&ci(this),gt(this,"refresh",this)})),swapDoc:nr((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),_r(this,t),Bn(this),this.display.input.reset(),Di(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,cn(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bt(t),t.registerHelper=function(e,i,r){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][i]=r},t.registerGlobalHelper=function(e,i,r,o){t.registerHelper(e,i,o),n[e]._global.push({pred:r,val:o})}}(Ts);var Vs="iter insert remove copy getEditor constructor".split(" ");for(var Us in Eo.prototype)Eo.prototype.hasOwnProperty(Us)&&F(Vs,Us)<0&&(Ts.prototype[Us]=function(t){return function(){return t.apply(this.doc,arguments)}}(Eo.prototype[Us]));return bt(Eo),Ts.inputStyles={textarea:Ys,contenteditable:Bs},Ts.defineMode=function(t){Ts.defaults.mode||"null"==t||(Ts.defaults.mode=t),Rt.apply(this,arguments)},Ts.defineMIME=function(t,e){zt[t]=e},Ts.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),Ts.defineMIME("text/plain","null"),Ts.defineExtension=function(t,e){Ts.prototype[t]=e},Ts.defineDocExtension=function(t,e){Eo.prototype[t]=e},Ts.fromTextArea=function(t,e){if((e=e?z(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=E();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function i(){t.value=a.getValue()}var r;if(t.form&&(dt(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var s=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=s}}catch(t){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(pt(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=r))}},t.style.display="none";var a=Ts((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a},function(t){t.off=pt,t.on=dt,t.wheelEventPixels=wr,t.Doc=Eo,t.splitLines=Et,t.countColumn=R,t.findColumn=Y,t.isWordChar=tt,t.Pass=W,t.signal=gt,t.Line=Ve,t.changeEnd=Pr,t.scrollbarModel=$i,t.Pos=ee,t.cmpPos=ne,t.modes=_t,t.mimeModes=zt,t.resolveMode=Ht,t.getMode=Ft,t.modeExtensions=Bt,t.extendMode=Wt,t.copyState=Gt,t.startState=Xt,t.innerMode=$t,t.commands=ns,t.keyMap=$o,t.keyName=Ko,t.isModifierKey=Uo,t.lookupKey=Vo,t.normalizeKeyMap=Yo,t.StringStream=Yt,t.SharedTextMarker=To,t.TextMarker=Co,t.LineWidget=Oo,t.e_preventDefault=xt,t.e_stopPropagation=wt,t.e_stop=Ot,t.addClass=D,t.contains=j,t.rmClass=C,t.keyNames=Fo}(Ts),Ts.version="5.48.4",Ts})),r=function(t){"use strict";t.defineMode("javascript",(function(e,n){var i,r,o=e.indentUnit,s=n.statementIndent,a=n.jsonld,l=n.json||a,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),i=t("keyword c"),r=t("keyword d"),o=t("operator"),s={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:t("new"),delete:i,void:i,throw:i,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:t("this"),class:t("class"),super:t("atom"),yield:i,export:t("export"),import:t("import"),extends:i,await:i}}(),d=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(t,e,n){return i=t,r=n,e}function g(t,e){var n,i=t.next();if('"'==i||"'"==i)return e.tokenize=(n=i,function(t,e){var i,r=!1;if(a&&"@"==t.peek()&&t.match(f))return e.tokenize=g,p("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=n||r);)r=!r&&"\\"==i;return r||(e.tokenize=g),p("string","string")}),e.tokenize(t,e);if("."==i&&t.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if("."==i&&t.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return p(i);if("="==i&&t.eat(">"))return p("=>","operator");if("0"==i&&t.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(i))return t.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if("/"==i)return t.eat("*")?(e.tokenize=m,m(t,e)):t.eat("/")?(t.skipToEnd(),p("comment","comment")):Ut(t,e,1)?(function(t){for(var e,n=!1,i=!1;null!=(e=t.next());){if(!n){if("/"==e&&!i)return;"["==e?i=!0:i&&"]"==e&&(i=!1)}n=!n&&"\\"==e}}(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(t.eat("="),p("operator","operator",t.current()));if("`"==i)return e.tokenize=v,v(t,e);if("#"==i)return t.skipToEnd(),p("error","error");if(d.test(i))return">"==i&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=i&&"="!=i||t.eat("="):/[<>*+\-]/.test(i)&&(t.eat(i),">"==i&&t.eat(i))),p("operator","operator",t.current());if(u.test(i)){t.eatWhile(u);var r=t.current();if("."!=e.lastType){if(h.propertyIsEnumerable(r)){var o=h[r];return p(o.type,o.style,r)}if("async"==r&&t.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",r)}return p("variable","variable",r)}}function m(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=g;break}i="*"==n}return p("comment","comment")}function v(t,e){for(var n,i=!1;null!=(n=t.next());){if(!i&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=g;break}i=!i&&"\\"==n}return p("quasi","string-2",t.current())}var y="([{}])";function b(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(c){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));i&&(n=i.index)}for(var r=0,o=!1,s=n-1;s>=0;--s){var a=t.string.charAt(s),l=y.indexOf(a);if(l>=0&&l<3){if(!r){++s;break}if(0==--r){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++r;else if(u.test(a))o=!0;else if(/["'\/`]/.test(a))for(;;--s){if(0==s)return;if(t.string.charAt(s-1)==a&&"\\"!=t.string.charAt(s-2)){s--;break}}else if(o&&!r){++s;break}}o&&!r&&(e.fatArrowAt=s)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(t,e,n,i,r,o){this.indented=t,this.column=e,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function k(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var i=t.context;i;i=i.prev)for(n=i.vars;n;n=n.next)if(n.name==e)return!0}var O={state:null,column:null,marked:null,cc:null};function S(){for(var t=arguments.length-1;t>=0;t--)O.cc.push(arguments[t])}function M(){return S.apply(null,arguments),!0}function C(t,e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}function P(t){var e=O.state;if(O.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var i=function t(e,n){if(n){if(n.block){var i=t(e,n.prev);return i?i==n.prev?n:new A(i,n.vars,!0):null}return C(e,n.vars)?n:new A(n.prev,new L(e,n.vars),!1)}return null}(t,e.context);if(null!=i)return void(e.context=i)}else if(!C(t,e.localVars))return void(e.localVars=new L(t,e.localVars));n.globalVars&&!C(t,e.globalVars)&&(e.globalVars=new L(t,e.globalVars))}function T(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function A(t,e,n){this.prev=t,this.vars=e,this.block=n}function L(t,e){this.name=t,this.next=e}var j=new L("this",new L("arguments",null));function E(){O.state.context=new A(O.state.context,O.state.localVars,!1),O.state.localVars=j}function D(){O.state.context=new A(O.state.context,O.state.localVars,!0),O.state.localVars=null}function N(){O.state.localVars=O.state.context.vars,O.state.context=O.state.context.prev}function I(t,e){var n=function(){var n=O.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new w(i,O.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function _(){var t=O.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function z(t){return function e(n){return n==t?M():";"==t||"}"==n||")"==n||"]"==n?S():M(e)}}function R(t,e){return"var"==t?M(I("vardef",e),bt,z(";"),_):"keyword a"==t?M(I("form"),W,R,_):"keyword b"==t?M(I("form"),R,_):"keyword d"==t?O.stream.match(/^\s*$/,!1)?M():M(I("stat"),$,z(";"),_):"debugger"==t?M(z(";")):"{"==t?M(I("}"),D,st,_,N):";"==t?M():"if"==t?("else"==O.state.lexical.info&&O.state.cc[O.state.cc.length-1]==_&&O.state.cc.pop()(),M(I("form"),W,R,_,Mt)):"function"==t?M(At):"for"==t?M(I("form"),Ct,R,_):"class"==t||c&&"interface"==e?(O.marked="keyword",M(I("form","class"==t?t:e),Nt,_)):"variable"==t?c&&"declare"==e?(O.marked="keyword",M(R)):c&&("module"==e||"enum"==e||"type"==e)&&O.stream.match(/^\s*\w/,!1)?(O.marked="keyword","enum"==e?M(Yt):"type"==e?M(jt,z("operator"),ht,z(";")):M(I("form"),xt,z("{"),I("}"),st,_,_)):c&&"namespace"==e?(O.marked="keyword",M(I("form"),F,R,_)):c&&"abstract"==e?(O.marked="keyword",M(R)):M(I("stat"),Q):"switch"==t?M(I("form"),W,z("{"),I("}","switch"),D,st,_,_,N):"case"==t?M(F,z(":")):"default"==t?M(z(":")):"catch"==t?M(I("form"),E,H,R,_,N):"export"==t?M(I("stat"),Rt,_):"import"==t?M(I("stat"),Ft,_):"async"==t?M(R):"@"==e?M(F,R):S(I("stat"),F,z(";"),_)}function H(t){if("("==t)return M(Et,z(")"))}function F(t,e){return G(t,e,!1)}function B(t,e){return G(t,e,!0)}function W(t){return"("!=t?S():M(I(")"),F,z(")"),_)}function G(t,e,n){if(O.state.fatArrowAt==O.stream.start){var i=n?K:q;if("("==t)return M(E,I(")"),rt(Et,")"),_,z("=>"),i,N);if("variable"==t)return S(E,xt,z("=>"),i,N)}var r=n?Y:X;return x.hasOwnProperty(t)?M(r):"function"==t?M(At,r):"class"==t||c&&"interface"==e?(O.marked="keyword",M(I("form"),Dt,_)):"keyword c"==t||"async"==t?M(n?B:F):"("==t?M(I(")"),$,z(")"),_,r):"operator"==t||"spread"==t?M(n?B:F):"["==t?M(I("]"),Xt,_,r):"{"==t?ot(et,"}",null,r):"quasi"==t?S(V,r):"new"==t?M(function(t){return function(e){return"."==e?M(t?J:Z):"variable"==e&&c?M(mt,t?Y:X):S(t?B:F)}}(n)):"import"==t?M(F):M()}function $(t){return t.match(/[;\}\)\],]/)?S():S(F)}function X(t,e){return","==t?M(F):Y(t,e,!1)}function Y(t,e,n){var i=0==n?X:Y,r=0==n?F:B;return"=>"==t?M(E,n?K:q,N):"operator"==t?/\+\+|--/.test(e)||c&&"!"==e?M(i):c&&"<"==e&&O.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?M(I(">"),rt(ht,">"),_,i):"?"==e?M(F,z(":"),r):M(r):"quasi"==t?S(V,i):";"!=t?"("==t?ot(B,")","call",i):"."==t?M(tt,i):"["==t?M(I("]"),$,z("]"),_,i):c&&"as"==e?(O.marked="keyword",M(ht,i)):"regexp"==t?(O.state.lastType=O.marked="operator",O.stream.backUp(O.stream.pos-O.stream.start-1),M(r)):void 0:void 0}function V(t,e){return"quasi"!=t?S():"${"!=e.slice(e.length-2)?M(V):M(F,U)}function U(t){if("}"==t)return O.marked="string-2",O.state.tokenize=v,M(V)}function q(t){return b(O.stream,O.state),S("{"==t?R:F)}function K(t){return b(O.stream,O.state),S("{"==t?R:B)}function Z(t,e){if("target"==e)return O.marked="keyword",M(X)}function J(t,e){if("target"==e)return O.marked="keyword",M(Y)}function Q(t){return":"==t?M(_,R):S(X,z(";"),_)}function tt(t){if("variable"==t)return O.marked="property",M()}function et(t,e){return"async"==t?(O.marked="property",M(et)):"variable"==t||"keyword"==O.style?(O.marked="property","get"==e||"set"==e?M(nt):(c&&O.state.fatArrowAt==O.stream.start&&(n=O.stream.match(/^\s*:\s*/,!1))&&(O.state.fatArrowAt=O.stream.pos+n[0].length),M(it))):"number"==t||"string"==t?(O.marked=a?"property":O.style+" property",M(it)):"jsonld-keyword"==t?M(it):c&&T(e)?(O.marked="keyword",M(et)):"["==t?M(F,at,z("]"),it):"spread"==t?M(B,it):"*"==e?(O.marked="keyword",M(et)):":"==t?S(it):void 0;var n}function nt(t){return"variable"!=t?S(it):(O.marked="property",M(At))}function it(t){return":"==t?M(B):"("==t?S(At):void 0}function rt(t,e,n){function i(r,o){if(n?n.indexOf(r)>-1:","==r){var s=O.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),M((function(n,i){return n==e||i==e?S():S(t)}),i)}return r==e||o==e?M():n&&n.indexOf(";")>-1?S(t):M(z(e))}return function(n,r){return n==e||r==e?M():S(t,i)}}function ot(t,e,n){for(var i=3;i<arguments.length;i++)O.cc.push(arguments[i]);return M(I(e,n),rt(t,e),_)}function st(t){return"}"==t?M():S(R,st)}function at(t,e){if(c){if(":"==t)return M(ht);if("?"==e)return M(at)}}function lt(t,e){if(c&&(":"==t||"in"==e))return M(ht)}function ct(t){if(c&&":"==t)return O.stream.match(/^\s*\w+\s+is\b/,!1)?M(F,ut,ht):M(ht)}function ut(t,e){if("is"==e)return O.marked="keyword",M()}function ht(t,e){return"keyof"==e||"typeof"==e||"infer"==e?(O.marked="keyword",M("typeof"==e?B:ht)):"variable"==t||"void"==e?(O.marked="type",M(gt)):"|"==e||"&"==e?M(ht):"string"==t||"number"==t||"atom"==t?M(gt):"["==t?M(I("]"),rt(ht,"]",","),_,gt):"{"==t?M(I("}"),rt(ft,"}",",;"),_,gt):"("==t?M(rt(pt,")"),dt,gt):"<"==t?M(rt(ht,">"),ht):void 0}function dt(t){if("=>"==t)return M(ht)}function ft(t,e){return"variable"==t||"keyword"==O.style?(O.marked="property",M(ft)):"?"==e||"number"==t||"string"==t?M(ft):":"==t?M(ht):"["==t?M(z("variable"),lt,z("]"),ft):"("==t?S(Lt,ft):void 0}function pt(t,e){return"variable"==t&&O.stream.match(/^\s*[?:]/,!1)||"?"==e?M(pt):":"==t?M(ht):"spread"==t?M(pt):S(ht)}function gt(t,e){return"<"==e?M(I(">"),rt(ht,">"),_,gt):"|"==e||"."==t||"&"==e?M(ht):"["==t?M(ht,z("]"),gt):"extends"==e||"implements"==e?(O.marked="keyword",M(ht)):"?"==e?M(ht,z(":"),ht):void 0}function mt(t,e){if("<"==e)return M(I(">"),rt(ht,">"),_,gt)}function vt(){return S(ht,yt)}function yt(t,e){if("="==e)return M(ht)}function bt(t,e){return"enum"==e?(O.marked="keyword",M(Yt)):S(xt,at,Ot,St)}function xt(t,e){return c&&T(e)?(O.marked="keyword",M(xt)):"variable"==t?(P(e),M()):"spread"==t?M(xt):"["==t?ot(kt,"]"):"{"==t?ot(wt,"}"):void 0}function wt(t,e){return"variable"!=t||O.stream.match(/^\s*:/,!1)?("variable"==t&&(O.marked="property"),"spread"==t?M(xt):"}"==t?S():"["==t?M(F,z("]"),z(":"),wt):M(z(":"),xt,Ot)):(P(e),M(Ot))}function kt(){return S(xt,Ot)}function Ot(t,e){if("="==e)return M(B)}function St(t){if(","==t)return M(bt)}function Mt(t,e){if("keyword b"==t&&"else"==e)return M(I("form","else"),R,_)}function Ct(t,e){return"await"==e?M(Ct):"("==t?M(I(")"),Pt,_):void 0}function Pt(t){return"var"==t?M(bt,Tt):"variable"==t?M(Tt):S(Tt)}function Tt(t,e){return")"==t?M():";"==t?M(Tt):"in"==e||"of"==e?(O.marked="keyword",M(F,Tt)):S(F,Tt)}function At(t,e){return"*"==e?(O.marked="keyword",M(At)):"variable"==t?(P(e),M(At)):"("==t?M(E,I(")"),rt(Et,")"),_,ct,R,N):c&&"<"==e?M(I(">"),rt(vt,">"),_,At):void 0}function Lt(t,e){return"*"==e?(O.marked="keyword",M(Lt)):"variable"==t?(P(e),M(Lt)):"("==t?M(E,I(")"),rt(Et,")"),_,ct,N):c&&"<"==e?M(I(">"),rt(vt,">"),_,Lt):void 0}function jt(t,e){return"keyword"==t||"variable"==t?(O.marked="type",M(jt)):"<"==e?M(I(">"),rt(vt,">"),_):void 0}function Et(t,e){return"@"==e&&M(F,Et),"spread"==t?M(Et):c&&T(e)?(O.marked="keyword",M(Et)):c&&"this"==t?M(at,Ot):S(xt,at,Ot)}function Dt(t,e){return"variable"==t?Nt(t,e):It(t,e)}function Nt(t,e){if("variable"==t)return P(e),M(It)}function It(t,e){return"<"==e?M(I(">"),rt(vt,">"),_,It):"extends"==e||"implements"==e||c&&","==t?("implements"==e&&(O.marked="keyword"),M(c?ht:F,It)):"{"==t?M(I("}"),_t,_):void 0}function _t(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||c&&T(e))&&O.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(O.marked="keyword",M(_t)):"variable"==t||"keyword"==O.style?(O.marked="property",M(c?zt:At,_t)):"number"==t||"string"==t?M(c?zt:At,_t):"["==t?M(F,at,z("]"),c?zt:At,_t):"*"==e?(O.marked="keyword",M(_t)):c&&"("==t?S(Lt,_t):";"==t||","==t?M(_t):"}"==t?M():"@"==e?M(F,_t):void 0}function zt(t,e){if("?"==e)return M(zt);if(":"==t)return M(ht,Ot);if("="==e)return M(B);var n=O.state.lexical.prev;return S(n&&"interface"==n.info?Lt:At)}function Rt(t,e){return"*"==e?(O.marked="keyword",M($t,z(";"))):"default"==e?(O.marked="keyword",M(F,z(";"))):"{"==t?M(rt(Ht,"}"),$t,z(";")):S(R)}function Ht(t,e){return"as"==e?(O.marked="keyword",M(z("variable"))):"variable"==t?S(B,Ht):void 0}function Ft(t){return"string"==t?M():"("==t?S(F):S(Bt,Wt,$t)}function Bt(t,e){return"{"==t?ot(Bt,"}"):("variable"==t&&P(e),"*"==e&&(O.marked="keyword"),M(Gt))}function Wt(t){if(","==t)return M(Bt,Wt)}function Gt(t,e){if("as"==e)return O.marked="keyword",M(Bt)}function $t(t,e){if("from"==e)return O.marked="keyword",M(F)}function Xt(t){return"]"==t?M():S(rt(B,"]"))}function Yt(){return S(I("form"),xt,z("{"),I("}"),rt(Vt,"}"),_,_)}function Vt(){return S(xt,Ot)}function Ut(t,e,n){return e.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}return N.lex=!0,_.lex=!0,{startState:function(t){var e={tokenize:g,lastType:"sof",cc:[],lexical:new w((t||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new A(null,null,!1),indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),b(t,e)),e.tokenize!=m&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==i?n:(e.lastType="operator"!=i||"++"!=r&&"--"!=r?i:"incdec",function(t,e,n,i,r){var o=t.cc;for(O.state=t,O.stream=r,O.marked=null,O.cc=o,O.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((o.length?o.pop():l?F:R)(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return O.marked?O.marked:"variable"==n&&k(t,i)?"variable-2":e}}(e,n,i,r,t))},indent:function(e,i){if(e.tokenize==m)return t.Pass;if(e.tokenize!=g)return 0;var r,a=i&&i.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(i))for(var c=e.cc.length-1;c>=0;--c){var u=e.cc[c];if(u==_)l=l.prev;else if(u!=Mt)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(r=e.cc[e.cc.length-1])&&(r==X||r==Y)&&!/^[,\.=+\-*:?[\(]/.test(i));)l=l.prev;s&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,f=a==h;return"vardef"==h?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==h&&"{"==a?l.indented:"form"==h?l.indented+o:"stat"==h?l.indented+(function(t,e){return"operator"==t.lastType||","==t.lastType||d.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}(e,i)?s||o:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:o):l.indented+(/^(?:case|default)\b/.test(i)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:Ut,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=F&&e!=B||t.cc.pop()}}})),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})},"object"==typeof n&&"object"==typeof e?r(t("../../lib/codemirror")):"function"==typeof o&&o.amd?o(["../../lib/codemirror"],r):r(i),Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"../../lib/codemirror":void 0}],2:[function(t,e,n){e=void 0;var i,r=function(){const t=arguments[arguments.length-1];i=t(),r=void 0};r.amd=!0,function(t,n){"object"==typeof e&&e.exports?e.exports=t.document?n(t):n:"function"==typeof r&&r.amd?r((function(){return n(t)})):t.Highcharts=n(t)}("undefined"!=typeof window?window:this,(function(t){var e,n,i,r,o,s,a,l,c=(e=void 0===t?window:t,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!e.opera,s=-1!==i.indexOf("Firefox"),a=-1!==i.indexOf("Chrome"),l=s&&4>parseInt(i.split("Firefox/")[1],10),e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:-1!==i.indexOf("AppleWebKit"),isFirefox:s,isChrome:a,isSafari:!a&&-1!==i.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(t){t.timers=[];var e=t.charts,n=t.doc,i=t.win;t.error=function(e,n){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,n)throw Error(e);i.console&&console.log(e)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?n[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(e,n,r){var o=this,s=o.options,a=function(t){return!a.stopped&&o.step(t)},l=i.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(c)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===t.timers.push(a)&&l(c)):(delete s.curAnim[this.prop],s.complete&&0===t.keys(s.curAnim).length&&s.complete.call(this.elem))},step:function(e){var n,i=+new Date,r=this.options,o=this.elem,s=r.complete,a=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||i>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,(function(t){!0!==t&&(n=!1)})),n&&s&&s.call(o),e=!1):(this.pos=r.easing((i-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,i){function r(t){var e,n;for(u=t.length;u--;)e="M"===t[u]||"L"===t[u],n=/[a-zA-Z]/.test(t[u+3]),e&&n&&t.splice(u+1,0,t[u+1],t[u+2],t[u+1],t[u+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,p);[].splice.apply(t,[0,0].concat(n)),m&&(n=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(n)),u--)}t[0]="M"}function s(t,e){for(var n=(l-t.length)/p;0<n&&n--;)(c=t.slice().splice(t.length/v-p,p*v))[0]=e[l-p-n*p],f&&(c[p-6]=c[p-2],c[p-5]=c[p-1]),[].splice.apply(t,[t.length/v,0].concat(c)),m&&n--}n=n||"";var a,l,c,u,h=e.startX,d=e.endX,f=-1<n.indexOf("C"),p=f?7:3;n=n.split(" "),i=i.slice();var g,m=e.isArea,v=m?2:1;if(f&&(r(n),r(i)),h&&d){for(u=0;u<h.length;u++){if(h[u]===d[0]){a=u;break}if(h[0]===d[d.length-h.length+u]){a=u,g=!0;break}}void 0===a&&(n=[])}return n.length&&t.isNumber(a)&&(l=i.length+a*v*p,g?(o(n,i),s(i,n)):(o(i,n),s(n,i))),[n,i]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){return"object"!=typeof e&&(e={}),t.objectEach(n,(function(i,r){!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?e[r]=n[r]:e[r]=o(e[r]||{},i)})),e};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,n){return!(!e||"object"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return null!=t},t.attr=function(e,n,i){var r;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&((r=e.getAttribute(n))||"class"!==n||(r=e.getAttribute(n+"Name"))):t.defined(n)&&t.isObject(n)&&t.objectEach(n,(function(t,n){e.setAttribute(n,t)})),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(null!=(e=n[t]))return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,i,r,o,s){e=n.createElement(e);var a=t.css;return i&&t.extend(e,i),s&&a(e,{padding:0,border:"none",margin:0}),r&&a(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||0)+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),r.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,(function(n,i){t.isObject(n)&&"function"==typeof n.getTime?e[i]=n.getTime():(t.isObject(n)||t.isArray(n))&&t.datePropsToTimestamps(n)}))},t.formatSingle=function(e,n,i){var r=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(/\.([0-9])/))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,r.decimalPoint,-1<e.indexOf(",")?r.thousandsSep:""))):n=(i||t.time).dateFormat(e,n),n},t.format=function(e,n,i){for(var r,o,s,a,l,c="{",u=!1,h=[];e&&-1!==(c=e.indexOf(c));){if(r=e.slice(0,c),u){for(a=(o=(r=r.split(":")).shift().split(".")).length,l=n,s=0;s<a;s++)l&&(l=l[o[s]]);r.length&&(l=t.formatSingle(r.join(":"),l,i)),h.push(l)}else h.push(r);e=e.slice(c+1),c=(u=!u)?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var s,a=e;for(s=e/(i=t.pick(i,1)),n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?n=t.grep(n,(function(t){return 0==t%1})):.1>=i&&(n=[1/i]))),r=0;r<n.length&&(a=n[r],!(o&&a*i>=e||!o&&s<=(n[r]+(n[r+1]||n[r]))/2));r++);return t.correctFloat(a*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort((function(t,i){return 0===(n=e(t,i))?t.safeI-i.safeI:n})),i=0;i<r;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,(function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]}))},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,s,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,c=e.toString().split("e");return-1===n?n=Math.min(l,20):t.isNumber(n)?n&&c[1]&&0>c[1]&&(0<=(o=n+ +c[1])?(c[0]=(+c[0]).toExponential(o).split("e")[0],n=o):(c[0]=c[0].split(".")[0]||0,e=20>n?(c[0]*Math.pow(10,c[1])).toFixed(n):0,c[1]=0)):n=2,s=(Math.abs(c[1]?c[0]:e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),o=3<(l=String(t.pInt(s))).length?l.length%3:0,i=t.pick(i,a.decimalPoint),r=t.pick(r,a.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(e+=i+s.slice(-n)),c[1]&&0!=+e&&(e+="e"+c[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,r){return"width"===n?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(i.getComputedStyle||t.error(27,!0),(e=i.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(r,"opacity"!==n)&&(e=t.pInt(e))),e)},t.inArray=function(e,n,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(n,e,i)},t.grep=function(e,n){return(t.filterPolyfill||Array.prototype.filter).call(e,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]},t.some=function(e,n,i){return(t.somePolyfill||Array.prototype.some).call(e,n,i)},t.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,n,i){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[n,i]:[n])},t.offset=function(t){var e=n.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var i=t.timers.length;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)},t.each=function(e,n,i){return(t.forEachPolyfill||Array.prototype.forEach).call(e,n,i)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n||t[i],t[i],i,t)},t.addEvent=function(e,n,i,r){var o,s=e.addEventListener||t.addEventListenerPolyfill;return o="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),s&&s.call(e,n,i,!1),o[n]||(o[n]=[]),o[n].push(i),r&&t.isNumber(r.order)&&(i.order=r.order,o[n].sort((function(t,e){return t.order-e.order}))),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(n,i){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,n,i,!1)}function o(i){var o,s;e.nodeName&&(n?(o={})[n]=!0:o=i,t.objectEach(o,(function(t,e){if(i[e])for(s=i[e].length;s--;)r(e,i[e][s])})))}var s,a;t.each(["protoEvents","hcEvents"],(function(l){var c=e[l];c&&(n?(s=c[n]||[],i?(-1<(a=t.inArray(i,s))&&(s.splice(a,1),c[n]=s),r(n,i)):(o(c),c[n]=[])):(o(c),e[l]={}))}))},t.fireEvent=function(e,i,r,o){var s,a,l,c,u;r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent)?((s=n.createEvent("Events")).initEvent(i,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s)):t.each(["protoEvents","hcEvents"],(function(n){if(e[n])for(a=e[n][i]||[],l=a.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),c=0;c<l;c++)(u=a[c])&&!1===u.call(e,r)&&r.preventDefault()})),o&&!r.defaultPrevented&&o.call(e,r)},t.animate=function(e,n,i){var r,o,s,a,l="";t.isObject(i)||(i={duration:(a=arguments)[2],easing:a[3],complete:a[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,(function(a,c){t.stop(e,c),s=new t.Fx(e,i,c),o=null,"d"===c?(s.paths=s.initPath(e,e.d,n.d),s.toD=n.d,r=0,o=1):e.attr?r=e.attr(c):(r=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=a),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)}))},t.seriesType=function(e,n,i,r,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[n],i),a[e]=t.extendClass(a[n]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),i.jQuery&&(i.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(c),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,s;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=i(e.stops,(function(e){return new t.Color(e[1])}));else if(e&&e.charAt&&"#"===e.charAt()&&(n=e.length,e=parseInt(e.substr(1),16),7===n?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)(n=(s=this.parsers[o]).regex.exec(e))&&(r=s.parse(n));this.rgba=r||[]},get:function(t){var i,o=this.input,s=this.rgba;return this.stops?((i=r(o)).stops=[].concat(i.stops),e(this.stops,(function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]}))):i=s&&n(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":o,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,(function(e){e.brighten(t)}));else if(n(t)&&0!==t)for(i=0;3>i;i++)r[i]+=o(255*t),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,i=t.rgba;return i.length&&n&&n.length?e=((t=1!==i[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-e))+","+Math.round(i[1]+(n[1]-i[1])*(1-e))+","+Math.round(i[2]+(n[2]-i[2])*(1-e))+(t?","+(i[3]+(n[3]-i[3])*(1-e)):"")+")":e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(c),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,c=t.createElement,u=t.defined,h=t.deg2rad,d=t.destroyObjectProperties,f=t.doc,p=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,x=t.isArray,w=t.isFirefox,k=t.isMS,O=t.isObject,S=t.isString,M=t.isWebKit,C=t.merge,P=t.noop,T=t.objectEach,A=t.pick,L=t.pInt,j=t.removeEvent,E=t.splat,D=t.stop,N=t.svg,I=t.SVG_NS,_=t.symbolSizes,z=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:I,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,e){this.element="span"===e?c(e):f.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,n,i){return 0!==(n=t.animObject(A(n,this.renderer.globalAnimation,!0))).duration?(i&&(n.complete=i),r(this,e,n)):(this.attr(e,null,i),n.step&&n.step.call(this)),this},complexColor:function(e,n,i){var r,o,s,a,l,c,h,d,f,g,m,v,y=this.renderer,b=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},(function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(s=e[o],l=y.gradients,h=e.stops,g=i.radialReference,x(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!u(s.gradientUnits)&&(a=s,s=C(s,y.getRadialAttr(g,a),{gradientUnits:"userSpaceOnUse"})),T(s,(function(t,e){"id"!==e&&b.push(e,t)})),T(h,(function(t){b.push(t)})),b=b.join(","),l[b]?m=l[b].attr("id"):(s.id=m=t.uniqueKey(),l[b]=c=y.createElement(o).attr(s).add(y.defs),c.radAttr=a,c.stops=[],p(h,(function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),d=r.get("rgb"),f=r.get("a")):(d=e[1],f=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":f}).add(c),c.stops.push(e)}))),v="url("+y.url+"#"+m+")",i.setAttribute(n,v),i.gradient=b,e.toString=function(){return v})}))},applyTextOutline:function(e){var n,i,r,s,a,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),i=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,n){return 2*e+n})),a=e.length;a--;)"highcharts-text-outline"===(n=e[a]).getAttribute("class")&&m(e,l.removeChild(n));s=l.firstChild,p(e,(function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:i,stroke:i,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,s)}))}},attr:function(t,e,n,i){var r,o,s,a=this.element,l=this;return"string"==typeof t&&void 0!==e&&(r=t,(t={})[r]=e),"string"==typeof t?l=(this[t+"Getter"]||this._defaultGetter).call(this,t,a):(T(t,(function(e,n){s=!1,i||D(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),s||(this[n+"Setter"]||this._defaultSetter).call(this,e,n,a)}),this),this.afterSetters()),n&&n.call(this),l},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==b(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;p("x y r start end width height innerR anchorX anchorY".split(" "),(function(n){e[n]=A(t[n],e[n])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n;return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),u(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,n,i=this.styles,r={},s=this.element,a="",c=!i,u=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),i&&T(t,(function(t,e){t!==i[e]&&(r[e]=t,c=!0)})),c&&(i&&(t=g(i,r)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=L(t.width))),this.styles=t,e&&!N&&this.renderer.forExport&&delete t.width,s.namespaceURI===this.SVG_NS?(n=function(t,e){return"-"+e.toLowerCase()},T(t,(function(t,e){-1===b(e,u)&&(a+=e.replace(/([A-Z])/g,n)+":"+t+";")})),a&&o(s,"style",a)):l(s,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},getStyle:function(t){return z.getComputedStyle(this.element||this,"").getPropertyValue(t)},strokeWidth:function(){var t,e=this.getStyle("stroke-width");return e.indexOf("px")===e.length-2?e=L(e):(t=f.createElementNS(I,"rect"),o(t,{width:e,"stroke-width":0}),this.element.parentNode.appendChild(t),e=t.getBBox().width,t.parentNode.removeChild(t)),e},on:function(t,e){var n=this,i=n.element;return y&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===z.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.matrix,a=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],u(s)&&t.push("matrix("+s.join(",")+")"),r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+A(this.rotationOriginX,a.getAttribute("x"),0)+" "+A(this.rotationOriginY,a.getAttribute("y")||0)+")"),(u(n)||u(i))&&t.push("scale("+A(n,1)+" "+A(i,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a,l,c={};return o=(r=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||S(n))&&(this.alignTo=i=n||"renderer",m(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=A(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?a=1:"center"===i&&(a=2),a&&(o+=(n.width-(t.width||0))/a),c[e?"translateX":"x"]=Math.round(o),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(s+=(n.height-(t.height||0))/l),c[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,n){var i,r,o,s,a,l=this.renderer,c=this.element,d=this.styles,f=this.textStr,m=l.cache,v=l.cacheKeys,y=c.namespaceURI===this.SVG_NS;if(r=(n=A(n,this.rotation))*h,o=c&&e.prototype.getStyle.call(c,"font-size"),u(f)&&(-1===(a=f.toString()).indexOf("<")&&(a=a.replace(/[0-9]/g,"0")),a+=["",n||0,o,this.textWidth,d&&d.textOverflow].join()),a&&!t&&(i=m[a]),!i){if(y||l.forExport){try{(s=this.fakeTS&&function(t){p(c.querySelectorAll(".highcharts-text-outline"),(function(e){e.style.display=t}))})&&s("none"),i=c.getBBox?g({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},s&&s("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(l.isSVG&&(t=i.width,l=i.height,y&&(i.height=l={"11px,17":14,"13px,20":16}[d&&d.fontSize+","+Math.round(l)]||l),n&&(i.width=Math.abs(l*Math.sin(r))+Math.abs(t*Math.cos(r)),i.height=Math.abs(l*Math.cos(r))+Math.abs(t*Math.sin(r)))),a&&0<i.height){for(;250<v.length;)delete m[v.shift()];m[a]||v.push(a),m[a]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,i=e.ownerSVGElement,r=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,D(t),r&&i&&(p(i.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){var e=t.getAttribute("clip-path"),n=r.element.id;(-1<e.indexOf("(#"+n+")")||-1<e.indexOf('("#'+n+'")'))&&t.removeAttribute("clip-path")})),t.clipPath=r.destroy()),t.stops){for(i=0;i<t.stops.length;i++)t.stops[i]=t.stops[i].destroy();t.stops=null}for(t.safeRemoveChild(e);n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;return t.alignTo&&m(t.renderer.alignedObjects,t),T(t,(function(e,n){delete t[n]})),null},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=A(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(f.createTextNode(String(A(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,i,r,o,s=this.renderer,a=this.parentGroup,l=(a||s).element||s.box,c=this.element;s=l===s.box;if(n=this.added,u(t)?(c.setAttribute("data-z-index",t),t=+t,this[e]===t&&(n=!1)):u(this[e])&&c.removeAttribute("data-z-index"),this[e]=t,n){for((t=this.zIndex)&&a&&(a.handleZ=!0),o=(e=l.childNodes).length-1;0<=o&&!i;o--)n=(a=e[o]).getAttribute("data-z-index"),r=!u(n),a!==c&&(0>t&&r&&!s&&!o?(l.insertBefore(c,e[o]),i=!0):(L(n)<=t||r&&(!u(t)||0<=t))&&(l.insertBefore(c,e[o+1]||null),i=!0));i||(l.insertBefore(c,e[s?3:0]||null),i=!0)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(n.prototype,{Element:e,SVG_NS:I,init:function(t,e,n,r,s,a){var c,u;c=(r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"})).element,t.appendChild(c),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=r,this.alignedObjects=[],this.url=(w||M)&&f.getElementsByTagName("base").length?z.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 6.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),w&&t.getBoundingClientRect&&((e=function(){l(t,{left:0,top:0}),u=t.getBoundingClientRect(),l(t,{left:Math.ceil(u.left)-u.left+"px",top:Math.ceil(u.top)-u.top+"px"})})(),this.unSubPixelFix=i(z,"resize",e))},definition:function(t){var e=this;return function t(n,i){var r;return p(E(n),(function(n){var o=e.createElement(n.tagName),s={};T(n,(function(t,e){"tagName"!==e&&"children"!==e&&"textContent"!==e&&(s[e]=t)})),o.attr(s),o.add(i||e.defs),n.textContent&&o.element.appendChild(f.createTextNode(n.textContent)),t(n.children||[],o),r=o})),r}(t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:P,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,i,r,o,s){var a,l,c,u=this,h=t.rotation,d=i?1:0,p=(n||i).length,g=p,m=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(f.createTextNode(t))},y=function(o,a){if(void 0===m[a=a||o])if(e.getSubStringLength)try{m[a]=r+e.getSubStringLength(0,i?a+1:a)}catch(t){}else u.getSpanWidth&&(v(s(n||i,o)),m[a]=r+u.getSpanWidth(t,e));return m[a]};if(t.rotation=0,l=y(e.textContent.length),c=r+l>o){for(;d<=p;)g=Math.ceil((d+p)/2),i&&(a=s(i,g)),l=y(g,a&&a.length-1),d===p?d=p+1:l>o?p=g-1:d=g;0===p?v(""):n&&p===n.length-1||v(a||s(n||i,g))}return i&&i.splice(0,g),t.actualWidth=l,t.rotation=h,c},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,n,i,r=t.element,s=this,a=s.forExport,c=A(t.textStr,"").toString(),u=-1!==c.indexOf("<"),h=r.childNodes,d=o(r,"x"),g=t.styles,m=t.textWidth,y=g&&g.lineHeight,x=g&&g.textOutline,w=g&&"ellipsis"===g.textOverflow,k=g&&"nowrap"===g.whiteSpace,O=g&&g.fontSize,S=h.length,M=(g=m&&!t.added&&this.box,function(t){return y?L(y):s.fontMetrics(void 0,t.getAttribute("style")?t:r).h}),C=function(t,e){return T(s.escapes,(function(n,i){e&&-1!==b(n,e)||(t=t.toString().replace(new RegExp(n,"g"),i))})),t},P=function(t,e){var n;if(n=t.indexOf("<"),-1!==(n=(t=t.substring(n,t.indexOf(">")-n)).indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return(t=t.substring(n+1)).substring(0,t.indexOf(e))};if((n=[c,w,k,y,x,O,m].join())!==t.textCache){for(t.textCache=n;S--;)r.removeChild(h[S]);u||x||w||m||-1!==c.indexOf(" ")?(g&&g.appendChild(r),c=u?c.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=v(c,(function(t){return""!==t})),p(c,(function(n,c){var u,h=0,g=0;n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),u=n.split("|||"),p(u,(function(n){if(""!==n||1===u.length){var p,v,y={},b=f.createElementNS(s.SVG_NS,"tspan");if((p=P(n,"class"))&&o(b,"class",p),(p=P(n,"style"))&&(p=p.replace(/(;| |^)color([ :])/,"$1fill$2"),o(b,"style",p)),(v=P(n,"href"))&&!a&&(o(b,"onclick",'location.href="'+v+'"'),o(b,"class","highcharts-anchor"))," "!==(n=C(n.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(b.appendChild(f.createTextNode(n)),h?y.dx=0:c&&null!==d&&(y.x=d),o(b,y),r.appendChild(b),!h&&i&&(!N&&a&&l(b,{display:"block"}),o(b,"dy",M(b))),m){var x=n.replace(/([^\^])-/g,"$1- ").split(" ");y=!k&&(1<u.length||c||1<x.length);v=0;var S=M(b);if(w)e=s.truncate(t,b,n,void 0,0,Math.max(0,m-parseInt(O||12,10)),(function(t,e){return t.substring(0,e)+"…"}));else if(y)for(;x.length;)x.length&&!k&&0<v&&(b=f.createElementNS(I,"tspan"),o(b,{dy:S,x:d}),p&&o(b,"style",p),b.appendChild(f.createTextNode(x.join(" ").replace(/- /g,"-"))),r.appendChild(b)),s.truncate(t,b,null,x,0===v?g:0,m,(function(t,e){return x.slice(0,e).join(" ").replace(/- /g,"-")})),g=t.actualWidth,v++}h++}}})),i=i||r.childNodes.length})),w&&e&&t.attr("title",C(t.textStr,["&lt;","&gt;"])),g&&g.removeChild(r),x&&t.applyTextOutline&&t.applyTextOutline(x)):r.appendChild(f.createTextNode(C(c)))}},getContrast:function(t){return(t=a(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,c){var u=this.label(t,e,n,c,null,null,null,null,"button"),h=0;return u.attr(C({padding:8,r:2},o)),i(u.element,k?"mouseover":"mouseenter",(function(){3!==h&&u.setState(1)})),i(u.element,k?"mouseout":"mouseleave",(function(){3!==h&&u.setState(h)})),u.setState=function(t){1!==t&&(u.state=h=t),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0])},u.on("click",(function(t){3!==h&&r.call(u,t)}))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={};return x(t)?e.d=t:O(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=O(t)?t:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return O(t)?(e=(i=t).y,n=i.r,t=i.x):i={innerR:i,start:r,end:o},(t=this.symbol("arc",t,e,n,n,i)).r=n,t},rect:function(t,e,n,i,r,s){return r=O(t)?t.r:r,s=this.createElement("rect"),t=O(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},r&&(t.r=r),s.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:A(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,r,o,s){var a,l={preserveAspectRatio:"none"},c=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},u=function(e){c(a.element,t),s.call(a,e)};return 1<arguments.length&&g(l,{x:e,y:n,width:r,height:o}),a=this.createElement("image").attr(l),s?(c(a.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new z.Image,i(l,"load",u),l.src=t,l.complete&&u({})):c(a.element,t),a},symbol:function(t,e,n,i,r,o){var a,h,d,m=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),x=b&&this.symbols[b],w=u(e)&&x&&x.call(this.symbols,Math.round(e),Math.round(n),i,r,o);return x?(a=this.path(w),g(a,{symbolName:b,x:e,y:n,width:i,height:r}),o&&g(a,o)):y&&(h=t.match(v)[1],(a=this.image(h)).imgwidth=A(_[h]&&_[h].width,o&&o.width),a.imgheight=A(_[h]&&_[h].height,o&&o.height),d=function(){a.attr({width:a.width,height:a.height})},p(["width","height"],(function(t){a[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,u(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}})),u(e)&&a.attr({x:e,y:n}),a.isImg=!0,u(a.imgwidth)&&u(a.imgheight)?d():(a.attr({width:0,height:0}),c("img",{onload:function(){var t=s[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),_[h]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&d(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),a},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n,a=r.r||i||n,l=r.end-.001;n=r.innerR,i=A(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var c=Math.cos(o),h=Math.sin(o),d=Math.cos(l);l=Math.sin(l);return s=["M",t+s*c,e+a*h,"A",s,a,0,r=.001>r.end-o-Math.PI?0:1,1,t+s*d,e+a*l],u(n)&&s.push(i?"M":"L",t+n*d,e+n*l,"A",n,n,0,r,0,t+n*c,e+n*h),s.push(i?"":"Z"),s},callout:function(t,e,n,i,r){var o,s=Math.min(r&&r.r||0,n,i),a=s+6,l=r&&r.anchorX;return r=r&&r.anchorY,o=["M",t+s,e,"L",t+n-s,e,"C",t+n,e,t+n,e,t+n,e+s,"L",t+n,e+i-s,"C",t+n,e+i,t+n,e+i,t+n-s,e+i,"L",t+s,e+i,"C",t,e+i,t,e+i,t,e+i-s,"L",t,e+s,"C",t,e,t,e,t+s,e],l&&l>n?r>e+a&&r<e+i-a?o.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-s):o.splice(13,3,"L",t+n,i/2,l,r,t+n,i/2,t+n,e+i-s):l&&0>l?r>e+a&&r<e+i-a?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+s):o.splice(33,3,"L",t,i/2,l,r,t,i/2,t,e+s):r&&r>i&&l>t+a&&l<t+n-a?o.splice(23,3,"L",l+6,e+i,l,e+i+6,l-6,e+i,t+s,e+i):r&&0>r&&l>t+a&&l<t+n-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,n-s,e),o}},clipRect:function(e,n,i,r){var o=t.uniqueKey(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return(e=this.rect(e,n,i,r,0).add(s)).id=o,e.clipPath=s,e.count=0,e},text:function(t,e,n,i){var r={};return!i||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),n&&(r.y=Math.round(n)),u(t)&&(r.text=t),t=this.createElement("text").attr(r),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)(i=o[r]).getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,n){return t=n&&e.prototype.getStyle.call(n,"font-size"),{h:n=24>(t=/px/.test(t)?L(t):/em/.test(t)?parseFloat(t)*(n?this.fontMetrics(null,n.parentNode).f:16):12)?t+3:Math.round(1.2*t),b:Math.round(.8*n),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:i}},label:function(n,i,r,o,s,a,l,c,h){var d,f,m,v,y,b,x,w,k,O,S,M,P=this,T=P.g("button"!==h&&"label"),A=T.text=P.text("",0,0,l).attr({zIndex:1}),L=0,E=3,D=0,N={},I=/^url\((.*?)\)$/.test(o),_=I;h&&T.addClass("highcharts-"+h),_=!0,k=function(){return d.strokeWidth()%2/2},O=function(){var t=A.element.style,e={};f=(void 0===m||void 0===v||x)&&u(A.textStr)&&A.getBBox(),T.width=(m||f.width||0)+2*E+D,T.height=(v||f.height||0)+2*E,w=E+P.fontMetrics(t&&t.fontSize,A).b,_&&(d||(T.box=d=P.symbols[o]||I?P.symbol(o):P.rect(),d.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),d.add(T),t=k(),e.x=t,e.y=(c?-w:0)+t),e.width=Math.round(T.width),e.height=Math.round(T.height),d.attr(g(e,N)),N={})},S=function(){var t,e=D+E;t=c?0:w,u(m)&&f&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(m-f.width)),e===A.x&&t===A.y||(A.attr("x",e),A.hasBoxWidthChanged&&(f=A.getBBox(!0),O()),void 0!==t&&A.attr("y",t)),A.x=e,A.y=t},M=function(t,e){d?d.attr(t,e):N[t]=e},T.onAdd=function(){A.add(T),T.attr({text:n||0===n?n:"",x:i,y:r}),d&&u(s)&&T.attr({anchorX:s,anchorY:a})},T.widthSetter=function(e){m=t.isNumber(e)?e:null},T.heightSetter=function(t){v=t},T["text-alignSetter"]=function(t){x=t},T.paddingSetter=function(t){u(t)&&t!==E&&(E=T.padding=t,S())},T.paddingLeftSetter=function(t){u(t)&&t!==D&&(D=t,S())},T.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==L&&(L=t,f&&T.attr({x:y}))},T.textSetter=function(t){void 0!==t&&A.textSetter(t),O(),S()},T["stroke-widthSetter"]=function(t,e){t&&(_=!0),this["stroke-width"]=t,M(e,t)},T.rSetter=function(t,e){M(e,t)},T.anchorXSetter=function(t,e){s=T.anchorX=t,M(e,Math.round(t)-k()-y)},T.anchorYSetter=function(t,e){a=T.anchorY=t,M(e,t-b)},T.xSetter=function(t){T.x=t,L&&(t-=L*((m||f.width)+2*E),T["forceAnimate:x"]=!0),y=Math.round(t),T.attr("translateX",y)},T.ySetter=function(t){b=T.y=Math.round(t),T.attr("translateY",b)};var z=T.css;return g(T,{css:function(t){if(t){var e={};t=C(t),p(T.textProps,(function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])})),A.css(e),"width"in e&&O()}return z.call(T,t)},getBBox:function(){return{width:f.width+2*E,height:f.height+2*E,x:f.x-E,y:f.y-E}},destroy:function(){j(T.element,"mouseenter"),j(T.element,"mouseleave"),A&&(A=A.destroy()),d&&(d=d.destroy()),e.prototype.destroy.call(T),T=P=O=S=M=null}})}}),t.Renderer=n}(c),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,c=t.isWebKit,u=t.pick,h=t.pInt,d=t.SVGRenderer,f=t.win,p=t.wrap;s(t.SVGElement.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,n=u(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=n,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=s(this.styles,t),i(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.x||0,s=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=(d=this.styles)&&d.whiteSpace;if(i(e,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),this.inverted&&o(e.childNodes,(function(n){t.invertChild(n,e)})),"SPAN"===e.tagName){var u,d=this.rotation,f=this.textWidth&&h(this.textWidth),p=[d,a,e.innerHTML,this.textWidth,this.textAlign].join();(u=f!==this.oldTextWidth)&&!(u=f>this.oldTextWidth)&&((u=this.textPxLength)||(i(e,{width:"",whiteSpace:c||"nowrap"}),u=e.offsetWidth),u=u>f),u&&/[ \-]/.test(e.textContent||e.innerText)?(i(e,{width:f+"px",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=f,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,p!==this.cTT&&(c=t.fontMetrics(e.style.fontSize).b,!r(d)||d===(this.oldRotation||0)&&a===this.oldAlign||this.setSpanRotation(d,l,c),this.getSpanCorrection(!r(d)&&this.textPxLength||e.offsetWidth,c,l,d,a)),i(e,{left:n+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=d,this.oldAlign=a}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),s(d.prototype,{getTransformKey:function(){return l&&!/Edge/.test(f.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":a?"MozTransform":f.opera?"-o-transform":""},html:function(t,i,r){var a=this.createElement("span"),l=a.element,c=a.renderer,h=c.isSVG,d=function(t,e){o(["opacity","visibility"],(function(n){p(t,n+"Setter",(function(t,n,i,r){t.call(this,n,i,r),e[i]=n}))})),t.addedSetters=!0};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=u(t,""),a.doTransform=!0},h&&d(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.doTransform=!0},a.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},a.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,h&&(a.add=function(t){var i,r=c.box.parentNode,u=[];if(this.parentGroup=t){if(!(i=t.div)){for(;t;)u.push(t),t=t.parentGroup;o(u.reverse(),(function(t){function o(e,n){t[n]=e,"translateX"===n?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,c=e(t.element,"class");c&&(c={className:c}),i=t.div=t.div||n("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||r),l=i.style,s(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(i),on:function(){return u[0].div&&a.on.apply({element:u[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||d(t,l)}))}}else i=r;return i.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(c),function(t){var e=t.defined,n=t.each,i=t.extend,r=t.merge,o=t.pick,s=t.timeUnits,a=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=o(t&&t.useUTC,!0),n=this;this.options=t=r(!0,this.options||{},t),this.Date=t.Date||a.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),r=i-n.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(t,e,i){var r;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60?e["set"+t](i):(r=n.getTimezoneOffset(e),r=e.getTime()-r,e.setTime(r),e["setUTC"+t](i),t=n.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,n){return e["setUTC"+t](n)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,n){return e["set"+t](n)})},makeTime:function(e,n,i,r,s,a){var l,c,u;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),l+=c=this.getTimezoneOffset(l),c!==(u=this.getTimezoneOffset(l))?l+=u-c:c-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,n,o(i,1),o(r,0),o(s,0),o(a,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,n=this.options,i=a.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(i)return function(t){return 6e4*-i.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=this,o=new this.Date(n),s=this.get("Hours",o),a=this.get("Day",o),l=this.get("Date",o),c=this.get("Month",o),u=this.get("FullYear",o),h=t.defaultOptions.lang,d=h.weekdays,f=h.shortWeekdays,p=t.pad;o=t.extend({a:f?f[a]:d[a].substr(0,3),A:d[a],d:p(l),e:p(l,2," "),w:a,b:h.shortMonths[c],B:h.months[c],m:p(c+1),o:c+1,y:u.toString().substr(2,2),Y:u,H:p(s),k:s,I:p(s%12||12),l:s%12||12,M:p(r.get("Minutes",o)),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:p(o.getSeconds()),L:p(Math.floor(n%1e3),3)},t.dateFormats);return t.objectEach(o,(function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t.call(r,n):t)})),i?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(e){return t.isObject(e,!0)?e:{main:(e=t.splat(e))[0],from:e[1],to:e[2]}},getTimeTicks:function(t,r,a,l){var c,u,h=this,d=[],f={};c=new h.Date(r);var p,g=t.unitRange,m=t.count||1;if(l=o(l,1),e(r)){h.set("Milliseconds",c,g>=s.second?0:m*Math.floor(h.get("Milliseconds",c)/m)),g>=s.second&&h.set("Seconds",c,g>=s.minute?0:m*Math.floor(h.get("Seconds",c)/m)),g>=s.minute&&h.set("Minutes",c,g>=s.hour?0:m*Math.floor(h.get("Minutes",c)/m)),g>=s.hour&&h.set("Hours",c,g>=s.day?0:m*Math.floor(h.get("Hours",c)/m)),g>=s.day&&h.set("Date",c,g>=s.month?1:m*Math.floor(h.get("Date",c)/m)),g>=s.month&&(h.set("Month",c,g>=s.year?0:m*Math.floor(h.get("Month",c)/m)),u=h.get("FullYear",c)),g>=s.year&&h.set("FullYear",c,u-u%m),g===s.week&&(u=h.get("Day",c),h.set("Date",c,h.get("Date",c)-u+l+(u<l?-7:0))),u=h.get("FullYear",c),l=h.get("Month",c);var v=h.get("Date",c),y=h.get("Hours",c);for(r=c.getTime(),h.variableTimezone&&(p=a-r>4*s.month||h.getTimezoneOffset(r)!==h.getTimezoneOffset(a)),r=c.getTime(),c=1;r<a;)d.push(r),r=g===s.year?h.makeTime(u+c*m,0):g===s.month?h.makeTime(u,l+c*m):!p||g!==s.day&&g!==s.week?p&&g===s.hour&&1<m?h.makeTime(u,l,v,y+c*m):r+g*m:h.makeTime(u,l,v+c*m*(g===s.day?1:7)),c++;d.push(r),g<=s.hour&&1e4>d.length&&n(d,(function(t){0==t%18e5&&"000000000"===h.dateFormat("%H%M%S%L",t)&&(f[t]="day")}))}return d.info=i(t,{higherRanks:f,totalRange:g*m}),d}}}(c),function(t){var e=t.merge;t.defaultOptions={symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{}},loading:{},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,headerFormat:'<span class="highcharts-header">{point.key}</span><br/>',pointFormat:'<span class="highcharts-color-{point.colorIndex}">●</span> {series.name}: <span class="highcharts-strong">{point.y}</span><br/>'},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},text:"Highcharts.com"}},t.setOptions=function(n){return t.defaultOptions=e(!0,t.defaultOptions,n),t.time.update(e(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(e(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,i){return t.time.dateFormat(e,n,i)}}(c),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.fireEvent,o=t.isNumber,s=t.pick,a=t.deg2rad;t.Tick=function(t,e,n,i,r){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var i,r,o,a,l=this,c=l.axis,u=c.options,h=c.chart,d=c.categories,f=c.names,p=l.pos,g=s(l.options&&l.options.labels,u.labels),m=p===(b=c.tickPositions)[0],v=p===b[b.length-1],y=(d=this.parameters.category||(d?s(d[p],f[p],p):p),l.label),b=b.info;c.isDatetimeAxis&&b&&(i=(r=h.time.resolveDTLFormat(u.dateTimeLabelFormats[!u.grid&&b.higherRanks[p]||b.unitName])).main),l.isFirst=m,l.isLast=v,l.formatCtx={axis:c,chart:h,isFirst:m,isLast:v,dateTimeLabelFormat:i,tickPositionInfo:b,value:c.isLog?e(c.lin2log(d)):d,pos:p},u=c.labelFormatter.call(l.formatCtx,this.formatCtx),(a=r&&r.list)&&(l.shortenLabel=function(){for(o=0;o<a.length;o++)if(y.attr({text:c.labelFormatter.call(t.extend(l.formatCtx,{dateTimeLabelFormat:a[o]}))}),y.getBBox().width<c.getSlotWidth(l)-2*s(g.padding,5))return;y.attr({text:""})}),n(y)?y&&y.textStr!==u&&(!y.textWidth||g.style&&g.style.width||y.styles.width||y.css({width:null}),y.attr({text:u})):((l.label=y=n(u)&&g.enabled?h.renderer.text(u,0,0,g.useHTML).add(c.labelGroup):null)&&(y.textPxLength=y.getBBox().width),l.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=n.options.labels,r=t.x,o=n.chart.chartWidth,l=n.chart.spacing,c=s(n.labelLeft,Math.min(n.pos,l[3])),u=(l=s(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,o-l[1])),this.label),h=this.rotation,d={left:0,center:.5,right:1}[n.labelAlign||u.attr("align")],f=u.getBBox().width,p=n.getSlotWidth(this),g=p,m=1,v={};h||"justify"!==s(i.overflow,"justify")?0>h&&r-d*f<c?e=Math.round(r/Math.cos(h*a)-c):0<h&&r+d*f>l&&(e=Math.round((o-r)/Math.cos(h*a))):(o=r+(1-d)*f,r-d*f<c?g=t.x+g*(1-d)-c:o>l&&(g=l-t.x+g*d,m=-1),(g=Math.min(p,g))<p&&"center"===n.labelAlign&&(t.x+=m*(p-g-d*(p-Math.min(f,g)))),(f>g||n.autoRotation&&(u.styles||{}).width)&&(e=g)),e&&(this.shortenLabel?this.shortenLabel():(v.width=e,(i.style||{}).textOverflow||(v.textOverflow="ellipsis"),u.css(v)))},getPosition:function(e,n,i,o){var s=this.axis,a=s.chart,l=o&&a.oldChartHeight||a.chartHeight;return e={x:e?t.correctFloat(s.translate(n+i,null,null,o)+s.transB):s.left+s.offset+(s.opposite?(o&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:e?l-s.bottom+s.offset-(s.opposite?s.height:0):t.correctFloat(l-s.translate(n+i,null,null,o)-s.transB)},r(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,i,o,s,l,c,u){var h=this.axis,d=h.transA,f=h.reversed,p=h.staggerLines,g=h.tickRotCorr||{x:0,y:0},m=s.y,v=o||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),y={};return n(m)||(m=0===h.side?i.rotation?-8:-i.getBBox().height:2===h.side?g.y+8:Math.cos(i.rotation*a)*(g.y-i.getBBox(!1,0).height/2)),t=t+s.x+v+g.x-(l&&o?l*d*(f?-1:1):0),e=e+m-(l&&!o?l*d*(f?1:-1):0),p&&(i=c/(u||1)%p,h.opposite&&(i=p-i-1),e+=h.labelOffset/p*i),y.x=t,y.y=Math.round(e),r(this,"afterGetLabelPosition",{pos:y}),y},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},renderGridLine:function(t,e,n){var i=this.axis,r=this.gridLine,o={},a=this.pos,l=this.type,c=s(this.tickmarkOffset,i.tickmarkOffset),u=i.chart.renderer;r||(l||(o.zIndex=1),t&&(e=0),this.gridLine=r=u.path().attr(o).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(i.gridGroup)),r&&(n=i.getPlotLinePath(a+c,r.strokeWidth()*n,t,"pass"))&&r[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,n){var i=this.axis,r=i.chart.renderer,o=this.type,s=i.tickSize(o?o+"Tick":"tick"),a=this.mark,l=!a,c=t.x;t=t.y,s&&(i.opposite&&(s[0]=-s[0]),l&&(this.mark=a=r.path().addClass("highcharts-"+(o?o+"-":"")+"tick").add(i.axisGroup)),a[l?"attr":"animate"]({d:this.getMarkPath(c,t,s[0],a.strokeWidth()*n,i.horiz,r),opacity:e}))},renderLabel:function(t,e,n,i){var r=(h=this.axis).horiz,a=h.options,l=this.label,c=a.labels,u=c.step,h=s(this.tickmarkOffset,h.tickmarkOffset),d=!0,f=t.x;t=t.y,l&&o(f)&&(l.xy=t=this.getLabelPosition(f,t,l,r,c,h,i,u),this.isFirst&&!this.isLast&&!s(a.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(a.showLastLabel,1)?d=!1:!r||c.step||c.rotation||e||0===n||this.handleOverflow(t),u&&i%u&&(d=!1),d&&o(t.y)?(t.opacity=n,l[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(l.attr("y",-9999),this.isNewLabel=!0))},render:function(e,n,i){var r=(c=this.axis).horiz,o=this.pos,a=s(this.tickmarkOffset,c.tickmarkOffset),l=(a=(o=this.getPosition(r,o,a,n)).x,o.y),c=r&&a===c.pos+c.len||!r&&l===c.pos?-1:1;i=s(i,1),this.isActive=!0,this.renderGridLine(n,i,c),this.renderMark(o,i,c),this.renderLabel(o,n,i,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){i(this,this.axis)}}}(c);var u=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.defaultOptions,a=t.defined,l=t.deg2rad,c=t.destroyObjectProperties,u=t.each,h=t.extend,d=t.fireEvent,f=t.format,p=t.getMagnitude,g=t.grep,m=t.inArray,v=t.isArray,y=t.isNumber,b=t.isString,x=t.merge,w=t.normalizeTickInterval,k=t.objectEach,O=t.pick,S=t.removeEvent,M=t.splat,C=t.syncTimeout,P=t.Tick,T=function(){this.init.apply(this,arguments)};return t.extend(T.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle"},type:"linear"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)}}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),d(this,"init",{userOptions:n}),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var o=this.options,s=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===s,r.isDatetimeAxis="datetime"===s,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=a(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=O(o.crosshair,M(t.options.tooltip.crosshairs)[i?0:1],!1),n=r.options.events,-1===m(r,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),k(n,(function(t,n){e(r,n,t)})),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log),d(this,"afterInit")},setOptions:function(t){this.options=x(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],x(s[this.coll],t)),d(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,n=this.axis,i=this.value,r=n.chart.time,o=n.categories,a=this.dateTimeLabelFormat,l=(c=s.lang).numericSymbols,c=c.numericSymbolMagnitude||1e3,u=l&&l.length,h=n.options.labels.format;n=n.isLog?Math.abs(i):n.tickInterval;if(h)e=f(h,this,r);else if(o)e=i;else if(a)e=r.dateFormat(a,i);else if(u&&1e3<=n)for(;u--&&void 0===e;)n>=(r=Math.pow(c,u+1))&&0==10*i%r&&null!==l[u]&&0!==i&&(e=t.numberFormat(i/r,-1)+l[u]);return void 0===e&&(e=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;d(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),u(t.series,(function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,s=n.options,l=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=l&&(l=null),t.isXAxis?(s=n.xData).length&&(n=r(s),o=i(s),y(n)||n instanceof Date||(s=g(s,y),n=r(s),o=i(s)),s.length&&(t.dataMin=Math.min(O(t.dataMin,s[0],n),n),t.dataMax=Math.max(O(t.dataMax,s[0],o),o))):(n.getExtremes(),o=n.dataMax,n=n.dataMin,a(n)&&a(o)&&(t.dataMin=Math.min(O(t.dataMin,n),n),t.dataMax=Math.max(O(t.dataMax,o),o)),a(l)&&(t.threshold=l),(!s.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),d(this,"afterGetSeriesExtremes")},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,c=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var u=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,c||(c=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(l-=(a*=-1)*(s.sector||s.len)),e?(t=(t*a+l-u)/c+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),t=y(i)?a*(t-i)*c+l+a*u+(y(o)?c*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,c=this.left,u=this.top,h=n&&l.oldChartHeight||l.chartHeight,d=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(t,e,n){return("pass"!==i&&t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):a=!0),t};return r=O(r,this.translate(t,null,null,n)),r=Math.min(Math.max(-1e5,r),1e5),t=n=Math.round(r+o),o=s=Math.round(h-r-o),y(r)?this.horiz?(o=u,s=h-this.bottom,t=n=f(t,c,c+this.width)):(t=c,n=d-this.right,o=s=f(o,u,u+this.height)):(a=!0,i=!1),a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=o(Math.floor(e/t)*t);n=o(Math.ceil(n/t)*t);var s,a=[];if(o(r+t)===r&&(s=20),this.single)return[e];for(e=r;e<=n&&(a.push(e),(e=o(e+t,s))!==i);)i=e;return a},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?O(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,i=t.minorTickInterval,r=[],o=t.pointRangePadding||0,s=t.min-o,a=(o=t.max+o)-s;if(a&&a/i<t.len/3)if(t.isLog)u(this.paddedTicks,(function(e,n,o){n&&r.push.apply(r,t.getLogTickPositions(i,o[n-1],o[n],!0))}));else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(i),s,o,e.startOfWeek));else for(e=s+(n[0]-s)%i;e<=o&&e!==r[0];e+=i)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,n,o,s,l,c,h=this.options,d=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(a(h.min)||a(h.max)?this.minRange=null:(u(this.series,(function(t){for(l=t.xData,o=t.xIncrement?1:l.length-1;0<o;o--)s=l[o]-l[o-1],(void 0===n||s<n)&&(n=s)})),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-d<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[d-(t=((c=this.minRange)-f+d)/2),O(h.min,d-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),f=[(d=i(t))+c,O(h.max,d+c)],e&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(f=r(f))-d<c&&(t[0]=f-c,t[1]=O(h.min,f-c),d=i(t))),this.min=d,this.max=f},getClosest:function(){var t;return this.categories?t=1:u(this.series,(function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&a(n)&&i&&(t=a(t)?Math.min(t,n):n)})),t},nameToX:function(t){var e,n=v(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,a(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():n?m(t.name,i):O(i.keys[t.name],-1)),-1===r?n||(e=i.length):e=r,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,n=this.names;0<n.length&&(u(t.keys(n.keys),(function(t){delete n.keys[t]})),n.length=0,this.minRange=this.userMinRange,u(this.series||[],(function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),u(t.points,(function(n,i){var r;n.options&&(void 0!==(r=e.nameToX(n))&&r!==n.x&&(n.x=r,t.xData[i]=r))}))})))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,s=0,a=n.linkedParent,l=!!n.categories,c=n.transA,h=n.isXAxis;(h||l||r)&&(e=n.getClosest(),a?(o=a.minPointOffset,s=a.pointRangePadding):u(n.series,(function(t){var i=l?1:h?O(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,b(t)?0:i/2),s=Math.max(s,"on"===t?0:i))})),a=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=a,n.pointRangePadding=s*=a,n.pointRange=Math.min(r,i),h&&(n.closestPointRange=e)),t&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.staticScale||n.len/(i+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*o,d(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,s,l=this,c=l.chart,h=l.options,f=l.isLog,g=l.isDatetimeAxis,m=l.isXAxis,v=l.isLinked,b=h.maxPadding,x=h.minPadding,k=h.tickInterval,S=h.tickPixelInterval,M=l.categories,C=y(l.threshold)?l.threshold:null,P=l.softThreshold;g||M||v||this.getTickAmount(),r=O(l.userMin,h.min),s=O(l.userMax,h.max),v?(l.linkedParent=c[l.coll][h.linkedTo],c=l.linkedParent.getExtremes(),l.min=O(c.min,c.dataMin),l.max=O(c.max,c.dataMax),h.type!==l.linkedParent.options.type&&t.error(11,1)):(!P&&a(C)&&(l.dataMin>=C?(n=C,x=0):l.dataMax<=C&&(i=C,b=0)),l.min=O(r,n,l.dataMin),l.max=O(s,i,l.dataMax)),f&&(l.positiveValuesOnly&&!e&&0>=Math.min(l.min,O(l.dataMin,l.min))&&t.error(10,1),l.min=o(l.log2lin(l.min),15),l.max=o(l.log2lin(l.max),15)),l.range&&a(l.max)&&(l.userMin=l.min=r=Math.max(l.dataMin,l.minFromRange()),l.userMax=s=l.max,l.range=null),d(l,"foundExtremes"),l.beforePadding&&l.beforePadding(),l.adjustForMinRange(),!(M||l.axisPointRange||l.usePercentage||v)&&a(l.min)&&a(l.max)&&(c=l.max-l.min)&&(!a(r)&&x&&(l.min-=c*x),!a(s)&&b&&(l.max+=c*b)),y(h.softMin)&&!y(l.userMin)&&(l.min=Math.min(l.min,h.softMin)),y(h.softMax)&&!y(l.userMax)&&(l.max=Math.max(l.max,h.softMax)),y(h.floor)&&(l.min=Math.max(l.min,h.floor)),y(h.ceiling)&&(l.max=Math.min(l.max,h.ceiling)),P&&a(l.dataMin)&&(C=C||0,!a(r)&&l.min<C&&l.dataMin>=C?l.min=C:!a(s)&&l.max>C&&l.dataMax<=C&&(l.max=C)),l.tickInterval=l.min===l.max||void 0===l.min||void 0===l.max?1:v&&!k&&S===l.linkedParent.options.tickPixelInterval?k=l.linkedParent.tickInterval:O(k,this.tickAmount?(l.max-l.min)/Math.max(this.tickAmount-1,1):void 0,M?1:(l.max-l.min)*S/Math.max(l.len,S)),m&&!e&&u(l.series,(function(t){t.processData(l.min!==l.oldMin||l.max!==l.oldMax)})),l.setAxisTranslation(!0),l.beforeSetTickPositions&&l.beforeSetTickPositions(),l.postProcessTickInterval&&(l.tickInterval=l.postProcessTickInterval(l.tickInterval)),l.pointRange&&!k&&(l.tickInterval=Math.max(l.pointRange,l.tickInterval)),e=O(h.minTickInterval,l.isDatetimeAxis&&l.closestPointRange),!k&&l.tickInterval<e&&(l.tickInterval=e),g||f||k||(l.tickInterval=w(l.tickInterval,null,p(l.tickInterval),O(h.allowDecimals,!(.5<l.tickInterval&&5>l.tickInterval&&1e3<l.max&&9999>l.max)),!!this.tickAmount)),this.tickAmount||(l.tickInterval=l.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,n=this.options,i=n.tickPositions;e=this.getMinorTickInterval();var r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&a(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&((e=[e[0],e.pop()])[0]===e[1]&&(e.length=1)),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.paddedTicks=e.slice(0),this.trimTicks(e,o,s),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||r||this.adjustTickAmount()),d(this,"afterSetTickPositions")},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==i)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&a(i)&&!this.options.tickPositions&&t.push((r+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||u(this.chart[this.coll],(function(n){var i=n.options;i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(e[i]?t=!0:e[i]=1)})),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!a(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length,s=O(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<n){for(;e.length<n;)e.length%2||this.min===s?e.push(o(e[e.length-1]+t)):e.unshift(o(e[0]-t));this.transA*=(r-1)/(n-1),this.min=e[0],this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(a(i)){for(t=n=e.length;t--;)(3===i&&1==t%2||2>=i&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,u(this.series,(function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)})),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),d(this,"afterSetScale")},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=O(n,!0),u(o.series,(function(t){delete t.kdTree})),r=h(r,{min:t,max:e}),d(o,"setExtremes",r,(function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)}))},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,O(r.min,n));r=Math.max(i,O(r.max,i));return t===this.min&&e===this.max||(this.allowZoomOutside||(a(n)&&(t<o&&(t=o),t>r&&(t=r)),a(i)&&(e<o&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,n=(a=this.options).offsets||[0,0,0,0],i=this.horiz,r=this.width=Math.round(t.relativeLength(O(a.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),o=this.height=Math.round(t.relativeLength(O(a.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),s=this.top=Math.round(t.relativeLength(O(a.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),a=this.left=Math.round(t.relativeLength(O(a.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-o-s,this.right=e.chartWidth-r-a,this.len=Math.max(i?r:o,0),this.pos=i?a:s},getExtremes:function(){var t=this.isLog;return{min:t?o(this.lin2log(this.min)):this.min,max:t?o(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(n=this.isLog)?this.lin2log(this.min):this.min,n=n?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=e:1/0===t?t=n:e>t?t=e:n<t&&(t=n),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(O(t,0)-90*this.side+720)%360)&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=O(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,s=this.tickInterval,c=s,h=this.len/(((this.categories?1:0)+this.max-this.min)/s),d=i.rotation,f=this.labelMetrics(),p=Number.MAX_VALUE,g=function(t){return t=1<(t/=h||1)?Math.ceil(t):1,o(t*s)};return r?(n=!i.staggerLines&&!i.step&&(a(d)?[d]:h<O(i.autoRotationLimit,80)&&i.autoRotation))&&u(n,(function(n){var i;(n===d||n&&-90<=n&&90>=n)&&((i=(e=g(Math.abs(f.h/Math.sin(l*n))))+Math.abs(n/360))<p&&(p=i,t=n,c=e))})):i.step||(c=g(f.h)),this.autoRotation=n,this.labelRotation=O(t,d),c},getSlotWidth:function(t){var e=this.chart,n=this.horiz,i=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];return t&&t.slotWidth||n&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/r||!n&&(i.style&&parseInt(i.style.width,10)||o&&o-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=a&&a.style||{},c=this.horiz,h=this.getSlotWidth(),d=Math.max(1,Math.round(h-2*(a.padding||5))),f={},p=this.labelMetrics(),g=a.style&&a.style.textOverflow,m=0;if(b(a.rotation)||(f.rotation=a.rotation||0),u(o,(function(t){(t=s[t])&&t.label&&t.label.textPxLength>m&&(m=t.label.textPxLength)})),this.maxLabelLength=m,this.autoRotation)m>d&&m>p.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(h&&(t=d,!g))for(e="clip",d=o.length;!c&&d--;)n=o[d],(n=s[n].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>h&&n.css({width:h+"px"}),n.getBBox().height>this.len/o.length-(p.h-p.f)&&(n.specificTextOverflow="ellipsis"));f.rotation&&(t=m>.5*i.chartHeight?.33*i.chartHeight:m,g||(e="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(f.align=this.labelAlign),u(o,(function(n){var i=(n=s[n])&&n.label,r=l.width,o={};i&&(i.attr(f),n.shortenLabel?n.shortenLabel():t&&!r&&"nowrap"!==l.whiteSpace&&(t<i.textPxLength||"SPAN"===i.element.tagName)?(o.width=t,g||(o.textOverflow=i.specificTextOverflow||e),i.css(o)):i.styles&&i.styles.width&&!o.width&&!r&&i.css({width:null}),delete i.specificTextOverflow,n.rotation=f.rotation)}),this),this.tickRotCorr=r.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||a(this.min)&&a(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,n=this.chart.renderer,i=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").add(this.axisGroup),this.axisTitle.isNew=!0),this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new P(this,t)},getOffset:function(){var t,e,n,i=this,r=(x=i.chart).renderer,o=i.options,s=i.tickPositions,l=i.ticks,c=i.horiz,h=i.side,f=x.inverted&&!i.isZAxis?[1,0,3,2][h]:h,p=0,g=0,m=o.title,v=o.labels,y=0,b=x.axisOffset,x=x.clipOffset,w=[-1,1,1,-1][h],S=o.className,M=i.axisParent;t=i.hasData(),i.showAxis=e=t||O(o.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=r.g("grid").attr({zIndex:o.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(S||"")).add(M),i.axisGroup=r.g("axis").attr({zIndex:o.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(S||"")).add(M),i.labelGroup=r.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels "+(S||"")).add(M)),t||i.isLinked?(u(s,(function(t,e){i.generateTick(t,e)})),i.renderUnsquish(),i.reserveSpaceDefault=0===h||2===h||{1:"left",3:"right"}[h]===i.labelAlign,O(v.reserveSpace,"center"===i.labelAlign||null,i.reserveSpaceDefault)&&u(s,(function(t){y=Math.max(l[t].getLabelSize(),y)})),i.staggerLines&&(y*=i.staggerLines),i.labelOffset=y*(i.opposite?-1:1)):k(l,(function(t,e){t.destroy(),delete l[e]})),m&&m.text&&!1!==m.enabled&&(i.addTitle(e),e&&!1!==m.reserveSpace&&(i.titleOffset=p=i.axisTitle.getBBox()[c?"height":"width"],n=m.offset,g=a(n)?0:O(m.margin,c?5:10))),i.renderLine(),i.offset=w*O(o.offset,b[h]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},r=0===h?-i.labelMetrics().h:2===h?i.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-r+w*(c?O(v.y,i.tickRotCorr.y+8*w):v.x)),i.axisTitleMargin=O(n,g),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(l,s)),c=this.tickSize("tick"),b[h]=Math.max(b[h],i.axisTitleMargin+p+w*i.offset,g,t&&s.length&&c?c[0]+w*i.offset:0),o=o.offset?0:2*Math.floor(i.axisLine.strokeWidth()/2),x[f]=Math.max(x[f],o),d(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,c=r.y||0,u=this.axisTitle,h=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u);u=Math.max(u.getBBox(null,0).height-h.h-1,0),i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-u,u,h.f,-u][this.side];return{x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+c-(s?this.height:0)+a:i+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&y(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new P(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&y(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new P(this,t)),r&&i[t].isNew&&i[t].render(e,!0,-1),i[t].render(e))},render:function(){var e,i,r=this,o=r.chart,s=r.options,a=r.isLog,l=r.isLinked,c=r.tickPositions,h=r.axisTitle,f=r.ticks,p=r.minorTicks,g=r.alternateBands,m=s.stackLabels,v=s.alternateGridColor,b=r.tickmarkOffset,x=r.axisLine,w=r.showAxis,O=n(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,u([f,p,g],(function(t){k(t,(function(t){t.isActive=!1}))})),(r.hasData()||l)&&(r.minorTickInterval&&!r.categories&&u(r.getMinorTickPositions(),(function(t){r.renderMinorTick(t)})),c.length&&(u(c,(function(t,e){r.renderTick(t,e)})),b&&(0===r.min||r.single)&&(f[-1]||(f[-1]=new P(r,-1,null,!0)),f[-1].render(-1))),v&&u(c,(function(n,s){i=void 0!==c[s+1]?c[s+1]+b:r.max-b,0==s%2&&n<r.max&&i<=r.max+(o.polar?-b:b)&&(g[n]||(g[n]=new t.PlotLineOrBand(r)),e=n+b,g[n].options={from:a?r.lin2log(e):e,to:a?r.lin2log(i):i,color:v},g[n].render(),g[n].isActive=!0)})),r._addedPlotLB||(u((s.plotLines||[]).concat(s.plotBands||[]),(function(t){r.addPlotBandOrLine(t)})),r._addedPlotLB=!0)),u([f,p,g],(function(t){var e,n=[],i=O.duration;k(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))})),C((function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])}),t!==g&&o.hasRendered&&i?i:0)})),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[w?"show":"hide"](!0)),h&&w&&(s=r.getTitlePosition(),y(s.y)?(h[h.isNew?"attr":"animate"](s),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1,d(this,"afterRender")},redraw:function(){this.visible&&(this.render(),u(this.plotLinesAndBands,(function(t){t.render()}))),u(this.series,(function(t){t.isDirty=!0}))},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;if(d(this,"destroy",{keepEvents:t}),t||S(n),k(i,(function(t,e){c(t),i[e]=null})),u([n.ticks,n.minorTicks,n.alternateBands],(function(t){c(t)})),r)for(t=r.length;t--;)r[t].destroy();for(e in u("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),(function(t){n[t]&&(n[t]=n[t].destroy())})),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();k(n,(function(t,e){-1===m(e,n.keepProps)&&delete n[e]}))},drawCrosshair:function(t,e){var n,i,r=this.crosshair,o=O(r.snap,!0),s=this.cross;if(d(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(a(e)||!o)){if(o?a(e)&&(i=O(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),a(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:O(e.stackY,e.y)),null,null,null,i)||null),!a(n))return void this.hideCrosshair();o=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+r.className).attr({zIndex:O(r.zIndex,2)}).add()),s.show().attr({d:n}),o&&!r.width&&s.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();d(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=T}(c);return function(t){var e=t.Axis,n=t.getMagnitude,i=t.normalizeTickInterval,r=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var s,a=r[e[0]],l=e[1];for(s=0;s<o.length&&(e=o[s],a=r[e[0]],l=e[1],!(o[s+1]&&t<=(a*l[l.length-1]+r[o[s+1][0]])/2));s++);return a===r.year&&t<5*a&&(l=[1,2,5]),{unitRange:a,count:t=i(t/a,l,"year"===e[0]?Math.max(n(t/a),1):1),unitName:e[0]}}}(c),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this.options,c=this.len,u=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),u=this.getLinearTickPositions(t,e,s);else if(.08<=t){var h,d,f,p,g;for(c=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<s+1&&!g;c++)for(d=l.length,h=0;h<d&&!g;h++)(f=this.log2lin(this.lin2log(c)*l[h]))>e&&(!a||p<=s)&&void 0!==p&&u.push(p),p>s&&(g=!0),p=f}else e=this.lin2log(e),s=this.lin2log(s),t=a?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(a?5:1)*(s-e)/((a?c/this.tickPositions.length:c)||1)),t=r(t,null,n(t)),u=i(this.getLinearTickPositions(t,e,s),this.log2lin),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),u},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(c),function(t,e){var n=t.arrayMax,i=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e,n=this,i=n.axis,o=i.horiz,s=n.options,a=s.label,u=n.label,h=s.to,d=s.from,f=s.value,p=r(d)&&r(h),g=r(f),m=n.svgElem,v=!m,y=[],b=c(s.zIndex,0),x=s.events,w=(y={class:"highcharts-plot-"+(p?"band ":"line ")+(s.className||"")},{}),k=i.chart.renderer,O=p?"bands":"lines";if(i.isLog&&(d=i.log2lin(d),h=i.log2lin(h),f=i.log2lin(f)),w.zIndex=b,O+="-"+b,(e=i.plotLinesAndBandsGroups[O])||(i.plotLinesAndBandsGroups[O]=e=k.g("plot-"+O).attr(w).add()),v&&(n.svgElem=m=k.path().attr(y).add(e)),g)y=i.getPlotLinePath(f,m.strokeWidth());else{if(!p)return;y=i.getPlotBandPath(d,h,s)}return v&&y&&y.length?(m.attr({d:y}),x&&t.objectEach(x,(function(t,e){m.on(e,(function(t){x[e].apply(n,[t])}))}))):m&&(y?(m.show(),m.animate({d:y})):(m.hide(),u&&(n.label=u=u.destroy()))),a&&r(a.text)&&y&&y.length&&0<i.width&&0<i.height&&!y.isFlat?(a=l({align:o&&p&&"center",x:o?!p&&4:10,verticalAlign:!o&&p&&"middle",y:o?p?16:10:p?6:-4,rotation:o&&!p&&90},a),this.renderLabel(a,y,p,b)):u&&u.hide(),n},renderLabel:function(t,e,r,o){var s=this.label,a=this.axis.chart.renderer;s||((s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")}).zIndex=o,this.label=s=a.text(t.text,0,0,t.useHTML).attr(s).add()),o=e.xBounds||[e[1],e[4],r?e[6]:e[1]],e=e.yBounds||[e[2],e[5],r?e[7]:e[2]],r=i(o),a=i(e),s.align(t,!1,{x:r,y:a,width:n(o)-r,height:n(e)-a}),s.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),o=[],s=this.horiz,a=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&i)for(t&&(n=r.toString()===i.toString(),a=0),t=0;t<r.length;t+=6)s&&i[t+1]===r[t+1]?(i[t+1]+=a,i[t+4]+=a):s||i[t+2]!==r[t+2]||(i[t+2]+=a,i[t+5]+=a),o.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],i[t+4],i[t+5],i[t+1],i[t+2],"z"),o.isFlat=n;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();s([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],(function(e){for(r=e.length;r--;)e[r].id===t&&a(e,e[r])}))},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(c,u),function(t){var e=t.doc,n=t.each,i=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,c=t.splat,u=t.syncTimeout,h=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){n(this.chart.series,(function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)}))},applyFilter:function(){var t=this.chart;t.renderer.definition({tagName:"filter",id:"drop-shadow-"+t.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),t.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+t.index+"{filter:url(#drop-shadow-"+t.index+")}"})},getLabel:function(){var e,n=this.chart.renderer,i=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:i.style&&i.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=n=new t.Renderer(e,0,0)),this.label=this.split?n.g("tooltip"):n.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:i.padding,r:i.borderRadius}),this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,n,r,o){var s=this,a=s.now,l=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(e-a.x)||1<Math.abs(n-a.y)),c=s.followPointer||1<s.len;i(a,{x:l?(2*a.x+e)/3:e,y:l?(a.y+n)/2:n,anchorX:c?void 0:l?(2*a.anchorX+r)/3:r,anchorY:c?void 0:l?(a.anchorY+o)/2:o}),s.getLabel().attr(a),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){s&&s.move(e,n,r,o)}),32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u((function(){n.getLabel()[e?"fadeOut":"hide"](),n.isHidden=!0}),e))},getAnchor:function(t,e){var i,r,o=this.chart,a=o.pointer,l=o.inverted,u=o.plotTop,h=o.plotLeft,d=0,f=0;return t=c(t),this.followPointer&&e?(void 0===e.chartX&&(e=a.normalize(e)),t=[e.chartX-o.plotLeft,e.chartY-u]):t[0].tooltipPos?t=t[0].tooltipPos:(n(t,(function(t){i=t.series.yAxis,r=t.series.xAxis,d+=t.plotX+(!l&&r?r.left-h:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&i?i.top-u:0)})),d/=t.length,f/=t.length,t=[l?o.plotWidth-f:d,this.shared&&!l&&1<t.length&&e?e.chartY-u:l?o.plotHeight-d:f]),s(t,Math.round)},getPosition:function(t,n,i){var r,o=this.chart,s=this.distance,a={},c=o.inverted&&i.h||0,u=this.outside,h=u?e.documentElement.clientWidth-2*s:o.chartWidth,d=u?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,f=o.pointer.chartPosition,p=["y",d,n,(u?f.top-s:0)+i.plotY+o.plotTop,u?0:o.plotTop,u?d:o.plotTop+o.plotHeight],g=["x",h,t,(u?f.left-s:0)+i.plotX+o.plotLeft,u?0:o.plotLeft,u?h:o.plotLeft+o.plotWidth],m=!this.followPointer&&l(i.ttBelow,!o.inverted==!!i.negative),v=function(t,e,n,i,r,o){var l=n<i-s,u=i+s+n<e,h=i-s-n;if(i+=s,m&&u)a[t]=i;else if(!m&&l)a[t]=h;else if(l)a[t]=Math.min(o-n,0>h-c?h:h-c);else{if(!u)return!1;a[t]=Math.max(r,i+c+n>e?i:i+c)}},y=function(t,e,n,i){var r;return i<s||i>e-s?r=!1:a[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,r},b=function(t){var e=p;p=g,g=e,r=t},x=function(){!1!==v.apply(0,p)?!1!==y.apply(0,g)||r||(b(!0),x()):r?a.x=a.y=0:(b(!0),x())};return(o.inverted||1<this.len)&&b(),x(),a},defaultFormatter:function(t){var e,n=this.points||c(this);return(e=(e=[t.tooltipFooterHeaderFormatter(n[0])]).concat(t.bodyFormatter(n))).push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(e,i){var r,o,s=this.options,a=e,u={},h=[];r=s.formatter||this.defaultFormatter;var d;u=this.shared;s.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=c(a)[0].series.tooltipOptions.followPointer,i=(o=this.getAnchor(a,i))[0],s=o[1],!u||a.series&&a.series.noSharedTooltip?u=a.getLabelConfig():(n(a,(function(t){t.setState("hover"),h.push(t.getLabelConfig())})),(u={x:a[0].category,y:a[0].y}).points=h,a=a[0]),this.len=h.length,u=r.call(u,this),d=a.series,this.distance=l(d.tooltipOptions.distance,16),!1===u?this.hide():(r=this.getLabel(),this.isHidden&&r.attr({opacity:1}).show(),this.split?this.renderSplit(u,c(e)):(r.css({width:this.chart.spacingBox.width}),r.attr({text:u&&u.join?u.join(""):u}),r.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(a.colorIndex,d.colorIndex)),this.updatePosition({plotX:i,plotY:s,negative:a.negative,ttBelow:a.ttBelow,h:o[2]||0})),this.isHidden=!1))},renderSplit:function(e,i){var r,o=this,s=[],a=this.chart,c=a.renderer,u=!0,h=this.options,d=0,f=this.getLabel(),p=a.plotTop;t.isString(e)&&(e=[!1,e]),n(e.slice(0,i.length+1),(function(t,e){if(!1!==t){var n=(e=i[e-1]||{isHeader:!0,plotX:i[0].plotX}).series||o,g=n.tt,m="highcharts-color-"+l(e.colorIndex,(e.series||{}).colorIndex,"none");g||(n.tt=g=c.label(null,null,null,"callout",null,null,h.useHTML).addClass("highcharts-tooltip-box "+m+(e.isHeader?" highcharts-tooltip-header":"")).attr({padding:h.padding,r:h.borderRadius}).add(f)),g.isActive=!0,g.attr({text:t}),m=(t=g.getBBox()).width+g.strokeWidth(),e.isHeader?(d=t.height,a.xAxis[0].opposite&&(r=!0,p-=d),m=Math.max(0,Math.min(e.plotX+a.plotLeft-m/2,a.chartWidth+(a.scrollablePixels?a.scrollablePixels-a.marginRight:0)-m))):m=e.plotX+a.plotLeft-l(h.distance,16)-m,0>m&&(u=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=p,e.isHeader&&(t=r?-d:a.plotHeight+d),s.push({target:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:m,tt:g})}})),this.cleanSplit(),t.distribute(s,a.plotHeight+d),n(s,(function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:u||e.isHeader?t.x:e.plotX+a.plotLeft+l(h.distance,16),y:t.pos+p,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?a.plotTop+a.plotHeight/2:e.plotY+n.yAxis.pos})}))},updatePosition:function(t){var e,n=this.chart,i=this.getLabel(),r=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t),o=t.plotX+n.plotLeft;t=t.plotY+n.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(i.width+e,i.height+e,!1),o+=n.pointer.chartPosition.left-r.x,t+=n.pointer.chartPosition.top-r.y),this.move(Math.round(r.x),Math.round(r.y||0),o,t)},getDateFormat:function(t,e,n,i){var r,o,s=this.chart.time,a=s.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(o in h){if(t===h.week&&+s.dateFormat("%w",e)===n&&"00:00:00.000"===a.substr(6)){o="week";break}if(h[o]>t){o=c;break}if(l[o]&&a.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(c=o)}return o&&(r=s.resolveDTLFormat(i[o]).main),r},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var i=t.series,s=i.tooltipOptions,a=s.xDateFormat,l=i.xAxis,c=l&&"datetime"===l.options.type&&o(t.key),u=s[e+"Format"];return c&&!a&&(a=this.getXDateFormat(t,s,l)),c&&a&&n(t.point&&t.point.tooltipDateKeys||["key"],(function(t){u=u.replace("{point."+t+"}","{point."+t+":"+a+"}")})),r(u,{point:t,series:i},this.chart.time)},bodyFormatter:function(t){return s(t,(function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])}))}}}(c),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.css,o=t.defined,s=t.each,a=t.extend,l=t.find,c=t.fireEvent,u=t.isNumber,h=t.isObject,d=t.offset,f=t.pick,p=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=f(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(i=this.chart).options.chart,n=e.zoomType||"",i=i.inverted;/touch/.test(t.type)&&(n=f(e.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!i||n&&i,this.zoomVert=n&&!i||t&&i,this.hasZoom=t||n},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=d(this.chart.container)),a(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return s(this.chart.axes,(function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})})),e},findNearestKDPoint:function(t,e,n){var i;return s(t,(function(t){var r=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,r),(r=h(t,!0))&&!(r=!h(i,!0))){r=i.distX-t.distX;var o=i.dist-t.dist,s=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex);r=0<(0!==r&&e?r:0!==o?o:0!==s?s:i.series.index>t.series.index?-1:1)}r&&(i=t)})),i},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=(i=t.series).xAxis,i=i.yAxis,r=f(t.clientX,t.plotX),o=t.shapeArgs;return n&&i?e?{chartX:n.len+n.pos-r,chartY:i.len+i.pos-t.plotY}:{chartX:r+n.pos,chartY:t.plotY+i.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(e,n,i,r,o,a,c){var u,d=[],p=c&&c.isBoosting;return r=!(!r||!e),c=n&&!n.stickyTracking?[n]:t.grep(i,(function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&t.stickyTracking})),n=(u=r?e:this.findNearestKDPoint(c,o,a))&&u.series,u&&(o&&!n.noSharedTooltip?(c=t.grep(i,(function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip})),s(c,(function(t){var e=l(t.points,(function(t){return t.x===u.x&&!t.isNull}));h(e)&&(p&&(e=t.getPoint(e)),d.push(e))}))):d.push(u)),{hoverPoint:u,hoverSeries:n,hoverPoints:d}},runPointActions:function(n,r){var o,a=this.chart,l=a.tooltip&&a.tooltip.options.enabled?a.tooltip:void 0,c=!!l&&l.shared,u=(h=r||a.hoverPoint)&&h.series||a.hoverSeries,h=(u=this.getHoverData(h,u,a.series,"touchmove"!==n.type&&(!!r||u&&u.directTouch&&this.isDirectTouch),c,n,{isBoosting:a.isBoosting})).hoverPoint;if(o=u.hoverPoints,r=(u=u.hoverSeries)&&u.tooltipOptions.followPointer,c=c&&u&&!u.noSharedTooltip,h&&(h!==a.hoverPoint||l&&l.isHidden)){if(s(a.hoverPoints||[],(function(e){-1===t.inArray(e,o)&&e.setState()})),s(o||[],(function(t){t.setState("hover")})),a.hoverSeries!==u&&u.onMouseOver(),a.hoverPoint&&a.hoverPoint.firePointEvent("mouseOut"),!h.series)return;h.firePointEvent("mouseOver"),a.hoverPoints=o,a.hoverPoint=h,l&&l.refresh(c?o:h,n)}else r&&l&&!l.isHidden&&(h=l.getAnchor([{}],n),l.updatePosition({plotX:h[0],plotY:h[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(a.container.ownerDocument,"mousemove",(function(e){var n=i[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)}))),s(a.axes,(function(e){var i=f(e.crosshair.snap,!0),r=i?t.find(o,(function(t){return t.series[e.coll]===e})):void 0;r||!i?e.drawCrosshair(n,r):e.hideCrosshair()}))},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,a=n.tooltip,l=a&&a.shared?o:r;t&&l&&s(p(l),(function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?a&&l&&(a.refresh(l),a.shared&&o?s(o,(function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):r&&(r.setState(r.state,!0),s(n.axes,(function(t){t.crosshair&&t.drawCrosshair(null,r)})))):(r&&r.onMouseOut(),o&&s(o,(function(t){t.setState()})),i&&i.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),s(n.axes,(function(t){t.hideCrosshair()})),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;s(i.series,(function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))})),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,r=t.chartX,o=t.chartY,s=this.zoomHor,a=this.zoomVert,l=n.plotLeft,c=n.plotTop,u=n.plotWidth,h=n.plotHeight,d=this.selectionMarker,f=this.mouseDownX,p=this.mouseDownY,g=i.panKey&&t[i.panKey+"Key"];d&&d.touch||(r<l?r=l:r>l+u&&(r=l+u),o<c?o=c:o>c+h&&(o=c+h),this.hasDragged=Math.sqrt(Math.pow(f-r,2)+Math.pow(p-o,2)),10<this.hasDragged&&(e=n.isInsidePlot(f-l,p-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!d&&(this.selectionMarker=d=n.renderer.rect(l,c,s?1:u,a?1:h,0).attr({class:"highcharts-selection-marker",zIndex:7}).add()),d&&s&&(r-=f,d.attr({width:Math.abs(r),x:(0<r?0:r)+f})),d&&a&&(r=o-p,d.attr({height:Math.abs(r),y:(0<r?0:r)+p})),e&&!d&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var l,h={originalEvent:t,xAxis:[],yAxis:[]},d=this.selectionMarker,f=d.attr?d.attr("x"):d.x,p=d.attr?d.attr("y"):d.y,g=d.attr?d.attr("width"):d.width,m=d.attr?d.attr("height"):d.height;(this.hasDragged||i)&&(s(n.axes,(function(n){if(n.zoomEnabled&&o(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var r=n.horiz,s="touchend"===t.type?n.minPixelPadding:0,a=n.toValue((r?f:p)+s);r=n.toValue((r?f+g:p+m)-s);h[n.coll].push({axis:n,min:Math.min(a,r),max:Math.max(a,r)}),l=!0}})),l&&c(n,"selection",h,(function(t){n.zoom(a(t,i?{animation:!1}:null))}))),u(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&u(n.index)&&(r(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;o(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),(e=this.normalize(e)).returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(c(n.series,"click",a(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(a(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container,r=i.ownerDocument;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},this.unbindContainerMouseLeave=e(i,"mouseleave",n.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(r,"mouseup",n.onDocumentMouseUp)),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(r,"touchend",n.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,(function(t,n){e[n]=null}))}}}(c),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,o=t.noop,s=t.pick;i(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,h=this.chart,d=t?"x":"y",f=t?"X":"Y",p="chart"+f,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=a||1,y=h.inverted,b=h.bounds[t?"h":"v"],x=1===e.length,w=e[0][p],k=n[0][p],O=!x&&e[1][p],S=!x&&n[1][p];(n=function(){!x&&20<Math.abs(w-O)&&(v=a||Math.abs(k-S)/Math.abs(w-O)),c=(m-k)/v+w,l=h["plot"+(t?"Width":"Height")]/v})(),(e=c)<b.min?(e=b.min,u=!0):e+l>b.max&&(e=b.max-l,u=!0),u?(k-=.8*(k-s[d][0]),x||(S-=.8*(S-s[d][1])),n()):s[d]=[k,S],y||(o[d]=c-m,o[g]=l),o=y?1/v:v,r[g]=l,r[d]=e,i[y?t?"scaleY":"scaleX":"scale"+f]=v,i["translate"+f]=o*m+(k-o*w)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,c=t.touches,u=c.length,h=e.lastValidTouch,d=e.hasZoom,f=e.selectionMarker,p={},g=1===u&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),m={};1<u&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),r(c,(function(t){return e.normalize(t)})),"touchstart"===t.type?(n(c,(function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}})),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],n(a.axes,(function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.max(i,r);e.min=Math.min(t.pos,Math.min(i,r)-n),e.max=Math.max(t.pos+t.len,o+n)}})),e.res=!0):e.followTouchMove&&1===u?this.runPointActions(e.normalize(t)):l.length&&(f||(e.selectionMarker=f=i({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,c,p,f,m,h),e.hasPinched=d,e.scaleGroups(p,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r=this.chart;r.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(i=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),s(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(c),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,c=t.win,u=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var h={},d=!!c.PointerEvent,f=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(h,(function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})})),e},p=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),(o=n[t.hoverChartIndex].pointer)[i]({type:r,target:e.currentTarget,preventDefault:s,touches:f()}))};o(a.prototype,{onContainerPointerDown:function(t){p(t,"onContainerTouchStart","touchstart",(function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},onContainerPointerMove:function(t){p(t,"onContainerTouchMove","touchmove",(function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)}))},onDocumentPointerUp:function(t){p(t,"onDocumentTouchEnd","touchend",(function(t){delete h[t.pointerId]}))},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(a.prototype,"init",(function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})})),u(a.prototype,"setDOMEvents",(function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)})),u(a.prototype,"destroy",(function(t){this.batchMSEvents(l),t.call(this)}))}}(c),function(t){var e=t.addEvent,n=t.css,i=t.discardElement,r=t.defined,o=t.each,s=t.fireEvent,a=t.isFirefox,l=t.marginNames,c=t.merge,u=t.pick,h=t.setAnimation,d=t.stableSort,f=t.win,p=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=e(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=u(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,u(e,!0)&&n.redraw(),s(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),s(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=(n=this.options).symbolPadding,n=!n.rtl,i=(o=t._legendItemPos)[0],o=o[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t[r(t.translateY)?"animate":"attr"]({translateX:n?i:this.legendWidth-i-2*e-4,translateY:o}),s&&(s.x=i,s.y=o)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],(function(e){t[e]&&(t[e]=t[e].destroy())})),e&&i(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),(function(e){o(["legendItem","legendGroup"],t,e)})),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,o(this.allItems,(function(o){var s,a=o.checkbox;a&&(s=t+r+a.y+(this.scrollOffset||0)+3,n(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:this.proximate||s>t-6&&s<t+i-6?"":"none"}))}),this))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).add(this.group)),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r=this.symbolWidth,o=i.symbolPadding,s="horizontal"===i.layout?u(i.itemDistance,20):0,a=!i.rtl,l=t.legendItem,c=!t.series,h=!c&&t.series.drawLegendSymbol?t.series:t,d=h.options,f=(s=r+o+s+((d=this.createCheckboxForItem&&d&&d.showCheckbox)?20:0),i.useHTML),p=t.options.className;l||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+h.type+"-series highcharts-color-"+t.colorIndex+(p?" "+p:"")+(c?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=l=n.text("",a?r+o:-o,this.baseline||0,f).attr({align:a?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(12,l),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,l.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,h.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,l,f),d&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),l.css({width:(i.itemWidth||i.width||e.spacingBox.width)-s}),this.setText(t),e=l.getBBox(),t.itemWidth=t.checkboxOffset=i.itemWidth||t.legendItemWidth||e.width+s,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,n=this.padding,i="horizontal"===e.layout,r=t.itemHeight,o=e.itemMarginBottom||0,s=this.itemMarginTop,a=i?u(e.itemDistance,20):0,l=e.width,c=l||this.chart.spacingBox.width-2*n-e.x;e=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth;i&&this.itemX-n+e>c&&(this.itemX=n,this.itemY+=s+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=s+this.itemY+o,this.lastLineHeight=Math.max(r,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],i?this.itemX+=e:(this.itemY+=s+r+o,this.lastLineHeight=r),this.offsetWidth=l||Math.max((i?this.itemX-n-(t.checkbox?0:a):e)+n,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,(function(e){var n=e&&e.options;e&&u(n.showInLegend,!r(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))})),s(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var n=this.chart,i=this.options,s=this.getAlignment();s&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],(function(o,a){o.test(s)&&!r(t[a])&&(n[l[a]]=Math.max(n[l[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*i[a%2?"x":"y"]+u(i.margin,12)+e[a]+(0===a&&void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0)))}))},proximatePositions:function(){var e=this.chart,n=[],i="left"===this.options.align;o(this.allItems,(function(r){var o,s;o=i,r.xAxis&&r.points&&(r.xAxis.options.reversed&&(o=!o),o=t.find(o?r.points:r.points.slice(0).reverse(),(function(e){return t.isNumber(e.plotY)})),s=r.legendGroup.getBBox().height,n.push({target:r.visible?(o?o.plotY:r.xAxis.height)-.3*s:e.plotHeight,size:s,item:r}))}),this),t.distribute(n,e.plotHeight),o(n,(function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos}))},render:function(){var t,e,n,i=this.chart,r=i.renderer,s=this.group,a=this.box,l=this.options,u=this.padding;this.itemX=u,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,s||(this.group=s=r.g("legend").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(s),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),d(t,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+u,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n),n+=u,a||(this.box=a=r.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(s),a.isNew=!0),0<t&&0<n&&(a[a.isNew?"attr":"animate"](a.crisp.call({},{x:0,y:0,width:t,height:n},a.strokeWidth())),a.isNew=!1),a[e?"show":"hide"](),"none"===s.getStyle("display")&&(t=n=0),this.legendWidth=t,this.legendHeight=n,e&&(r=i.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(r=c(r,{y:r.y+i.titleOffset+i.options.title.margin})),s.align(c(l,{width:t,height:n,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,r)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,n,i=this,r=(c=this.chart).renderer,s=this.options,a=s.y,l=this.padding,c=c.spacingBox.height+("top"===s.verticalAlign?-a:a)-l,h=(a=s.maxHeight,this.clipRect),d=s.navigation,f=u(d.animation,!0),p=d.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"==typeof t?h.attr({height:t}):h&&(i.clipRect=h.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+l+"px,9999px,"+(l+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(c/=2),a&&(c=Math.min(c,a)),m.length=0,t>c&&!1!==d.enabled?(this.clipHeight=e=Math.max(c-20-this.titleHeight-l,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,o(v,(function(t,i){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),s=m.length;(!s||r-m[s-1]>e&&(n||r)!==m[s-1])&&(m.push(n||r),s++),t.pageIx=s-1,n&&(v[i-1].pageIx=s-1),i===v.length-1&&r+o-m[s-1]>e&&(m.push(r),t.pageIx=s),r!==n&&(n=r)})),h||(h=i.clipRect=r.clipRect(0,l,9999,0),i.contentGroup.clip(h)),y(e),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,p,p).on("click",(function(){i.scroll(-1,f)})).add(g),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation").add(g),this.down=r.symbol("triangle-down",0,0,p,p).on("click",(function(){i.scroll(1,f)})).add(g)),i.scroll(0),t=c):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.pager,s=this.padding;t>i&&(t=i),0<t&&(void 0!==e&&h(e,this.chart),this.nav.attr({translateX:s,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),o.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,class:t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.scrollOffset=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,i=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,u(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options.marker,i=t.symbolWidth,r=t.symbolHeight;e=r/2;var o=this.chart.renderer,s=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),this.legendLine=o.path(["M",0,t,"L",i,t]).addClass("highcharts-graph").attr({}).add(s),n&&!1!==n.enabled&&i&&(e=Math.min(u(n.radius,e),e),0===this.symbol.indexOf("url")&&(n=c(n,{width:r,height:r}),e=0),this.legendSymbol=n=o.symbol(this.symbol,i/2-e,t-e,2*e,2*e,n).addClass("highcharts-point").add(s),n.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator.userAgent)||a)&&p(t.Legend.prototype,"positionItem",(function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)}))}(c),function(t){var e=t.addEvent,n=t.animObject,i=t.attr,r=t.doc,o=t.Axis,s=t.createElement,a=t.defaultOptions,l=t.discardElement,c=t.charts,u=t.defined,h=t.each,d=t.extend,f=t.find,p=t.fireEvent,g=t.grep,m=t.isNumber,v=t.isObject,y=t.isString,b=t.Legend,x=t.marginNames,w=t.merge,k=t.objectEach,O=t.Pointer,S=t.pick,M=t.pInt,C=t.removeEvent,P=t.seriesTypes,T=t.splat,A=t.syncTimeout,L=t.win,j=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new j(t,e,n)},d(j.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(y(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,s=n.series,l=n.plotOptions||{};p(this,"init",{args:arguments},(function(){for(o in n.series=null,(r=w(a,n)).plotOptions)r.plotOptions[o].tooltip=l[o]&&w(l[o].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=s,this.userOptions=n;var u=r.chart,h=u.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=n.time&&t.keys(n.time).length?new t.Time(n.time):t.time,this.hasCartesianSeries=u.showAxes;var d=this;d.index=c.length,c.push(d),t.chartCount++,h&&k(h,(function(t,n){e(d,n,t)})),d.xAxis=[],d.yAxis=[],d.pointCount=d.colorCounter=d.symbolCounter=0,p(d,"afterInit"),d.firstRender()}))},initSeries:function(e){var n=this.options.chart;return(n=P[e.type||n.type||n.defaultSeriesType])||t.error(17,!0),(n=new n).init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){p(this,"beforeRedraw");var n,i,r,o=this.axes,s=this.series,a=this.pointer,l=this.legend,c=this.userOptions.legend,u=this.isDirtyLegend,f=this.hasCartesianSeries,g=this.isDirtyBox,m=this.renderer,v=m.isHidden(),y=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),v&&this.temporaryDisplay(),this.layOutTitles(),e=s.length;e--;)if((r=s[e]).options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(e=s.length;e--;)(r=s[e]).options.stacking&&(r.isDirty=!0);h(s,(function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),u=!0):c&&(c.labelFormatter||c.labelFormat)&&(u=!0)),t.isDirtyData&&p(t,"updatedData")})),u&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),f&&h(o,(function(t){t.updateNames(),t.updateYNames&&t.updateYNames(),t.setScale()})),this.getMargins(),f&&(h(o,(function(t){t.isDirty&&(g=!0)})),h(o,(function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,y.push((function(){p(t,"afterSetExtremes",d(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(g||n)&&t.redraw()}))),g&&this.drawChartBox(),p(this,"predraw"),h(s,(function(t){(g||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),a&&a.reset(!0),m.draw(),p(this,"redraw"),p(this,"render"),v&&this.temporaryDisplay(!0),h(y,(function(t){t.call()}))},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,r=this.series;for(n=f(this.axes,e)||f(this.series,e),i=0;!n&&i<r.length;i++)n=f(r[i].points||[],e);return n},getAxes:function(){var t=this,e=(n=this.options).xAxis=T(n.xAxis||{}),n=n.yAxis=T(n.yAxis||{});p(this,"getAxes"),h(e,(function(t,e){t.index=e,t.isX=!0})),h(n,(function(t,e){t.index=e})),e=e.concat(n),h(e,(function(e){new o(t,e)})),p(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return h(this.series,(function(e){t=t.concat(g(e.data||[],(function(t){return t.selected})))})),t},getSelectedSeries:function(){return g(this.series,(function(t){return t.selected}))},setTitle:function(t,e,n){var i,r=this,o=r.options;i=o.title=w(o.title,t),o=o.subtitle=w(o.subtitle,e),h([["title",t,i],["subtitle",e,o]],(function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)})})),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;h(["title","subtitle"],(function(t){var e,o=this[t],s=this.options[t];t="title"===t?-3:s.verticalAlign?0:n+2,o&&(e=i.fontMetrics(e,o).b,o.css({width:(s.width||r.width+s.widthAdjust)+"px"}).align(d({y:t+e},s),!1,"spacingBox"),s.floating||s.verticalAlign||(n=Math.ceil(n+o.getBBox(s.useHTML).height)))}),this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&S(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(n=this.options.chart).width,n=n.height,i=this.renderTo;u(e)||(this.containerWidth=t.getStyle(i,"width")),u(n)||(this.containerHeight=t.getStyle(i,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(n,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(r.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(r.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,r.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==r.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,o,a=this.options,l=a.chart;e=this.renderTo;var u,h=t.uniqueKey();for(u in e||(this.renderTo=e=l.renderTo),y(e)&&(this.renderTo=e=r.getElementById(e)),e||t.error(13,!0),n=M(i(e,"data-highcharts-chart")),m(n)&&c[n]&&c[n].hasRendered&&c[n].destroy(),i(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,o=this.chartHeight,this.container=e=s("div",{id:h},void 0,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,n,o,null,l.forExport,a.exporting&&a.exporting.allowHTML),this.setClassName(l.className),a.defs)this.renderer.definition(a.defs[u]);this.renderer.chartIndex=this.index,p(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!u(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),p(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&h(t.axes,(function(t){t.visible&&t.getOffset()})),h(x,(function(i,r){u(n[r])||(t[i]+=e[r])})),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,o=n.renderTo,s=u(i.width)&&u(i.height),a=i.width||t.getStyle(o,"width");i=i.height||t.getStyle(o,"height"),o=e?e.target:L;s||n.isPrinting||!a||!i||o!==L&&o!==r||(a===n.containerWidth&&i===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=A((function(){n.container&&n.setSize(void 0,void 0,!1)}),e?100:0)),n.containerWidth=a,n.containerHeight=i)},setReflow:function(t){var n=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(L,"resize",(function(t){n.reflow(t)})),e(this,"destroy",this.unbindReflow))},setSize:function(e,i,r){var o=this,s=o.renderer;o.isResizing+=1,t.setAnimation(r,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,void 0!==e&&(o.options.chart.width=e),void 0!==i&&(o.options.chart.height=i),o.getChartSize(),o.setChartSize(!0),s.setSize(o.chartWidth,o.chartHeight,r),h(o.axes,(function(t){t.isDirty=!0,t.setScale()})),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(r),o.oldChartHeight=null,p(o,"resize"),A((function(){o&&p(o,"endResize",null,(function(){--o.isResizing}))}),n(void 0).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,d[3])/2),s=Math.ceil(Math.max(a,d[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,d[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,d[2])/2-s))},t||h(this.axes,(function(t){t.setAxisSize(),t.setAxisTranslation()})),p(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;h(["margin","spacing"],(function(n){var i=e[n],r=v(i)?i:[i,i,i,i];h(["Top","Right","Bottom","Left"],(function(i,o){t[n][o]=S(e[n+i],r[o])}))})),h(x,(function(e,n){t[e]=S(t.margin[n],t.spacing[n])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,c=this.plotLeft,u=this.plotTop,h=this.plotWidth,d=this.plotHeight,f=this.plotBox,g=this.clipRect,m=this.clipBox,v="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),v="attr"),t=e=s.strokeWidth(),s[v]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),v="animate",a||(v="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[v](f),g?g.animate({width:m.width,height:m.height}):this.clipRect=i.clipRect(m),v="animate",l||(v="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l[v](l.crisp({x:c,y:u,width:h,height:d},-l.strokeWidth())),this.isDirtyBox=!1,p(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;h(["inverted","angular","polar"],(function(s){for(t=P[r.type||r.defaultSeriesType],n=r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=P[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n}))},linkSeries:function(){var t=this,e=t.series;h(e,(function(t){t.linkedSeries.length=0})),h(e,(function(e){var n=e.options.linkedTo;y(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=S(e.options.visible,n.options.visible,e.visible))})),p(this,"afterLinkSeries")},renderSeries:function(){h(this.series,(function(t){t.translate(),t.render()}))},renderLabels:function(){var t=this,e=t.options.labels;e.items&&h(e.items,(function(n){var i=d(e.style,n.style),r=M(i.left)+t.plotLeft,o=M(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()}))},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new b(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),h(i,(function(t){t.setScale()})),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(h(i,(function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&h(i,(function(t){t.visible&&t.render()})),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=w(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){t.href&&(L.location.href=t.href)})).attr({align:t.position.align,zIndex:8}).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,s=o&&o.parentNode;for(p(n,"destroy"),n.renderer.forExport?t.erase(c,n):c[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),C(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();h("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),(function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())})),o&&(o.innerHTML="",C(o),s&&l(o)),k(n,(function(t,e){delete n[e]}))},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),h(e.series||[],(function(e){t.initSeries(e)})),t.linkSeries(),p(t,"beforeRender"),O&&(t.pointer=new O(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){h([this.callback].concat(this.callbacks),(function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),p(this,"load"),p(this,"render"),u(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(c),function(t){var e=t.addEvent,n=t.Chart,i=t.each;e(n,"afterSetChartSize",(function(e){var n=this.options.chart.scrollablePlotArea;(n=n&&n.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=n=Math.max(0,n-this.chartWidth))&&(this.plotWidth+=n,this.clipBox.width+=n,e.skipAxes||i(this.axes,(function(e){1===e.side?e.getPlotLinePath=function(){var n,i=this.right;return this.right=i-e.chart.scrollablePixels,n=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=i,n}:(e.setAxisSize(),e.setAxisTranslation())})))})),e(n,"render",(function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),n.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.applyFixed=function(){var e,n,i=this.container;(r=!this.fixedDiv)&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],(function(n){t.each(i.querySelectorAll(n),(function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=n+"px",this.renderer.boxWrapper.attr({width:n,height:this.chartHeight,viewBox:[0,0,n,this.chartHeight].join(" ")}),this.chartBackground.attr({width:n}),r&&((n=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*n.scrollPositionX)),r=this.axisOffset,n=this.plotTop-r[0]-1;var r=this.plotTop+this.plotHeight+r[2],o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,n,"L",this.plotLeft-1,n,"L",this.plotLeft-1,r,"L",0,r,"Z","M",o,n,"L",this.chartWidth,n,"L",this.chartWidth,r,"L",o,r,"Z"]:["M",0,0]})}}(c),function(t){var e,n=t.each,i=t.extend,r=t.erase,o=t.fireEvent,s=t.format,a=t.isArray,l=t.isNumber,c=t.pick,u=t.uniqueKey,h=t.defined,d=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){var i=t.chart.options.chart.colorCount;return this.series=t,this.applyOptions(e,n),this.id=h(this.id)?this.id:u(),t.options.colorByPoint?(e=t.colorCounter,t.colorCounter++,t.colorCounter===i&&(t.colorCounter=0)):e=t.colorIndex,this.colorIndex=c(this.colorIndex,e),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,n){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(this,t),this.options=this.options?i(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=this[o]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===n?r.autoIncrement(this):n),this},setNestedProperty:function(e,n,i){return i=i.split("."),t.reduce(i,(function(e,i,r,o){return e[i]=o.length-1===r?n:t.isObject(e[i],!0)?e[i]:{},e[i]}),e),e},optionsToObject:function(e){var n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],s=o.length,c=0,u=0;if(l(e)||null===e)n[o[0]]=e;else if(a(e))for(!r&&e.length>s&&("string"===(i=typeof e[0])?n.name=e[0]:"number"===i&&(n.x=e[0]),c++);u<s;)r&&void 0===e[c]||(0<o[u].indexOf(".")?t.Point.prototype.setNestedProperty(n,e[c],o[u]):n[o[u]]=e[c]),c++,u++;else"object"==typeof e&&(n=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=(n=this.series).zones,n=n.zoneAxis||"y",i=0;for(t=e[i];this[n]>=t.value;)t=e[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),r(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(d(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy());this.dataLabels&&(n(this.dataLabels,(function(t){t.element&&t.destroy()})),delete this.dataLabels),this.connectors&&(n(this.connectors,(function(t){t.element&&t.destroy()})),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=c(i.valueDecimals,""),o=i.valuePrefix||"",a=i.valueSuffix||"";return n(e.pointArrayMap||["y"],(function(e){e="{point."+e,(o||a)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+a)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")})),s(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,n)},visible:!0}}(c),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.defaultOptions,a=t.defined,l=t.each,c=t.erase,u=t.extend,h=t.fireEvent,d=t.grep,f=t.isArray,p=t.isNumber,g=t.isString,m=t.merge,v=t.objectEach,y=t.pick,b=t.removeEvent,x=t.splat,w=t.SVGElement,k=t.syncTimeout,O=t.win;t.Series=t.seriesType("line",null,{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,o=this,s=t.series;o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),u(o,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),i=n.events,v(i,(function(t,n){e(o,n,t)})),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),l(o.parallelArrays,(function(t){o[t+"Data"]=[]})),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(r=s[s.length-1]),o._i=y(r&&r._i,-1)+1,t.orderSeries(this.insert(s)),h(this,"afterInit")},insert:function(t){var e,n=this.options.index;if(p(n)){for(e=t.length;e--;)if(n>=y(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return y(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;l(n.axisTypes||[],(function(o){l(r[o],(function(t){e=t.options,(i[o]===e.index||void 0!==i[o]&&i[o]===e.id||void 0===i[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)})),n[o]||n.optionalAxis===o||t.error(18,!0)}))},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=p(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};l(n.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,r=this.chart.time;n=y(n,e.pointStart,0);return this.pointInterval=t=y(this.pointInterval,e.pointInterval,1),i&&(e=new r.Date(n),"day"===i?r.set("Date",e,r.get("Date",e)+t):"month"===i?r.set("Month",e,r.get("Month",e)+t):"year"===i&&r.set("FullYear",e,r.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=i[this.type];return this.userOptions=t,e=m(o,i.series,t),this.tooltipOptions=m(s.tooltip,s.plotOptions.series&&s.plotOptions.series.tooltip,s.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=y(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative"}),t.length&&a(t[t.length-1].value)&&t.push({}),h(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,n){var i,r=this.chart,o=this.userOptions,s=t+"Index",l=t+"Counter",c=n?n.length:y(r.options.chart[t+"Count"],r[t+"Count"]);e||(i=y(o[s],o["_"+s]),a(i)||(r.series.length||(r[l]=0),o["_"+s]=i=r[l]%c,r[l]+=1),n&&(e=n[i])),void 0!==i&&(this[s]=i),this[t]=e},getColor:function(){this.getCyclic("color")},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var n,i,r,o=this.options,s=this.points,a=[],c=this.requireSorting;if(l(e,(function(e){var i;i=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,p(i)&&(-1===(i=t.inArray(i,this.xData,r))||s[i].touched?a.push(e):e!==o.data[i]?(s[i].update(e,!1,null,!1),s[i].touched=!0,c&&(r=i+1)):s[i]&&(s[i].touched=!0),n=!0)}),this),n)for(e=s.length;e--;)(i=s[e]).touched||i.remove(!1),i.touched=!1;else{if(e.length!==s.length)return!1;l(e,(function(t,e){s[e].update&&t!==o.data[e]&&s[e].update(t,!1,null,!1)}))}return l(a,(function(t){this.addPoint(t,!1)}),this),!0},setData:function(e,n,i,r){var o,s,a=this,c=a.points,u=c&&c.length||0,h=a.options,d=a.chart,m=null,v=a.xAxis,b=h.turboThreshold,x=this.xData,w=this.yData,k=(o=a.pointArrayMap)&&o.length;if(o=(e=e||[]).length,n=y(n,!0),!1!==r&&o&&u&&!a.cropped&&!a.hasGroupedData&&a.visible&&!a.isSeriesBoosting&&(s=this.updateData(e)),!s){if(a.xIncrement=null,a.colorCounter=0,l(this.parallelArrays,(function(t){a[t+"Data"].length=0})),b&&o>b){for(i=0;null===m&&i<o;)m=e[i],i++;if(p(m))for(i=0;i<o;i++)x[i]=this.autoIncrement(),w[i]=e[i];else if(f(m))if(k)for(i=0;i<o;i++)m=e[i],x[i]=m[0],w[i]=m.slice(1,k+1);else for(i=0;i<o;i++)m=e[i],x[i]=m[0],w[i]=m[1];else t.error(12)}else for(i=0;i<o;i++)void 0!==e[i]&&(m={series:a},a.pointClass.prototype.applyOptions.apply(m,[e[i]]),a.updateParallelArrays(m,i));for(w&&g(w[0])&&t.error(14,!0),a.data=[],a.options.data=a.userOptions.data=e,i=u;i--;)c[i]&&c[i].destroy&&c[i].destroy();v&&(v.minRange=v.userMinRange),a.isDirty=d.isDirtyBox=!0,a.isDirtyData=!!c,i=!1}"point"===h.legendType&&(this.processData(),this.generatePoints()),n&&d.redraw(i)},processData:function(e){var n,i=this.xData,r=this.yData,o=i.length;n=0;var s,a,l,c=this.xAxis;l=(p=this.options).cropThreshold;var u,h,d=this.getExtremesFromAll||p.getExtremesFromAll,f=this.isCartesian,p=c&&c.val2lin,g=c&&c.isLog,m=this.requireSorting;if(f&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(u=(e=c.getExtremes()).min,h=e.max),f&&this.sorted&&!d&&(!l||o>l||this.forceCrop)&&(i[o-1]<u||i[0]>h?(i=[],r=[]):this.yData&&(i[0]<u||i[o-1]>h)&&(i=(n=this.cropData(this.xData,this.yData,u,h)).xData,r=n.yData,n=n.start,s=!0)),l=i.length||1;--l;)0<(o=g?p(i[l])-p(i[l-1]):i[l]-i[l-1])&&(void 0===a||o<a)?a=o:0>o&&m&&(t.error(15),m=!1);this.cropped=s,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,n,i,r){var o,s=t.length,a=0,l=s;for(r=y(r,this.cropShoulder,1),o=0;o<s;o++)if(t[o]>=n){a=Math.max(0,o-r);break}for(n=o;n<s;n++)if(t[n]>i){l=n+r;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,n,i,r=(f=this.options).data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,c=s.length,h=this.cropStart||0,d=this.hasGroupedData,f=f.keys,p=[];for(o||d||((o=[]).length=r.length,o=this.data=o),f&&d&&(this.options.keys=!1),i=0;i<c;i++)e=h+i,d?((n=(new l).init(this,[s[i]].concat(x(a[i])))).dataGroup=this.groupMap[i],n.dataGroup.options&&(n.options=n.dataGroup.options,u(n,n.dataGroup.options))):(n=o[e])||void 0===r[e]||(o[e]=n=(new l).init(this,r[e],s[i])),n&&(n.index=e,p[i]=n);if(this.options.keys=f,o&&(c!==(t=o.length)||d))for(i=0;i<t;i++)i!==h||d||(i+=c),o[i]&&(o[i].destroyElements(),o[i].plotX=void 0);this.data=o,this.points=p},getExtremes:function(t){var e,n,o,s,a,l=this.yAxis,c=this.processedXData,u=[],h=0,d=(e=this.xAxis.getExtremes()).min,g=e.max,m=this.requireSorting?1:0;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,a=0;a<e;a++)if(o=c[a],s=t[a],n=(p(s,!0)||f(s))&&(!l.positiveValuesOnly||s.length||0<s),o=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[a+m]||o)>=d&&(c[a-m]||o)<=g,n&&o)if(n=s.length)for(;n--;)"number"==typeof s[n]&&(u[h++]=s[n]);else u[h++]=s;this.dataMin=r(u),this.dataMax=i(u)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r=this.options,s=r.stacking,l=this.xAxis,c=l.categories,u=this.yAxis,d=this.points,f=d.length,g=!!this.modifyValue,m=r.pointPlacement,v="between"===m||p(m),b=r.threshold,x=r.startFromThreshold?b:0,w=Number.MAX_VALUE;for("between"===m&&(m=.5),p(m)&&(m*=y(r.pointRange||l.pointRange)),r=0;r<f;r++){var k=d[r],O=k.x,S=k.y;e=k.low;var M,C=s&&u.stacks[(this.negStacks&&S<(x?0:b)?"-":"")+this.stackKey];u.positiveValuesOnly&&null!==S&&0>=S&&(k.isNull=!0),k.plotX=t=o(Math.min(Math.max(-1e5,l.translate(O,0,0,0,1,m,"flags"===this.type)),1e5)),s&&this.visible&&!k.isNull&&C&&C[O]&&(i=this.getStackIndicator(i,O,this.index),e=(S=(M=C[O]).points[i.key])[0],S=S[1],e===x&&i.key===C[O].base&&(e=y(p(b)&&b,u.min)),u.positiveValuesOnly&&0>=e&&(e=null),k.total=k.stackTotal=M.total,k.percentage=M.total&&k.y/M.total*100,k.stackY=S,M.setOffset(this.pointXOffset||0,this.barW||0)),k.yBottom=a(e)?Math.min(Math.max(-1e5,u.translate(e,0,1,0,1)),1e5):null,g&&(S=this.modifyValue(S,k)),k.plotY=e="number"==typeof S&&1/0!==S?Math.min(Math.max(-1e5,u.translate(S,0,1,0,1)),1e5):void 0,k.isInside=void 0!==e&&0<=e&&e<=u.len&&0<=t&&t<=l.len,k.clientX=v?o(l.translate(O,0,0,0,1,m)):t,k.negative=k.y<(b||0),k.category=c&&void 0!==c[k.x]?c[k.x]:k.x,k.isNull||(void 0!==n&&(w=Math.min(w,Math.abs(t-n))),n=t),k.zone=this.zones.length&&k.getZone()}this.closestPointRangePx=w,h(this,"afterTranslate")},getValidPoints:function(t,e){var n=this.chart;return d(t||this.points||[],(function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull}))},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,r&&(s.x=e.plotSizeX),e[a+"m"]=c=i.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=n(this.options.animation);t?this.setClip(r):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX,x:0},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip(),h(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this.points,c=this.chart,u=this.options.marker,h=this[this.specialGroup]||this.markerGroup,d=y(u.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=u.enabledThreshold*u.radius);if(!1!==u.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)i=(e=l[t]).graphic,r=e.marker||{},o=!!e.marker,n=d&&void 0===r.enabled||r.enabled,s=e.isInside,n&&!e.isNull?(n=y(r.symbol,this.symbol),a=this.markerAttribs(e,e.selected&&"select"),i?i[s?"show":"hide"](!0).animate(a):s&&(0<a.width||e.hasImage)&&(e.graphic=i=c.renderer.symbol(n,a.x,a.y,a.width,a.height,o?r:u).add(h)),i&&i.addClass(e.getClassName(),!0)):i&&(e.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=t.marker||{},r=i.symbol||n.symbol,o=y(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],o=y(e&&e.radius,n&&n.radius,o+(n&&n.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},destroy:function(){var e,n,i,r=this,o=r.chart,s=/AppleWebKit\/533/.test(O.navigator.userAgent),a=r.data||[];for(h(r,"destroy"),b(r),l(r.axisTypes||[],(function(t){(i=r[t])&&i.series&&(c(i.series,r),i.isDirty=i.forceRedraw=!0)})),r.legendItem&&r.chart.legend.destroyItem(r),e=a.length;e--;)(n=a[e])&&n.destroy&&n.destroy();r.points=null,t.clearTimeout(r.animationTimeout),v(r,(function(t,e){t instanceof w&&!t.survive&&t[s&&"group"===e?"hide":"destroy"]()})),o.hoverSeries===r&&(o.hoverSeries=null),c(o.series,r),o.orderSeries(),v(r,(function(t,e){delete r[e]}))},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,c=s.step,u=[],h=[];return(i=(t=t||o.points).reversed)&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&i&&(c=4-c),!s.connectNulls||e||n||(t=this.getValidPoints(t)),l(t,(function(i,l){var d=i.plotX,f=i.plotY,p=t[l-1];(i.leftCliff||p&&p.rightCliff)&&!n&&(r=!0),i.isNull&&!a(e)&&0<l?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===l||r?l=["M",i.plotX,i.plotY]:o.getPointSpline?l=o.getPointSpline(t,i,l):c?(l=1===c?["L",p.plotX,f]:2===c?["L",(p.plotX+d)/2,p.plotY,"L",(p.plotX+d)/2,f]:["L",d,p.plotY]).push("L",d,f):l=["L",d,f],h.push(i.x),c&&(h.push(i.x),2===c&&h.push(i.x)),u.push.apply(u,l),r=!1)})),u.xMap=h,o.graphPath=u},drawGraph:function(){var t=this,e=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph"]];n=t.getZonesGraphs(n);l(n,(function(n,i){i=n[0];var r=t[i];r?(r.endX=t.preventGraphAnimation?null:e.xMap,r.animate({d:e})):e.length&&(t[i]=t.chart.renderer.path(e).addClass(n[1]).attr({zIndex:1}).add(t.group)),r&&(r.startX=e.xMap,r.isArea=e.isArea)}))},getZonesGraphs:function(t){return l(this.zones,(function(e,n){t.push(["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||"")])}),this),t},applyZones:function(){var t,e,n,i,r,o,s,a,c,u=this,h=this.chart,d=h.renderer,f=this.zones,p=this.clips||[],g=this.graph,m=this.area,v=Math.max(h.chartWidth,h.chartHeight),b=this[(this.zoneAxis||"y")+"Axis"],x=h.inverted,w=!1;f.length&&(g||m)&&b&&void 0!==b.min&&(r=b.reversed,o=b.horiz,g&&!this.showLine&&g.hide(),m&&m.hide(),i=b.getExtremes(),l(f,(function(l,f){t=r?o?h.plotWidth:0:o?0:b.toPixels(i.min),t=Math.min(Math.max(y(e,t),0),v),e=Math.min(Math.max(Math.round(b.toPixels(y(l.value,i.max),!0)),0),v),w&&(t=e=b.toPixels(i.max)),s=Math.abs(t-e),a=Math.min(t,e),c=Math.max(t,e),b.isXAxis?(n={x:x?c:a,y:0,width:s,height:v},o||(n.x=h.plotHeight-n.x)):(n={x:0,y:x?c:a,width:v,height:s},o&&(n.y=h.plotWidth-n.y)),p[f]?p[f].animate(n):(p[f]=d.clipRect(n),g&&u["zone-graph-"+f].clip(p[f]),m&&u["zone-area-"+f].clip(p[f])),w=l.value>i.max,u.resetZones&&0===e&&(e=void 0)})),this.clips=p)},invertGroups:function(t){function n(){l(["group","markerGroup"],(function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))}))}var i,r=this,o=r.chart;r.xAxis&&(i=e(o,"resize",n),e(r,"destroy",i),n(),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(a(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,c=i.seriesGroup,u=i.inverted;t=e.plotGroup("group","series",s,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&u,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(u),!1===r.clip||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=k((function(){e.afterAnimate()}),o)),e.isDirty=!1,e.hasRendered=!0,h(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:y(i&&i.left,t.plotLeft),translateY:y(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){this.buildingKdTree=!0;var t=this,e=-1<t.options.findNearestPointBy.indexOf("y")?2:1;delete t.kdTree,k((function(){t.kdTree=function e(n,i,r){var o,s;if(s=n&&n.length)return o=t.kdAxisArray[i%r],n.sort((function(t,e){return t[o]-e[o]})),{point:n[s=Math.floor(s/2)],left:e(n.slice(0,s),i+1,r),right:e(n.slice(s+1),i+1,r)}}(t.getValidPoints(null,!t.directTouch),e,e),t.buildingKdTree=!1}),t.options.kdNow?0:1)},searchKDTree:function(t,e){var n=this,i=this.kdAxisArray[0],r=this.kdAxisArray[1],o=e?"distX":"dist";if(e=-1<n.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return function t(e,s,l,c){var u,h,d=s.point,f=n.kdAxisArray[l%c],p=d;return u=((h=a(e[i])&&a(d[i])?Math.pow(e[i]-d[i],2):null)||0)+((u=a(e[r])&&a(d[r])?Math.pow(e[r]-d[r],2):null)||0),d.dist=a(u)?Math.sqrt(u):Number.MAX_VALUE,d.distX=a(h)?Math.sqrt(h):Number.MAX_VALUE,h=0>(f=e[f]-d[f])?"right":"left",s[u=0>f?"left":"right"]&&(p=(u=t(e,s[u],l+1,c))[o]<p[o]?u:d),s[h]&&Math.sqrt(f*f)<p[o]&&(p=(e=t(e,s[h],l+1,c))[o]<p[o]?e:p),p}(t,this.kdTree,e,e)}})}(c),function(t){var e=t.Axis,n=t.Chart,i=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.format,l=t.objectEach,c=t.pick,u=t.Series;t.StackItem=function(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:c(e.y,o?4:n?14:-6),x:c(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,i=(i=n.format)?a(i,this,e.time):n.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=e.renderer.text(i,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var n=this.axis,i=n.chart,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),s=n.translate(0);s=r(o)&&Math.abs(o-s);t=i.xAxis[0].translate(this.x)+t,n=r(o)&&this.getStackBox(i,this,t,o,e,s,n),(e=this.label)&&n&&(e.align(this.alignOptions,null,n),n=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(n.x,n.y)?"show":"hide"](!0))},getStackBox:function(t,e,n,i,r,o,s){var a=e.axis.reversed,l=t.inverted;return t=s.height+s.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!a||!e.isNegative&&a,{x:l?e?i:i-o:n,y:l?t-n-r:e?t-i-o:t-i,width:l?o:r,height:l?r:o}}},n.prototype.getStacks=function(){var t=this;s(t.yAxis,(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)})),s(t.series,(function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))}))},e.prototype.buildStacks=function(){var t,e=this.series,n=c(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)e[n?t:i-t-1].setStackedPoints();for(t=0;t<i;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(t.plotLeft,t.plotTop),l(n,(function(t){l(t,(function(t){t.render(i)}))}))},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,(function(e){l(e,(function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cumulative=null)}))}))},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,(function(t){l(t,(function(t){t.cumulative=t.total}))})))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,n,o,s,a,l,u,h=this.processedXData,d=this.processedYData,f=[],p=d.length,g=(y=this.options).threshold,m=c(y.startFromThreshold&&g,0),v=y.stack,y=y.stacking,b=this.stackKey,x="-"+b,w=this.negStacks,k=this.yAxis,O=k.stacks,S=k.oldStacks;for(k.stacksTouched+=1,a=0;a<p;a++)l=h[a],u=d[a],s=(e=this.getStackIndicator(e,l,this.index)).key,O[o=(n=w&&u<(m?0:g))?x:b]||(O[o]={}),O[o][l]||(S[o]&&S[o][l]?(O[o][l]=S[o][l],O[o][l].total=null):O[o][l]=new t.StackItem(k,k.options.stackLabels,n,l,v)),o=O[o][l],null!==u?(o.points[s]=o.points[this.index]=[c(o.cumulative,m)],r(o.cumulative)||(o.base=s),o.touched=k.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[s][0]=o.points[this.index+","+l+",0"][0])):o.points[s]=o.points[this.index]=null,"percent"===y?(n=n?b:x,w&&O[n]&&O[n][l]?(n=O[n][l],o.total=n.total=Math.max(n.total,o.total)+Math.abs(u)||0):o.total=i(o.total+(Math.abs(u)||0))):o.total=i(o.total+(u||0)),o.cumulative=c(o.cumulative,m)+(u||0),null!==u&&(o.points[s].push(o.cumulative),f[a]=o.cumulative);"percent"===y&&(k.usePercentage=!0),this.stackedYData=f,k.oldStacks={}}},u.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&s([n,"-"+n],(function(n){for(var s,a,l=r.length;l--;)s=r[l],t=e.getStackIndicator(t,s,e.index,n),(a=(s=i[n]&&i[n][s])&&s.points[t.key])&&e[o+"Stacker"](a,s,l)}))},u.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=i(t[0]*e),t[1]=i(t[1]*e),this.stackedYData[n]=t[1]},u.prototype.getStackIndicator=function(t,e,n,i){return!r(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(c),function(t){var e=t.addEvent,n=t.Axis,i=t.createElement,r=t.css,o=t.defined,s=t.each,a=t.erase,l=t.extend,c=t.fireEvent,u=t.inArray,h=t.isNumber,d=t.isObject,f=t.isArray,p=t.merge,g=t.objectEach,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.setAnimation,w=t.splat;l(t.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=m(e,!0),c(r,"addSeries",{options:t},(function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),c(r,"afterAddSeries"),e&&r.redraw(n)}))),i},addAxis:function(t,e,i,r){var o=e?"xAxis":"yAxis",s=this.options;return t=p(t,{index:this[o].length,isX:e}),e=new n(this,t),s[o]=w(s[o]||{}),s[o].push(t),m(i,!0)&&this.redraw(r),e},showLoading:function(t){var n=this,o=n.options,s=n.loadingDiv,a=function(){s&&r(s,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};s||(n.loadingDiv=s=i("div",{className:"highcharts-loading highcharts-loading-hidden"},null,n.container),n.loadingSpan=i("span",{className:"highcharts-loading-inner"},null,s),e(n,"redraw",a)),s.className="highcharts-loading",n.loadingSpan.innerHTML=t||o.lang.loading,n.loadingShown=!0,a()},hideLoading:function(){var t=this.loadingDiv;t&&(t.className="highcharts-loading highcharts-loading-hidden"),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,n,i){var r,a,l=this,d={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},f=t.chart,v=[];c(l,"update",{options:t}),f&&(p(!0,l.options.chart,f),"className"in f&&l.setClassName(f.className),"reflow"in f&&l.setReflow(f.reflow),("inverted"in f||"polar"in f||"type"in f)&&(l.propFromSeries(),r=!0),"alignTicks"in f&&(r=!0),g(f,(function(t,e){-1!==u("chart."+e,l.propsRequireUpdateSeries)&&(a=!0),-1!==u(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)}))),t.plotOptions&&p(!0,this.options.plotOptions,t.plotOptions),g(t,(function(t,e){l[e]&&"function"==typeof l[e].update?l[e].update(t,!1):"function"==typeof l[d[e]]&&l[d[e]](t),"chart"!==e&&-1!==u(e,l.propsRequireUpdateSeries)&&(a=!0)})),s("xAxis yAxis zAxis series colorAxis pane".split(" "),(function(e){var i;t[e]&&("series"===e&&(i=[],s(l[e],(function(t,e){t.options.isInternal||i.push(e)}))),s(w(t[e]),(function(t,r){(r=o(t.id)&&l.get(t.id)||l[e][i?i[r]:r])&&r.coll===e&&(r.update(t,!1),n&&(r.touched=!0)),!r&&n&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))})),n&&s(l[e],(function(t){t.touched||t.options.isInternal?delete t.touched:v.push(t)})))})),s(v,(function(t){t.remove&&t.remove(!1)})),r&&s(l.axes,(function(t){t.update({},!1)})),a&&s(l.series,(function(t){t.update({},!1)})),t.loading&&p(!0,l.options.loading,t.loading),r=f&&f.width,f=f&&f.height,h(r)&&r!==l.chartWidth||h(f)&&f!==l.chartHeight?l.setSize(r,f,i):m(e,!0)&&l.redraw(i),c(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),l(v.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),d(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,a.updateParallelArrays(s,o),u.data[o]=d(u.data[o],!0)||d(t,!0)?s.options:m(t,u.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(n)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,u=a.options;e=m(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(u(this,this.series.data),t,e)}}),l(y.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,c=this.data,u=this.chart,h=(h=this.xAxis)&&h.hasNames&&h.names,d=l.data,f=this.xData;if(e=m(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=f.length,this.requireSorting&&a<f[s-1])for(o=!0;s&&f[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),h&&r.name&&(h[a]=r.name),d.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(r,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&u.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};x(n,a),e=m(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),r.remove=null,o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),m(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?c(r,"remove",null,i):i()},update:function(e,n){var i,r=this,o=r.chart,a=r.userOptions,h=r.oldType||r.type,d=e.type||a.type||o.options.chart.type,f=b[h].prototype,g=["group","markerGroup","dataLabelsGroup"],v=["navigatorSeries","baseSeries"],y=r.finishedAnimating&&{animation:!1},x=["data","name","turboThreshold"],w=t.keys(e),k=0<w.length;if(s(w,(function(t){-1===u(t,x)&&(k=!1)})),k)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(i in v=g.concat(v),s(v,(function(t){v[t]=r[t],delete r[t]})),e=p(a,y,{index:r.index,pointStart:m(a.pointStart,r.xData[0])},{data:r.options.data},e),r.remove(!1,null,!1),f)r[i]=void 0;b[d||h]?l(r,b[d||h].prototype):t.error(17,!0),s(v,(function(t){r[t]=v[t]})),r.init(o,e),e.zIndex!==a.zIndex&&s(g,(function(t){r[t]&&r[t].attr({zIndex:e.zIndex})})),r.oldType=h,o.linkSeries()}c(this,"afterUpdate"),m(n,!0)&&o.redraw(!!k&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),l(n.prototype,{update:function(t,e){var n=this.chart,i=t&&t.events||{};t=p(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),g(n.options[this.coll].events,(function(t,e){void 0===i[e]&&(i[e]=void 0)})),this.destroy(!0),this.init(n,l(t,{events:i})),n.isDirtyBox=!0,m(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);a(e.axes,this),a(e[n],this),f(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],s(e[n],(function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,m(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(c),function(t){var e=t.each,n=t.map,i=t.pick,r=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(r){var o,s,a=[],l=[],c=this.xAxis,u=this.yAxis,h=u.stacks[this.stackKey],d={},f=this.index,p=u.series,g=p.length,m=i(u.options.reversedStacks,!0)?1:-1;if(r=r||this.points,this.options.stacking){for(s=0;s<r.length;s++)r[s].leftNull=r[s].rightNull=null,d[r[s].x]=r[s];t.objectEach(h,(function(t,e){null!==t.total&&l.push(e)})),l.sort((function(t,e){return t-e})),o=n(p,(function(){return this.visible})),e(l,(function(t,n){var i,r,p=0;if(d[t]&&!d[t].isNull)a.push(d[t]),e([-1,1],(function(e){var a=1===e?"rightNull":"leftNull",c=0,u=h[l[n+e]];if(u)for(s=f;0<=s&&s<g;)(i=u.points[s])||(s===f?d[t][a]=!0:o[s]&&(r=h[t].points[s])&&(c-=r[1]-r[0])),s+=m;d[t][1===e?"rightCliff":"leftCliff"]=c}));else{for(s=f;0<=s&&s<g;){if(i=h[t].points[s]){p=i[1];break}s+=m}p=u.translate(p,0,1,0,1),a.push({isNull:!0,plotX:c.translate(t,0,0,0,1),x:t,plotY:p,yBottom:p})}}))}return a},getGraphPath:function(t){var e,n,o,s,a=r.prototype.getGraphPath,l=(m=this.options).stacking,c=this.yAxis,u=[],h=[],d=this.index,f=c.stacks[this.stackKey],p=m.threshold,g=c.getThreshold(m.threshold),m=m.connectNulls||"percent"===l,v=function(e,n,i){var r=t[e];e=l&&f[r.x].points[d];var s=r[i+"Null"]||0;i=r[i+"Cliff"]||0;var a,m;r=!0;i||s?(a=(s?e[0]:e[1])+i,m=e[0]+i,r=!!s):!l&&t[n]&&t[n].isNull&&(a=m=p),void 0!==a&&(h.push({plotX:o,plotY:null===a?g:c.getThreshold(a),isNull:r,isCliff:!0}),u.push({plotX:o,plotY:null===m?g:c.getThreshold(m),doCurve:!1}))};for(t=t||this.points,l&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)n=t[e].isNull,o=i(t[e].rectPlotX,t[e].plotX),s=i(t[e].yBottom,g),(!n||m)&&(m||v(e,e-1,"left"),n&&!l&&m||(h.push(t[e]),u.push({x:e,plotX:o,plotY:s})),m||v(e,e+1,"right"));return e=a.call(this,h,!0,!0),u.reversed=!0,(n=a.call(this,u,!0,!0)).length&&(n[0]="L"),n=e.concat(n),a=a.call(this,h,!1,m),n.xMap=e.xMap,this.areaPath=n,a},drawGraph:function(){this.areaPath=[],r.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,i=this.options,o=[["area","highcharts-area"]];e(this.zones,(function(t,e){o.push(["zone-area-"+e,"highcharts-area highcharts-zone-area-"+e+" "+t.className])})),e(o,(function(e){var r=e[0],o=t[r];o?(o.endX=t.preventGraphAnimation?null:n.xMap,o.animate({d:n})):(o=t[r]=t.chart.renderer.path(n).addClass(e[1]).attr({zIndex:0}).add(t.group)).isArea=!0,o.startX=n.xMap,o.shiftUnit=i.step?2:1}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(c),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,i){var r,o,s,a,l=n.plotX,c=n.plotY,u=t[i-1];if(i=t[i+1],u&&!u.isNull&&!1!==u.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){t=u.plotY,s=i.plotX;var h=0;o=(1.5*c+t)/2.5,a=(1.5*c+(i=i.plotY))/2.5,(s=(1.5*l+s)/2.5)!==(r=(1.5*l+u.plotX)/2.5)&&(h=(a-o)*(s-l)/(s-r)+c-a),a+=h,(o+=h)>t&&o>c?a=2*c-(o=Math.max(t,c)):o<t&&o<c&&(a=2*c-(o=Math.min(t,c))),a>i&&a>c?o=2*c-(a=Math.max(i,c)):a<i&&a<c&&(o=2*c-(a=Math.min(i,c))),n.rightContX=s,n.rightContY=a}return n=["C",e(u.rightContX,u.plotX),e(u.rightContY,u.plotY),e(r,l),e(o,c),l,c],u.rightContX=u.rightContY=null,n}})}(c),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(c),function(t){var e=t.animObject,n=t.each,i=t.extend,r=t.defined,o=t.isNumber,s=t.merge,a=t.pick,l=t.Series,c=t.seriesType,u=t.svg;c("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&n(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t,e=this,i=e.options,r=e.xAxis,o=e.yAxis,s=r.options.reversedStacks,l=(s=r.reversed&&!s||!r.reversed&&s,{}),c=0;!1===i.grouping?c=1:n(e.chart.series,(function(n){var i,r=n.options,s=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==s.len||o.pos!==s.pos||(r.stacking?(t=n.stackKey,void 0===l[t]&&(l[t]=c++),i=l[t]):!1!==r.grouping&&(i=c++),n.columnIndex=i)}));var u=Math.min(Math.abs(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),h=u*i.groupPadding,d=(u-2*h)/(c||1);i=Math.min(i.maxPointWidth||r.len,a(i.pointWidth,d*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(d-i)/2+(h+((e.columnIndex||0)+(s?1:0))*d-u/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=-((s=this.borderWidth)%2?.5:0),s=s%2?.5:1;return r.inverted&&r.renderer.isVML&&(s+=1),this.options.crisp&&(n=Math.round(t+n)+o,n-=t=Math.round(t)+o),i=Math.round(e+i)+s,o=.5>=Math.abs(e)&&.5<i,i-=e=Math.round(e)+s,o&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,i=t.options,o=t.dense=2>t.closestPointRange*t.xAxis.transA,s=(o=t.borderWidth=a(i.borderWidth,o?0:1),t.yAxis),c=i.threshold,u=t.translatedThreshold=s.getThreshold(c),h=a(i.minPointLength,5),d=t.getColumnMetrics(),f=d.width,p=t.barW=Math.max(f,1+2*o),g=t.pointXOffset=d.offset;e.inverted&&(u-=.5),i.pointPadding&&(p=Math.ceil(p)),l.prototype.translate.apply(t),n(t.points,(function(n){var i,o=a(n.yBottom,u),l=999+Math.abs(o),d=f,m=(l=Math.min(Math.max(-l,n.plotY),s.len+l),n.plotX+g),v=p,y=Math.min(l,o),b=Math.max(l,o)-y;h&&Math.abs(b)<h&&(b=h,i=!s.reversed&&!n.negative||s.reversed&&n.negative,n.y===c&&t.dataMax<=c&&s.min<c&&(i=!i),y=Math.abs(y-u)>h?o-h:u-(i?h:0)),r(n.options.pointWidth)&&(d=v=Math.ceil(n.options.pointWidth),m-=Math.round((d-f)/2)),n.barX=m,n.pointWidth=d,n.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-l,t.xAxis.len-m-v/2,b]:[m+v/2,l+s.pos-e.plotTop,b],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[m,u,v,0]:[m,y,v,b])}))},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},drawPoints:function(){var t,e=this,i=this.chart,r=e.options,a=i.renderer,l=r.animationLimit||250;n(e.points,(function(n){var c=n.graphic,u=c&&i.pointCount<l?"animate":"attr";o(n.plotY)&&null!==n.y?(t=n.shapeArgs,c?c[u](s(t)):n.graphic=c=a[n.shapeType](t).add(n.group||e.group),r.borderRadius&&c.attr({r:r.borderRadius}),c.addClass(n.getClassName(),!0)):c&&(n.graphic=c.destroy())}))},animate:function(t){var n,r=this,o=this.yAxis,s=r.options,a=this.chart.inverted,l={},c=a?"translateX":"translateY";u&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(s.threshold))),a?l.translateX=t-o.len:l.translateY=t,r.group.attr(l)):(n=r.group.attr(c),r.group.animate({scaleY:1},i(e(r.options.animation),{step:function(t,e){l[c]=n+e.pos*(o.pos-n),r.group.attr(l)}})),r.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&n(e.series,(function(e){e.type===t.type&&(e.isDirty=!0)})),l.prototype.remove.apply(t,arguments)}})}(c),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(c),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span class="highcharts-color-{point.colorIndex}">●</span> <span class="highcharts-header"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(c),function(t){var e=t.deg2rad,n=t.isNumber,i=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,o=this.chart,s=2*(n.slicedOffset||0),a=o.plotWidth-2*s,l=(o=o.plotHeight-2*s,n.center),c=(l=[i(l[0],"50%"),i(l[1],"50%"),n.size||"100%",n.innerSize||0],Math.min(a,o));for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=r(e,[a,o,c,l[2]][t])+(n?s:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,i){return t=n(t)?t:0,i=n(i)&&i>t&&360>i-t?i:t+360,{start:e*(t+-90),end:e*(i+-90)}}}}(c),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,r=t.each,o=t.extend,s=n.getStartAndEndRadians,a=t.inArray,l=t.noop,c=t.pick,u=t.Point,h=t.Series,d=t.seriesType,f=t.setAnimation;d("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(r(n,(function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))})),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<r;t++)(e=i[t]).percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){h.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,a,l=0,u=(m=this.options).slicedOffset,h=u+(m.borderWidth||0),d=s(m.startAngle,m.endAngle),f=this.startAngleRad=d.start,p=(d=(this.endAngleRad=d.end)-f,this.points),g=m.dataLabels.distance,m=m.ignoreHiddenPoint,v=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n,r){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+r.labelDistance)},o=0;o<v;o++)(a=p[o]).labelDistance=c(a.options.dataLabels&&a.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,a.labelDistance),e=f+l*d,m&&!a.visible||(l+=a.percentage/100),n=f+l*d,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},(i=(n+e)/2)>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(i)*u),translateY:Math.round(Math.sin(i)*u)},n=Math.cos(i)*t[2]/2,r=Math.sin(i)*t[2]/2,a.tooltipPos=[t[0]+.7*n,t[1]+.7*r],a.half=i<-Math.PI/2||i>Math.PI/2?1:0,a.angle=i,e=Math.min(h,a.labelDistance/5),a.labelPos=[t[0]+n+Math.cos(i)*a.labelDistance,t[1]+r+Math.sin(i)*a.labelDistance,t[0]+n+Math.cos(i)*e,t[1]+r+Math.sin(i)*e,t[0]+n,t[1]+r,0>a.labelDistance?"center":a.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i=this,s=i.chart.renderer;r(i.points,(function(r){e=r.graphic,r.isNull?e&&(r.graphic=e.destroy()):(n=r.shapeArgs,t=r.getTranslate(),e?e.setRadialReference(i.center).animate(o(n,t)):r.graphic=e=s[r.shapeType](n).setRadialReference(i.center).attr(t).add(i.group),e.attr({visibility:r.visible?"inherit":"hidden"}),e.addClass(r.getClassName()))}))},searchPoint:l,sortByAngle:function(t,e){t.sort((function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e}))},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:l},{init:function(){u.prototype.init.apply(this,arguments);var t,n=this;return n.name=c(n.name,"Slice"),t=function(t){n.slice("select"===t.type)},e(n,"select",t),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,i=n.series,o=i.chart,s=i.options.ignoreHiddenPoint;e=c(e,s),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[a(n,i.data)]=n.options,r(["graphic","dataLabel","connector","shadowGroup"],(function(e){n[e]&&n[e][t?"show":"hide"](!0)})),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),s&&(i.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var r=this.series;f(n,r.chart),c(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,r.options.data[a(this,r.data)]=this.options,this.graphic.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(c),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,c=t.noop,u=t.pick,h=t.relativeLength,d=t.Series,f=t.seriesTypes,p=t.some,g=t.stableSort,m=t.isArray,v=t.splat;t.distribute=function(e,n,i){function o(t,e){return t.target-e.target}var s,l,c=!0,h=e,d=[];l=0;var f=h.reducedLen||n;for(s=e.length;s--;)l+=e[s].size;if(l>f){for(g(e,(function(t,e){return(e.rank||0)-(t.rank||0)})),l=s=0;l<=f;)l+=e[s].size,s++;d=e.splice(s-1,e.length)}for(g(e,o),e=a(e,(function(t){return{size:t.size,targets:[t.target],align:u(t.align,.5)}}));c;){for(s=e.length;s--;)c=e[s],l=(Math.min.apply(0,c.targets)+Math.max.apply(0,c.targets))/2,c.pos=Math.min(Math.max(0,l-c.size*c.align),n-c.size);for(s=e.length,c=!1;s--;)0<s&&e[s-1].pos+e[s-1].size>e[s].pos&&(e[s-1].size+=e[s].size,e[s-1].targets=e[s-1].targets.concat(e[s].targets),e[s-1].align=.5,e[s-1].pos+e[s-1].size>n&&(e[s-1].pos=n-e[s-1].size),e.splice(s,1),c=!0)}h.push.apply(h,d),s=0,p(e,(function(e){var o=0;if(p(e.targets,(function(){if(h[s].pos=e.pos+o,Math.abs(h[s].pos-h[s].target)>i)return r(h.slice(0,s+1),(function(t){delete t.pos})),h.reducedLen=(h.reducedLen||n)-.1*n,h.reducedLen>.1*n&&t.distribute(h,n,i),!0;o+=h[s].size,s++})))return!0})),g(h,o)},d.prototype.drawDataLabels=function(){function n(t,e){var n,i=[];if(m(t)&&!m(e))i=a(t,(function(t){return l(t,e)}));else if(m(e)&&!m(t))i=a(e,(function(e){return l(t,e)}));else if(m(t)||m(e))for(n=Math.max(t.length,e.length);n--;)i[n]=l(t[n],e[n]);else i=l(t,e);return i}var o,c,h=this,d=h.chart,f=h.options,p=f.dataLabels,g=h.points,y=h.hasRendered||0,b=u(p.defer,!!f.animation),x=d.renderer;p=n(n(d.options.plotOptions&&d.options.plotOptions.series&&d.options.plotOptions.series.dataLabels,d.options.plotOptions&&d.options.plotOptions[h.type]&&d.options.plotOptions[h.type].dataLabels),p);(m(p)||p.enabled||h._hasPointLabels)&&(c=h.plotGroup("dataLabelsGroup","data-labels",b&&!y?"hidden":"visible",p.zIndex||6),b&&(c.attr({opacity:+y}),y||e(h,"afterAnimate",(function(){h.visible&&c.show(!0),c[f.animation?"animate":"attr"]({opacity:1},{duration:200})}))),r(g,(function(e){o=v(n(p,e.dlOptions||e.options&&e.options.dataLabels)),r(o,(function(n,r){var o,a,l,u=n.enabled&&!e.isNull&&function(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}(e,n),f=e.dataLabels?e.dataLabels[r]:e.dataLabel,p=e.connectors?e.connectors[r]:e.connector,g=!f;u&&(o=e.getLabelConfig(),a=n[e.formatPrefix+"Format"]||n.format,o=i(a)?s(a,o,d.time):(n[e.formatPrefix+"Formatter"]||n.formatter).call(o,n),a=n.rotation,l={r:n.borderRadius||0,rotation:a,padding:n.padding,zIndex:1},t.objectEach(l,(function(t,e){void 0===t&&delete l[e]}))),!f||u&&i(o)?u&&i(o)&&(f?l.text=o:(e.dataLabels=e.dataLabels||[],f=e.dataLabels[r]=a?x.text(o,0,-9999).addClass("highcharts-data-label"):x.label(o,0,-9999,n.shape,null,null,n.useHTML,null,"data-label"),r||(e.dataLabel=f),f.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(n.className||"")+(n.useHTML?" highcharts-tracker":""))),f.options=n,f.attr(l),f.added||f.add(c),h.alignDataLabel(e,f,n,null,g)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[r]),r||delete e.dataLabel,p&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[r])))}))}))),t.fireEvent(this,"afterDrawDataLabels")},d.prototype.alignDataLabel=function(t,e,n,i,r){var s,a=this.chart,l=a.inverted,c=u(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),h=u(t.plotY,-9999),d=e.getBBox(),f=n.rotation,p=n.align,g=this.visible&&(t.series.forceDL||a.isInsidePlot(c,Math.round(h),l)||i&&a.isInsidePlot(c,l?i.x+1:i.y+i.height-1,l)),m="justify"===u(n.overflow,"justify");g&&(s=a.renderer.fontMetrics(void 0,e).b,i=o({x:l?this.yAxis.len-h:c,y:Math.round(l?this.xAxis.len-c:h),width:0,height:0},i),o(n,{width:d.width,height:d.height}),f?(m=!1,c=a.renderer.rotCorr(s,f),c={x:i.x+n.x+i.width/2+c.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](c).attr({align:p}),h=180<(h=(f+720)%360)&&360>h,"left"===p?c.y-=h?d.height:0:"center"===p?(c.x-=d.width/2,c.y-=d.height/2):"right"===p&&(c.x-=d.width,c.y-=h?0:d.height),e.placed=!0,e.alignAttr=c):(e.align(n,null,i),c=e.alignAttr),m&&0<=i.height?t.isLabelJustified=this.justifyDataLabel(e,n,c,d,i,r):u(n.crop,!0)&&(g=a.isInsidePlot(c.x,c.y)&&a.isInsidePlot(c.x+d.width,c.y+d.height)),n.shape&&!f)&&e[r?"attr":"animate"]({anchorX:l?a.plotWidth-t.plotY:t.plotX,anchorY:l?a.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,h=t.box?0:t.padding||0;return 0>(s=n.x+h)&&("right"===c?e.align="left":e.x=-s,a=!0),(s=n.x+i.width-h)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),0>(s=n.y+h)&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),(s=n.y+i.height-h)>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r)),a},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,o,s,a,l,c,h,f,p,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,x=u(b.connectorPadding,10),w=u(b.connectorWidth,1),k=y.plotWidth,O=y.plotHeight,S=Math.round(y.chartWidth/3),M=m.center,C=M[2]/2,P=M[1],T=[[],[]],A=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(r(v,(function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),d.prototype.drawDataLabels.apply(m),r(v,(function(t){t.dataLabel&&(t.visible?(T[t.half].push(t),t.dataLabel._pos=null,t.dataLabel.getBBox().width>S&&(t.dataLabel.css({width:.7*S}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),r(T,(function(n,o){var d,v,w,S=n.length,T=[];if(S)for(m.sortByAngle(n,o-.5),0<m.maxLabelDistance&&(d=Math.max(0,P-C-m.maxLabelDistance),v=Math.min(P+C+m.maxLabelDistance,y.plotHeight),r(n,(function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,P-C-t.labelDistance),t.bottom=Math.min(P+C+t.labelDistance,y.plotHeight),w=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+w/2,size:w,rank:t.y},T.push(t.distributeBox))})),d=v+w-d,t.distribute(T,d,d/5)),g=0;g<S;g++)e=n[g],l=e.labelPos,s=e.dataLabel,p=!1===e.visible?"hidden":"inherit",f=d=l[1],T&&i(e.distributeBox)&&(void 0===e.distributeBox.pos?p="hidden":(c=e.distributeBox.size,f=e.top+e.distributeBox.pos)),delete e.positionIndex,h=b.justify?M[0]+(o?-1:1)*(C+e.labelDistance):m.getX(f<e.top+2||f>e.bottom-2?d:f,o,e),s._attr={visibility:p,align:l[6]},s._pos={x:h+b.x+({left:x,right:-x}[l[6]]||0),y:f+b.y-10},l.x=h,l.y=f,u(b.crop,!0)&&(a=s.getBBox().width,d=null,h-a<x&&1===o?(d=Math.round(a-h+x),A[3]=Math.max(d,A[3])):h+a>k-x&&0===o&&(d=Math.round(h+a-k+x),A[1]=Math.max(d,A[1])),0>f-c/2?A[0]=Math.max(Math.round(c/2-f),A[0]):f+c/2>O&&(A[2]=Math.max(Math.round(f+c/2-O),A[2])),s.sideOverflow=d)})),0===n(A)||this.verifyDataLabelOverflow(A))&&(this.placeDataLabels(),w&&r(this.points,(function(t){var e;o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(p=s._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(m.dataLabelsGroup)),o[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),o.attr("visibility",p)):o&&(t.connector=o.destroy())})))},f.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return u(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,(function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))}),this)},f.pie.prototype.alignDataLabel=c,f.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=null!==i.size;return s||(null!==r[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),o):(e=Math.max(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(h(i.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}),f.column&&(f.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,c=u(t.below,t.plotY>u(this.translatedThreshold,s.yAxis.len)),h=u(n.inside,!!this.options.stacking);a&&(0>(i=l(a)).y&&(i.height+=i.y,i.y=0),0<(a=i.y+i.height-s.yAxis.len)&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),h||(o?(i.x+=c?0:i.width,i.width=0):(i.y+=c?i.height:0,i.height=0))),n.align=u(n.align,!o||h?"center":c?"right":"left"),n.verticalAlign=u(n.verticalAlign,o||h?"middle":c?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,n,i,r),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}(c),function(t){var e=t.Chart,n=t.each,i=t.isArray,r=t.objectEach,o=t.pick;(t=t.addEvent)(e,"render",(function(){var t=[];n(this.labelCollectors||[],(function(e){t=t.concat(e())})),n(this.yAxis||[],(function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&r(e.stacks,(function(e){r(e,(function(e){t.push(e.label)}))}))})),n(this.series||[],(function(e){var r=e.options.dataLabels;e.visible&&(!1!==r.enabled||e._hasPointLabels)&&n(e.points,(function(e){if(e.visible){var r=i(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];n(r,(function(n){var i=n.options;n.labelrank=o(i.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.allowOverlap||t.push(n)}))}}))})),this.hideOverlappingLabels(t)})),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,s,a,l=t.length,c=this.renderer,u=function(t,e,n,i,r,o,s,a){return!(r>t+n||r+s<t||o>e+i||o+a<e)};for(r=function(t){var e,n,i,r=t.box?0:t.padding||0;if(i=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},n=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=c.fontMetrics(null,t.element).h),{x:e.x+(n.translateX||0)+r,y:e.y+(n.translateY||0)+r-i,width:t.width-2*r,height:t.height-2*r}},i=0;i<l;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=r(e));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),i=0;i<l;i++)for(a=(r=t[i])&&r.absoluteBox,e=i+1;e<l;++e)s=(o=t[e])&&o.absoluteBox,a&&s&&r!==o&&0!==r.newOpacity&&0!==o.newOpacity&&(s=u(a.x,a.y,a.width,a.height,s.x,s.y,s.width,s.height))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(t,(function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:n})),t.isOld=!0)}))}}(c),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,c=t.extend,u=t.fireEvent,h=t.hasTouch,d=t.inArray,f=t.isObject,p=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,n=function(t){var n=e.getPointFromEvent(t);void 0!==n&&(e.isDirectTouch=!0,n.onMouseOver(t))};l(t.points,(function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)})),t._hasTracking||(l(t.trackerGroups,(function(i){t[i]&&(t[i].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",(function(t){e.onTrackerMouseOut(t)})),h)&&t[i].on("touchstart",n)})),t._hasTracking=!0),u(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,n=e.options.trackByArea,i=[].concat(n?e.areaPath:e.graphPath),r=i.length,o=e.chart,s=o.pointer,a=o.renderer,c=o.options.tooltip.snap,d=e.tracker,f=function(){o.hoverSeries!==e&&e.onMouseOver()};if(r&&!n)for(t=r+1;t--;)"M"===i[t]&&i.splice(t+1,0,i[t+1]-c,i[t+2],"L"),(t&&"M"===i[t]||t===r)&&i.splice(t,0,"L",i[t-2]+c,i[t-1]);d?d.attr({d:i}):e.graph&&(e.tracker=a.path(i).attr({visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(n?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),l([e.tracker,e.markerGroup],(function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",(function(t){s.onTrackerMouseOut(t)})),h&&t.on("touchstart",f)}))),u(this,"afterDrawTracker")}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),c(p.prototype,{setItemEvents:function(t,e,n){var i=this.chart.renderer.boxWrapper,r="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",(function(){t.setState("hover"),i.addClass(r)})).on("mouseout",(function(){i.removeClass(r),t.setState()})).on("click",(function(e){var n=function(){t.setVisible&&t.setVisible()};i.removeClass(r),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):u(t,"legendItemClick",e,n)}))},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",(function(e){u(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}),c(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=s.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,a="chart"===i.relativeTo?null:"plotBox";u(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,a)}))},zoomOut:function(){u(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?(l(this.axes,(function(t){e=t.zoom()})),i.initiated=!1):l(t.xAxis.concat(t.yAxis),(function(t){var n=t.axis;i[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))})),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&f(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&l(r,(function(t){t.setState()})),l("xy"===e?[1,0]:[1],(function(e){var r,o=(e=i[e?"xAxis":"yAxis"][0]).horiz,s=t[o?"chartX":"chartY"],a=i[o=o?"mouseDownX":"mouseDownY"],l=(e.pointRange||0)/2,c=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,u=e.getExtremes(),h=e.toValue(a-s,!0)+l*c;a=(r=(c=e.toValue(a+e.len-s,!0)-l*c)<h)?c:h,h=r?h:c;0<(r=(c=Math.min(u.dataMin,l?u.min:e.toValue(e.toPixels(u.min)-e.minPixelPadding)))-a)&&(h+=r,a=c),0<(r=h-(l=Math.max(u.dataMax,l?u.max:e.toValue(e.toPixels(u.max)+e.minPixelPadding))))&&(h=l,a-=r),e.series.length&&a!==u.min&&h!==u.max&&(e.setExtremes(a,h,!1,!1,{trigger:"pan"}),n=!0),i[o]=s})),n&&i.redraw(!1),o(i.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=m(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){n.selected=n.options.selected=t,i.options.data[d(n,i.data)]=n.options,n.setState(t&&"select"),e||l(r.getSelectedPoints(),(function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[d(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))}))}))},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],(function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=g(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,(function(t,i){n(e,i,t)})),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t||"normal"]||{},l=a[o.type].marker&&o.options.marker,c=l&&!1===l.enabled,h=l&&l.states&&l.states[t||"normal"]||{},d=!1===h.enabled,f=o.stateMarkerGraphic,p=this.marker||{},g=o.chart,v=o.halo,y=l&&o.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(d||c&&!1===h.enabled)||t&&p.states&&p.states[t]&&!1===p.states[t].enabled||(y&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),n&&this.graphic.animate(n,m(g.options.chart.animation,h.animation,l.animation)),f&&f.hide()):(t&&h&&(l=p.symbol||o.symbol,f&&f.currentSymbol!==l&&(f=f.destroy()),f?f[e?"animate":"attr"]({x:n.x,y:n.y}):l&&(o.stateMarkerGraphic=f=g.renderer.symbol(l,n.x,n.y,n.width,n.height).add(o.markerGroup),f.currentSymbol=l)),f&&(f[t&&g.isInsidePlot(i,r,g.inverted)?"show":"hide"](),f.element.point=this)),(i=s.halo)&&i.size?(v||(o.halo=v=g.renderer.path().add((this.graphic||f).parentGroup)),v.show()[e?"animate":"attr"]({d:this.haloPath(i.size)}),v.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),v.point=this):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),this.state=t,u(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&u(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&u(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this;t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],(function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))})),e.state=t)},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!a:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],(function(t){i[t]&&i[t][n]()})),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(r.series,(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),l(i.linkedSeries,(function(e){e.setVisible(t,!1)})),s&&(r.isDirtyBox=!0),u(i,n),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),u(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(c),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isArray,o=t.isObject,s=t.pick,a=t.splat;e.prototype.setResponsive=function(e){var i=this.options.responsive,r=[],o=this.currentResponsive;i&&i.rules&&n(i.rules,(function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,r,e)}),this);var s=t.merge.apply(0,t.map(r,(function(e){return t.find(i.rules,(function(t){return t._id===e})).chartOptions})));(r=r.toString()||void 0)!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=s(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(n.minWidth,0)&&this.chartHeight>=s(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){var n={};return function e(n,s,l,c){var u;t.objectEach(n,(function(t,n){if(!c&&-1<i(n,["series","xAxis","yAxis"]))for(t=a(t),l[n]=[],u=0;u<t.length;u++)s[n][u]&&(l[n][u]={},e(t[u],s[n][u],l[n][u],c+1));else o(t)?(l[n]=r(t)?[]:{},e(t,s[n]||{},l[n],c+1)):l[n]=s[n]||null}))}(e,this.options,n,0),n}}(c),c})),Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{}],3:[function(t,e,n){var i,r={Prism:t("/gen/prismjs.js")},o=(e=void 0,function(){const t=arguments[arguments.length-1];i=t(),o=void 0});o.amd=!0,function(t){"object"==typeof n&&void 0!==e?e.exports=t():"function"==typeof o&&o.amd?o([],t):("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).hitextPrismjs=t()}((function(){return function e(n,i,r){function o(a,l){if(!i[a]){if(!n[a]){var c="function"==typeof t&&t;if(!l&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[a]={exports:{}};n[a][0].call(h.exports,(function(t){return o(n[a][1][t]||t)}),h,h.exports,e,n,i,r)}return i[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){(function(n){const{tokenize:i,languages:r}=n.Prism||t("prismjs");e.exports=function(t){return function(e,n){!function t(e,i){e.forEach((function(e){"string"!=typeof e&&function(e,i){n("prism",i,i+e.length,e.type),Array.isArray(e.content)&&t(e.content,i)}(e,i),i+=e.length}))}(i(e,r[t]),0)}},e.exports.printer={html:{hooks:{prism:{open:t=>'<span class="token '+t+'">',close:()=>"</span>"}}}}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{prismjs:void 0}]},{},[1])(1)})),Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"/gen/prismjs.js":6}],4:[function(t,e,n){var i,r={},o=(e=void 0,function(){const t=arguments[arguments.length-1];i=t(),o=void 0});o.amd=!0,function(t){"object"==typeof n&&void 0!==e?e.exports=t():"function"==typeof o&&o.amd?o([],t):("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).hitext=t()}((function(){return function e(n,i,r){function o(a,l){if(!i[a]){if(!n[a]){var c="function"==typeof t&&t;if(!l&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[a]={exports:{}};n[a][0].call(h.exports,(function(t){return o(n[a][1][t]||t)}),h,h.exports,e,n,i,r)}return i[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";const i=t("color-convert"),r=(t,e)=>(function(){return`[${t.apply(i,arguments)+e}m`}),o=(t,e)=>(function(){const n=t.apply(i,arguments);return`[${38+e};5;${n}m`}),s=(t,e)=>(function(){const n=t.apply(i,arguments);return`[${38+e};2;${n[0]};${n[1]};${n[2]}m`});Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.grey=e.color.gray;for(const n of Object.keys(e)){const i=e[n];for(const n of Object.keys(i)){const r=i[n];e[n]={open:`[${r[0]}m`,close:`[${r[1]}m`},i[n]=e[n],t.set(r[0],r[1])}Object.defineProperty(e,n,{value:i,enumerable:!1}),Object.defineProperty(e,"codes",{value:t,enumerable:!1})}const n=t=>t,a=(t,e,n)=>[t,e,n];e.color.close="[39m",e.bgColor.close="[49m",e.color.ansi={ansi:r(n,0)},e.color.ansi256={ansi256:o(n,0)},e.color.ansi16m={rgb:s(a,0)},e.bgColor.ansi={ansi:r(n,10)},e.bgColor.ansi256={ansi256:o(n,10)},e.bgColor.ansi16m={rgb:s(a,10)};for(let t of Object.keys(i)){if("object"!=typeof i[t])continue;const n=i[t];"ansi16"===t&&(t="ansi"),"ansi16"in n&&(e.color.ansi[t]=r(n.ansi16,0),e.bgColor.ansi[t]=r(n.ansi16,10)),"ansi256"in n&&(e.color.ansi256[t]=o(n.ansi256,0),e.bgColor.ansi256[t]=o(n.ansi256,10)),"rgb"in n&&(e.color.ansi16m[t]=s(n.rgb,0),e.bgColor.ansi16m[t]=s(n.rgb,10))}return e}})},{"color-convert":3}],2:[function(t,e,n){var i=t("color-name"),r={};for(var o in i)i.hasOwnProperty(o)&&(r[i[o]]=o);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var l=s[a].channels,c=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:l}),Object.defineProperty(s[a],"labels",{value:c})}s.rgb.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(i,r,o),a=Math.max(i,r,o),l=a-s;return a===s?e=0:i===a?e=(r-o)/l:r===a?e=2+(o-i)/l:o===a&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a===s?0:n<=.5?l/(a+s):l/(2-a-s)),100*n]},s.rgb.hsv=function(t){var e,n,i,r,o,s=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),h=function(t){return(c-t)/6/u+.5};return 0===u?r=o=0:(o=u/c,e=h(s),n=h(a),i=h(l),s===c?r=i-n:a===c?r=1/3+e-i:l===c&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*c]},s.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[s.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,i))*100,100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},s.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},s.rgb.keyword=function(t){var e=r[t];if(e)return e;var n,o,s,a=1/0;for(var l in i)if(i.hasOwnProperty(l)){var c=(o=t,s=i[l],Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));c<a&&(a=c,n=l)}return n},s.keyword.rgb=function(t){return i[t]},s.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},s.rgb.lab=function(t){var e=s.rgb.xyz(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},s.hsl.rgb=function(t){var e,n,i,r,o,s=t[0]/360,a=t[1]/100,l=t[2]/100;if(0===a)return[o=255*l,o,o];e=2*l-(n=l<.5?l*(1+a):l+a-l*a),r=[0,0,0];for(var c=0;c<3;c++)(i=s+1/3*-(c-1))<0&&i++,i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[c]=255*o;return r},s.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=n,o=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=o<=1?o:2-o,[e,100*(0===i?2*r/(o+r):2*n/(i+n)),(i+n)/2*100]},s.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),s=255*i*(1-n),a=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}},s.hsv.hsl=function(t){var e,n,i,r=t[0],o=t[1]/100,s=t[2]/100,a=Math.max(s,.01);return i=(2-o)*s,n=o*a,[r,100*(n=(n/=(e=(2-o)*a)<=1?e:2-e)||0),100*(i/=2)]},s.hwb.rgb=function(t){var e,n,i,r,o,s,a,l=t[0]/360,c=t[1]/100,u=t[2]/100,h=c+u;switch(h>1&&(c/=h,u/=h),n=1-u,i=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(i=1-i),r=c+i*(n-c),e){default:case 6:case 0:o=n,s=r,a=c;break;case 1:o=r,s=n,a=c;break;case 2:o=c,s=n,a=r;break;case 3:o=c,s=r,a=n;break;case 4:o=r,s=c,a=n;break;case 5:o=n,s=c,a=r}return[255*o,255*s,255*a]},s.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]},s.xyz.rgb=function(t){var e,n,i,r=t[0]/100,o=t[1]/100,s=t[2]/100;return n=-.9689*r+1.8758*o+.0415*s,i=.0557*r+-.204*o+1.057*s,e=(e=3.2406*r+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},s.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.lab.xyz=function(t){var e,n,i,r=t[0];e=t[1]/500+(n=(r+16)/116),i=n-t[2]/200;var o=Math.pow(n,3),s=Math.pow(e,3),a=Math.pow(i,3);return n=o>.008856?o:(n-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,i=a>.008856?a:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},s.lab.lch=function(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]},s.lch.lab=function(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]},s.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],r=1 in arguments?arguments[1]:s.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===r&&(o+=60),o},s.hsv.ansi16=function(t){return s.rgb.ansi16(s.hsv.rgb(t),t[2])},s.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},s.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},s.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},s.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},s.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map((function(t){return t+t})).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},s.rgb.hcg=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255,o=Math.max(Math.max(n,i),r),s=Math.min(Math.min(n,i),r),a=o-s;return e=a<=0?0:o===n?(i-r)/a%6:o===i?2+(r-n)/a:4+(n-i)/a+4,e/=6,[360*(e%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(t){var e,n=t[1]/100,i=t[2]/100,r=0;return(e=i<.5?2*n*i:2*n*(1-i))<1&&(r=(i-.5*e)/(1-e)),[t[0],100*e,100*r]},s.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=e*n,r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},s.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];var r,o=[0,0,0],s=e%1*6,a=s%1,l=1-a;switch(Math.floor(s)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return r=(1-n)*i,[255*(n*o[0]+r),255*(n*o[1]+r),255*(n*o[2]+r)]},s.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},s.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},s.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},s.hwb.hcg=function(t){var e=t[1]/100,n=1-t[2]/100,i=n-e,r=0;return i<1&&(r=(n-i)/(1-i)),[t[0],100*i,100*r]},s.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},s.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},s.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},s.gray.hsl=s.gray.hsv=function(t){return[0,0,t[0]]},s.gray.hwb=function(t){return[0,100,t[0]]},s.gray.cmyk=function(t){return[0,0,0,t[0]]},s.gray.lab=function(t){return[t[0],0,0]},s.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},s.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},{"color-name":5}],3:[function(t,e,n){var i=t("./conversions"),r=t("./route"),o={};Object.keys(i).forEach((function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:i[t].channels}),Object.defineProperty(o[t],"labels",{value:i[t].labels});var e=r(t);Object.keys(e).forEach((function(n){var i=e[n];o[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(i),o[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)}))})),e.exports=o},{"./conversions":2,"./route":4}],4:[function(t,e,n){var i=t("./conversions");function r(t){var e=function(){for(var t={},e=Object.keys(i),n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var r=n.pop(),o=Object.keys(i[r]),s=o.length,a=0;a<s;a++){var l=o[a],c=e[l];-1===c.distance&&(c.distance=e[r].distance+1,c.parent=r,n.unshift(l))}return e}function o(t,e){return function(n){return e(t(n))}}function s(t,e){for(var n=[e[t].parent,t],r=i[e[t].parent][t],s=e[t].parent;e[s].parent;)n.unshift(e[s].parent),r=o(i[e[s].parent][s],r),s=e[s].parent;return r.conversion=n,r}e.exports=function(t){for(var e=r(t),n={},i=Object.keys(e),o=i.length,a=0;a<o;a++){var l=i[a];null!==e[l].parent&&(n[l]=s(l,e))}return n}},{"./conversions":2}],5:[function(t,e,n){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],6:[function(t,e,n){e.exports={match:t("./match"),spotlight:t("./spotlight")}},{"./match":7,"./spotlight":8}],7:[function(t,e,n){function i(t,e,n,i){t(e||"match",n,i)}e.exports=function(t,e){if(t instanceof RegExp){const n=-1!==t.flags.indexOf("g")?t.flags:t.flags+"g",r=new RegExp(t,n);return function(t,n){let o;for(;o=r.exec(t);)i(n,e,o.index,o.index+o[0].length)}}return t=String(t),function(n,r){let o=-1;for(;-1!==(o=n.indexOf(t,o+1));)i(r,e,o,o+t.length)}}},{}],8:[function(t,e,n){e.exports=(...t)=>(e,n)=>t.forEach(t=>n("spotlight",...t))},{}],9:[function(t,e,n){const i=t("./utils"),{ensureArray:r,ensureFunction:o}=i,s=t("./generator"),a=t("./printer");function l(t){return a[t]||(t&&"object"==typeof t?t:a.noop)}function c(t,e){const n=[];return r(e).forEach(e=>{o(e)(t,(t,e,i,r)=>n.push({type:t,start:e,end:i,data:r}))}),n}function u(t,e,n){n=l(n);const i=o(n.print,t=>t),r=o(n.createContext,()=>{})(),s=[];let a=n.hooks||{},c=[],u=o(n.start,()=>"")(r),h=1/0,d=0;a=Object.keys(a).reduce((t,e)=>(c.push(e),t[e]={open:o(a[e].open,()=>""),close:o(a[e].close,()=>"")},t),{}),e=e.slice().sort((t,e)=>t.start-e.start||e.end-t.end||c.indexOf(t.type)-c.indexOf(e.type));const f=e=>{d!==e&&(u+=i(t.substring(d,e),r),d=e)},p=t=>a[s[t].type].open(s[t].data,r)||"",g=t=>a[s[t].type].close(s[t].data,r)||"",m=t=>{for(;h<=t;){f(h);for(let t=s.length-1;t>=0&&s[t].end===h;t--)u+=g(t),s.pop();h=1/0;for(let t=0;t<s.length;t++)s[t].end<h&&(h=s[t].end)}};for(let t=0;t<e.length;t++){const n=e[t];let i=0;if(!1!==a.hasOwnProperty(n.type)&&!(n.start>n.end)&&Number.isFinite(n.start)&&Number.isFinite(n.end)){for(m(n.start),f(n.start),i=0;i<s.length;i++)if(s[i].end<n.end){for(let t=s.length-1;t>=i;t--)u+=g(t);break}for(s.splice(i,0,n);i<s.length;i++)u+=p(i);n.end<h&&(h=n.end)}}m(t.length),f(t.length);for(let t=s.length-1;t>=0;t--)u+=g(t);return u+=o(n.finish,()=>{})(r)||""}function h(t,e){return e=l(e),o(e.finalize,String).call(e,t)}function d(t,e,n){let i=u(t,c(t,e),n);return h(i,n)}function f(t,e){return t=r(t),{use:n=>f(t.concat(n),e),printer:e=>f(t,e),decorate:n=>d(n,t,e)}}f.printer=a,f.generator=s,f.generateRanges=c,f.print=u,f.finalize=h,f.decorate=d,f.utils=i,e.exports=f},{"./generator":6,"./printer":12,"./utils":15}],10:[function(t,e,n){e.exports=function(t={}){return Object.assign({},this,t,{hooks:Object.assign({},this.hooks,t.hooks)})}},{}],11:[function(t,e,n){e.exports={fork:t("./fork"),start:()=>"<div>",finish:()=>"</div>",print:t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),hooks:{syntax:{open:t=>'<span class="syntax--'+t+'">',close:()=>"</span>"},spotlight:{open:()=>'<span class="spotlight">',close:()=>"</span>"},match:{open:()=>'<span class="match">',close:()=>"</span>"}}}},{"./fork":10}],12:[function(t,e,n){e.exports={noop:t("./noop"),html:t("./html"),tty:t("./tty")}},{"./html":11,"./noop":13,"./tty":14}],13:[function(t,e,n){e.exports={fork:t("./fork")}},{"./fork":10}],14:[function(t,e,n){const i=t("ansi-styles"),r=a("reset"),o=a("bgBlue","white"),s=function(t){const e={};for(let n in t)e[n]=Array.isArray(t[n])?a(...t[n]):a(t[n]);return e}({string:"yellow",comment:"gray",keyword:"red",key:"cyan",value:"cyan"});function a(...t){return t.reduce((t,e)=>{switch(!0){case e in i.color:t.color=i.color[e].open;break;case e in i.bgColor:t.bgColor=i.bgColor[e].open;break;case"reset"===e:t.color="[39m",t.bgColor="[49m"}return t},{})}function l(t){return{open:(e,n)=>{const i=t(e)||{};n.stack.push(n.style),n.style=Object.assign({},n.style,i)},close:(t,e)=>{e.style=e.stack.pop()}}}function c(t,e){let n="";for(let i in t)if(t[i]!==e[i])switch(i){case"color":case"bgColor":n+=e[i]||""}return n}e.exports={fork:t("./fork"),createContext:()=>({printed:r,style:r,stack:[]}),start:t=>c({},t.printed),finish:t=>c(t.printed,t.style),print(t,e){if(e.printed!==e.style){const n=c(e.printed,e.style);if(e.printed=e.style,n)return n+t}return t},hooks:{syntax:l(t=>s[t]),spotlight:l(()=>o)}}},{"./fork":10,"ansi-styles":1}],15:[function(t,e,n){const i=function(){};e.exports={ensureFunction:function(t,e){return"function"==typeof t?t:e||i},ensureArray:function(t){return Array.isArray(t)?t:[]}}},{}]},{},[9])(9)})),Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{}],5:[function(t,e,n){var i,r={},o=(e=void 0,function(){const t=arguments[arguments.length-1];i=t(),o=void 0});o.amd=!0,function(t){if("object"==typeof n&&void 0!==e)e.exports=t();else if("function"==typeof o&&o.amd)o([],t);else{("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).jora=t()}}((function(){return function e(n,i,r){function o(a,l){if(!i[a]){if(!n[a]){var c="function"==typeof t&&t;if(!l&&c)return c(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[a]={exports:{}};n[a][0].call(h.exports,(function(t){return o(n[a][1][t]||t)}),h,h.exports,e,n,i,r)}return i[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){var i=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[2,4],n=[1,12],i=[1,30],r=[1,8],o=[1,32],s=[1,20],a=[1,21],l=[1,22],c=[1,15],u=[1,16],h=[1,17],d=[1,18],f=[1,23],p=[1,24],g=[1,25],m=[1,26],v=[1,27],y=[1,31],b=[1,33],x=[1,34],w=[1,35],k=[1,36],O=[1,38],S=[1,37],M=[1,19],C=[5,17,60,70],P=[1,50],T=[1,49],A=[1,42],L=[1,43],j=[1,44],E=[1,45],D=[1,46],N=[1,47],I=[1,48],_=[1,51],z=[1,52],R=[1,53],H=[1,54],F=[1,55],B=[1,56],W=[1,57],G=[1,58],$=[1,59],X=[1,60],Y=[5,10,12,15,16,17,21,22,23,41,42,43,44,47,48,49,50,51,54,55,57,58,59,60,61,63,69,70],V=[5,11,13,17,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,60,62,64,70],U=[1,61],q=[1,62],K=[1,63],Z=[1,64],J=[1,65],Q=[1,66],tt=[5,17,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,54,55,57,58,59,60,61,70],et=[2,49],nt=[5,11,13,17,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,54,55,57,58,59,60,61,62,64,70],it=[1,72],rt=[1,86],ot=[1,85],st=[1,87],at=[1,88],lt=[1,89],ct=[2,50],ut=[5,11,13,17,28,29,30,60,62,64,70],ht=[5,11,13,17,22,23,24,25,26,27,28,29,30,34,35,36,37,38,39,40,60,62,64,70],dt=[62,64],ft=[5,11,13,17,24,25,26,27,28,29,30,60,62,64,70],pt=[5,11,13,17,24,25,26,27,28,29,30,34,35,40,60,62,64,70],gt=[5,11,13,17,24,25,26,27,28,29,30,34,35,36,37,38,39,40,60,62,64,70],mt=[1,150],vt=[17,62],yt={trace:function(){},yy:{},symbols_:{error:2,root:3,block:4,EOF:5,nonEmptyBlock:6,definitions:7,e:8,def:9,$:10,";":11,SYMBOL:12,":":13,query:14,SELF:15,"(":16,")":17,keyword:18,function:19,op:20,NOT:21,"-":22,"+":23,IN:24,HAS:25,NOTIN:26,HASNO:27,AND:28,OR:29,"?":30,"*":31,"/":32,"%":33,"=":34,"!=":35,"<":36,"<=":37,">":38,">=":39,"~=":40,TRUE:41,FALSE:42,NULL:43,UNDEFINED:44,queryRoot:45,relativePath:46,"@":47,"#":48,STRING:49,NUMBER:50,REGEXP:51,object:52,array:53,".":54,".(":55,arguments:56,"..":57,"..(":58,".[":59,"]":60,"[":61,",":62,"{":63,"}":64,properties:65,property:66,"...":67,arrayItems:68,FUNCTION_START:69,FUNCTION_END:70,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"$",11:";",12:"SYMBOL",13:":",15:"SELF",16:"(",17:")",21:"NOT",22:"-",23:"+",24:"IN",25:"HAS",26:"NOTIN",27:"HASNO",28:"AND",29:"OR",30:"?",31:"*",32:"/",33:"%",34:"=",35:"!=",36:"<",37:"<=",38:">",39:">=",40:"~=",41:"TRUE",42:"FALSE",43:"NULL",44:"UNDEFINED",47:"@",48:"#",49:"STRING",50:"NUMBER",51:"REGEXP",54:".",55:".(",57:"..",58:"..(",59:".[",60:"]",61:"[",62:",",63:"{",64:"}",67:"...",69:"FUNCTION_START",70:"FUNCTION_END"},productions_:[0,[3,2],[4,1],[4,1],[4,0],[6,2],[6,1],[7,1],[7,2],[9,2],[9,3],[9,5],[8,1],[8,1],[8,3],[8,4],[8,1],[8,1],[8,1],[20,2],[20,2],[20,2],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,5],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[20,3],[18,1],[18,1],[18,1],[18,1],[14,1],[14,1],[45,1],[45,1],[45,1],[45,2],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,2],[45,3],[45,3],[45,3],[45,4],[45,4],[45,5],[45,2],[45,3],[45,3],[46,3],[46,5],[46,6],[46,4],[46,3],[46,4],[46,4],[46,4],[56,1],[56,3],[52,2],[52,3],[65,1],[65,3],[66,1],[66,1],[66,2],[66,3],[66,3],[66,5],[66,1],[66,2],[53,2],[53,3],[68,1],[68,3],[19,3]],performAction:function(t,e,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return this.$={ast:o[a-1],commentRanges:i.commentRanges};case 2:this.$=["/*scope*/",o[a]];break;case 3:this.$=["/*scope*/",o[a],"\nreturn current"];break;case 4:this.$=["/*scope*/","return ","/*sp:"+this._$.range+",*/","current","/**/"];break;case 5:this.$=[o[a-1],"\nreturn ",o[a]];break;case 6:this.$=["return ",o[a]];break;case 7:case 12:case 16:case 17:case 18:case 45:case 46:case 51:case 52:case 53:case 54:case 55:case 75:case 79:case 91:this.$=[o[a]];break;case 8:this.$=[o[a-1],"\n",o[a]];break;case 9:this.$=["/*sp:"+s[a-1].range+",key*/","current","/**/",";"];break;case 10:this.$=["/*define:"+s[a-1].range+"*/","const $",o[a-1]," = fn.map(","/*sp:"+s[a-1].range+",key*/","current","/**/",', "',o[a-1],'");'];break;case 11:this.$=["/*define:"+s[a-3].range+"*/","const $",o[a-3]," = ",o[a-1],";"];break;case 13:this.$=["current => self(current, context)"];break;case 14:this.$=["self(current, context)"];break;case 15:this.$=["self(",o[a-1],", context)"];break;case 19:this.$=["!fn.bool(",o[a],")"];break;case 20:this.$=["-",o[a]];break;case 21:this.$=["+",o[a]];break;case 22:this.$=["fn.in(",o[a-2],", ","/*sp:"+s[a-2].range+",in-value*/",o[a],"/**/",")"];break;case 23:this.$=["fn.in(",o[a],", ","/*sp:"+s[a].range+",in-value*/",o[a-2],"/**/",")"];break;case 24:this.$=["!fn.in(",o[a-2],", ",o[a],")"];break;case 25:this.$=["!fn.in(",o[a],", ",o[a-2],")"];break;case 26:this.$=["fn.bool(tmp = ",o[a-2],") ? ",o[a]," : tmp"];break;case 27:this.$=["fn.bool(tmp = ",o[a-2],") ? tmp : ",o[a]];break;case 28:this.$=["fn.bool(",o[a-4],") ? ",o[a-2]," : ",o[a]];break;case 29:this.$=["fn.add(",o[a-2],", ",o[a],")"];break;case 30:this.$=["fn.sub(",o[a-2],", ",o[a],")"];break;case 31:this.$=["fn.mul(",o[a-2],", ",o[a],")"];break;case 32:this.$=["fn.div(",o[a-2],", ",o[a],")"];break;case 33:this.$=["fn.mod(",o[a-2],", ",o[a],")"];break;case 34:this.$=["fn.eq(","/*sp:"+s[a].range+",value*/",o[a-2],"/**/",", ",o[a],")"];break;case 35:this.$=["fn.ne(","/*sp:"+s[a].range+",value*/",o[a-2],"/**/",", ",o[a],")"];break;case 36:this.$=["fn.lt(",o[a-2],", ",o[a],")"];break;case 37:this.$=["fn.lte(",o[a-2],", ",o[a],")"];break;case 38:this.$=["fn.gt(",o[a-2],", ",o[a],")"];break;case 39:this.$=["fn.gte(",o[a-2],", ",o[a],")"];break;case 40:this.$=["fn.match(",o[a-2],", ",o[a],")"];break;case 41:this.$=["true"];break;case 42:this.$=["false"];break;case 43:this.$=["null"];break;case 44:this.$=["undefined"];break;case 47:this.$=["data"];break;case 48:this.$=["context"];break;case 49:this.$=["/*var:"+s[a].range+"*/","current"];break;case 50:this.$=["/*var:"+this._$.range+"*/","typeof $",o[a]," !== 'undefined' ? $",o[a]," : undefined"];break;case 56:this.$=["/*var:"+s[a].range+"*/","fn.map(","/*sp:"+s[a].range+",*/","current","/**/",', "',o[a],'")'];break;case 57:this.$=["fn.map(","/*sp:"+s[a].range+",*/","current","/**/",', "',o[a],'")'];break;case 58:this.$=["(",o[a-1],")"];break;case 59:this.$=["fn.map(current, current => { ",o[a-1]," })"];break;case 60:case 62:this.$=["method.",o[a-2],"(","/*sp:"+s[a-2].range+",,"+s[a-1].range+",*/","current","/**/",")"];break;case 61:case 63:this.$=["method.",o[a-3],"(","/*sp:"+s[a-3].range+",*/","current","/**/",", ",o[a-1],")"];break;case 64:this.$=["fn.recursive(","/*sp:"+s[a].range+",*/","current","/**/",', "',o[a],'")'];break;case 65:this.$=["fn.recursive(current, current => { ",o[a-1]," })"];break;case 66:this.$=["fn.filter(current, current => { ",o[a-1]," })"];break;case 67:this.$=["fn.map(","/*sp:"+s[a].range+",*/",o[a-2],"/**/",', "',o[a],'")'];break;case 68:this.$=["method.",o[a-2],"((","/*sp:"+s[a-1].range+",*/","current","/**/",", ","/*sp:"+s[a-2].range+",*/",o[a-4],"/**/","))"];break;case 69:this.$=["method.",o[a-3],"(","/*sp:"+s[a-3].range+",*/",o[a-5],"/**/",", ",o[a-1],")"];break;case 70:this.$=["fn.map(",o[a-3],", current => { ",o[a-1]," })"];break;case 71:this.$=["fn.recursive(","/*sp:"+s[a].range+",*/",o[a-2],"/**/",', "',o[a],'")'];break;case 72:this.$=["fn.recursive(",o[a-3],", current => { ",o[a-1]," })"];break;case 73:this.$=["fn.filter(",o[a-3],", current => { ",o[a-1]," })"];break;case 74:this.$=["fn.map(",o[a-3],", ",o[a-1],")"];break;case 76:case 80:case 92:this.$=[o[a-2],", ",o[a]];break;case 77:this.$=["(","/*sp:"+s[a-1].range+",*/","current","/**/",", {})"];break;case 78:this.$=["({ ",o[a-1]," })"];break;case 81:this.$=["/*var:"+s[a].range+"*/",o[a],": fn.map(","/*sp:"+s[a].range+",*/","current","/**/",', "',o[a],'")'];break;case 82:this.$=["[Symbol()]: ","/*var:"+this._$.range+"*/","0"];break;case 83:this.$=["/*var:"+this._$.range+"*/",o[a],": typeof $",o[a]," !== 'undefined' ? $",o[a]," : undefined"];break;case 84:case 85:this.$=[o[a-2],": ",o[a]];break;case 86:this.$=["[",o[a-3],"]: ",o[a]];break;case 87:this.$=["...","/*var:"+s[a].range+"*/","/*sp:"+s[a].range+",*/","current","/**/"];break;case 88:this.$=["...",o[a]];break;case 89:this.$=["(","/*sp:"+s[a-1].range+",*/","current","/**/",", [])"];break;case 90:this.$=["[",o[a-1],"]"];break;case 93:this.$=["current => { ",o[a-1]," }"]}},table:[{3:1,4:2,5:e,6:3,7:4,8:5,9:6,10:n,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{1:[3]},{5:[1,39]},t(C,[2,2]),t(C,[2,3],{14:7,18:9,19:10,20:11,45:13,46:14,52:28,53:29,8:40,9:41,10:n,12:i,15:r,16:o,21:s,22:a,23:l,41:c,42:u,43:h,44:d,47:f,48:p,49:g,50:m,51:v,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M}),t(C,[2,6],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(Y,[2,7]),t(V,[2,12],{54:U,55:q,57:K,58:Z,59:J,61:Q}),t(V,[2,13],{16:[1,67]}),t(V,[2,16]),t(V,[2,17]),t(V,[2,18]),t(tt,et,{11:[1,68],12:[1,69]}),t(nt,[2,45]),t(nt,[2,46]),t(V,[2,41]),t(V,[2,42]),t(V,[2,43]),t(V,[2,44]),{4:70,6:3,7:4,8:5,9:6,10:n,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M,70:e},{8:71,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:73,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:74,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},t(nt,[2,47]),t(nt,[2,48]),t(nt,[2,51]),t(nt,[2,52]),t(nt,[2,53]),t(nt,[2,54]),t(nt,[2,55]),t(nt,[2,56],{16:[1,75]}),{12:[1,76]},{8:77,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{4:78,6:3,7:4,8:5,9:6,10:n,12:i,14:7,15:r,16:o,17:e,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{12:[1,79]},{4:80,6:3,7:4,8:5,9:6,10:n,12:i,14:7,15:r,16:o,17:e,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{4:81,6:3,7:4,8:5,9:6,10:n,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,60:e,61:O,63:S,69:M},{10:rt,12:ot,49:st,61:at,64:[1,82],65:83,66:84,67:lt},{8:92,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,60:[1,90],61:O,63:S,68:91,69:M},{1:[2,1]},t(C,[2,5],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(Y,[2,8]),{8:93,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:94,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:95,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:96,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:97,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:98,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:99,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:100,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:101,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:102,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:103,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:104,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:105,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:106,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:107,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:108,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:109,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:110,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:111,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{12:[1,112]},{4:113,6:3,7:4,8:5,9:6,10:n,12:i,14:7,15:r,16:o,17:e,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{12:[1,114]},{4:115,6:3,7:4,8:5,9:6,10:n,12:i,14:7,15:r,16:o,17:e,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{4:116,6:3,7:4,8:5,9:6,10:n,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,60:e,61:O,63:S,69:M},{8:117,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:119,10:it,12:i,14:7,15:r,16:o,17:[1,118],18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},t(Y,[2,9]),t(tt,ct,{11:[1,120],13:[1,121]}),{70:[1,122]},t(ut,[2,19],{22:P,23:T,24:A,25:L,26:j,27:E,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(nt,et,{12:[1,123]}),t(ht,[2,20],{31:_,32:z,33:R}),t(ht,[2,21],{31:_,32:z,33:R}),{8:126,10:it,12:i,14:7,15:r,16:o,17:[1,124],18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,56:125,57:x,58:w,59:k,61:O,63:S,69:M},t(nt,[2,57],{16:[1,127]}),{17:[1,128],22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X},{17:[1,129]},t(nt,[2,64]),{17:[1,130]},{60:[1,131]},t(nt,[2,77]),{62:[1,133],64:[1,132]},t(dt,[2,79]),t(dt,[2,81],{13:[1,134]}),t(dt,[2,82],{12:[1,135]}),{13:[1,136]},{8:137,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},t(dt,[2,87],{45:13,46:14,52:28,53:29,14:138,10:it,12:i,16:o,47:f,48:p,49:g,50:m,51:v,54:y,55:b,57:x,58:w,59:k,61:O,63:S}),t(nt,[2,89]),{60:[1,139]},{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X,60:[2,91],62:[1,140]},t(ft,[2,22],{22:P,23:T,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(ft,[2,23],{22:P,23:T,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(ft,[2,24],{22:P,23:T,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(ft,[2,25],{22:P,23:T,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(ut,[2,26],{22:P,23:T,24:A,25:L,26:j,27:E,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t([5,11,13,17,29,30,60,62,64,70],[2,27],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),{13:[1,141],22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X},t(ht,[2,29],{31:_,32:z,33:R}),t(ht,[2,30],{31:_,32:z,33:R}),t(V,[2,31]),t(V,[2,32]),t(V,[2,33]),t(pt,[2,34],{22:P,23:T,31:_,32:z,33:R,36:B,37:W,38:G,39:$}),t(pt,[2,35],{22:P,23:T,31:_,32:z,33:R,36:B,37:W,38:G,39:$}),t(gt,[2,36],{22:P,23:T,31:_,32:z,33:R}),t(gt,[2,37],{22:P,23:T,31:_,32:z,33:R}),t(gt,[2,38],{22:P,23:T,31:_,32:z,33:R}),t(gt,[2,39],{22:P,23:T,31:_,32:z,33:R}),t(pt,[2,40],{22:P,23:T,31:_,32:z,33:R,36:B,37:W,38:G,39:$}),t(nt,[2,67],{16:[1,142]}),{17:[1,143]},t(nt,[2,71]),{17:[1,144]},{60:[1,145]},{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X,60:[1,146]},t(V,[2,14]),{17:[1,147],22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X},t(Y,[2,10]),{8:148,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},t(V,[2,93]),t(nt,ct),t(nt,[2,60]),{17:[1,149],62:mt},t(vt,[2,75],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),{8:126,10:it,12:i,14:7,15:r,16:o,17:[1,151],18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,56:152,57:x,58:w,59:k,61:O,63:S,69:M},t(nt,[2,58]),t(nt,[2,59]),t(nt,[2,65]),t(nt,[2,66]),t(nt,[2,78]),{10:rt,12:ot,49:st,61:at,66:153,67:lt},{8:154,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},t(dt,[2,83]),{8:155,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X,60:[1,156]},t(dt,[2,88],{54:U,55:q,57:K,58:Z,59:J,61:Q}),t(nt,[2,90]),{8:92,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,68:157,69:M},{8:158,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},{8:126,10:it,12:i,14:7,15:r,16:o,17:[1,159],18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,56:160,57:x,58:w,59:k,61:O,63:S,69:M},t(nt,[2,70]),t(nt,[2,72]),t(nt,[2,73]),t(nt,[2,74]),t(V,[2,15]),{11:[1,161],22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X},t(nt,[2,61]),{8:162,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},t(nt,[2,62]),{17:[1,163],62:mt},t(dt,[2,80]),t(dt,[2,84],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(dt,[2,85],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),{13:[1,164]},{60:[2,92]},t([5,11,13,17,60,62,64,70],[2,28],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(nt,[2,68]),{17:[1,165],62:mt},t(Y,[2,11]),t(vt,[2,76],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X}),t(nt,[2,63]),{8:166,10:it,12:i,14:7,15:r,16:o,18:9,19:10,20:11,21:s,22:a,23:l,41:c,42:u,43:h,44:d,45:13,46:14,47:f,48:p,49:g,50:m,51:v,52:28,53:29,54:y,55:b,57:x,58:w,59:k,61:O,63:S,69:M},t(nt,[2,69]),t(dt,[2,86],{22:P,23:T,24:A,25:L,26:j,27:E,28:D,29:N,30:I,31:_,32:z,33:R,34:H,35:F,36:B,37:W,38:G,39:$,40:X})],defaultActions:{39:[2,1],157:[2,92]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,l=0,c=0,u=2,h=1,d=r.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;r.push(m);var v=f.options&&f.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,b,x,w,k,O,S,M,C,P=function(){var t;return"number"!=typeof(t=f.lex()||h)&&(t=e.symbols_[t]||t),t},T={};;){if(x=n[n.length-1],this.defaultActions[x]?w=this.defaultActions[x]:(null==y&&(y=P()),w=o[x]&&o[x][y]),void 0===w||!w.length||!w[0]){var A="";for(O in C=[],o[x])this.terminals_[O]&&O>u&&C.push("'"+this.terminals_[O]+"'");A=f.showPosition?"Parse error on line "+(a+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(a+1)+": Unexpected "+(y==h?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[y]||y,line:f.yylineno,loc:m,expected:C})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+y);switch(w[0]){case 1:n.push(y),i.push(f.yytext),r.push(f.yylloc),n.push(w[1]),y=null,b?(y=b,b=null):(l=f.yyleng,s=f.yytext,a=f.yylineno,m=f.yylloc,c>0&&c--);break;case 2:if(S=this.productions_[w[1]][1],T.$=i[i.length-S],T._$={first_line:r[r.length-(S||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(S||1)].first_column,last_column:r[r.length-1].last_column},v&&(T._$.range=[r[r.length-(S||1)].range[0],r[r.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,l,a,p.yy,w[1],i,r].concat(d))))return k;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),r=r.slice(0,-1*S)),n.push(this.productions_[w[1]][0]),i.push(T.$),r.push(T._$),M=o[n[n.length-2]][n[n.length-1]],n.push(M);break;case 3:return!0}}return!0}},bt={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{ranges:!0},performAction:function(t,e,n,i){switch(n){case 0:t.commentRanges.push(e.yylloc.range);break;case 1:break;case 2:return this.popState(),"/";case 3:return this.popState(),"<";case 4:this.done=!1,this.popState();break;case 5:return this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0,"(";case 6:return this.fnOpened=this.fnOpenedStack.pop()||0,this._input&&this.begin("preventPrimitive"),")";case 7:return this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0,"[";case 8:return this.fnOpened=this.fnOpenedStack.pop()||0,this._input&&this.begin("preventPrimitive"),"]";case 9:return this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0,"{";case 10:return this.fnOpened=this.fnOpenedStack.pop()||0,this._input&&this.begin("preventPrimitive"),"}";case 11:return"TRUE";case 12:return"FALSE";case 13:return"NULL";case 14:return"UNDEFINED";case 15:return"AND";case 16:return"OR";case 17:return"HASNO";case 18:return"HAS";case 19:return"IN";case 20:return"NOTIN";case 21:return"NOT";case 22:return this._input&&this.begin("preventPrimitive"),"@";case 23:return this._input&&this.begin("preventPrimitive"),"#";case 24:return this._input&&this.begin("preventPrimitive"),"$";case 25:return"SELF";case 26:return this._input&&this.begin("preventPrimitive"),"NUMBER";case 27:case 28:return this._input&&this.begin("preventPrimitive"),"STRING";case 29:return this._input&&this.begin("preventPrimitive"),"REGEXP";case 30:return this._input&&this.begin("preventPrimitive"),"SYMBOL";case 31:return this.fnOpened++,"FUNCTION_START";case 32:return"=";case 33:return"!=";case 34:return"~=";case 35:return">=";case 36:return"<=";case 37:return"<";case 38:return this.fnOpened?(this.fnOpened--,"FUNCTION_END"):">";case 39:return this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0,"..(";case 40:return this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0,".(";case 41:return this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0,".[";case 42:return"...";case 43:return this._input&&this.begin("preventPrimitive"),"..";case 44:return this._input&&this.begin("preventPrimitive"),".";case 45:return"?";case 46:return",";case 47:return":";case 48:return";";case 49:return"-";case 50:return"+";case 51:return"*";case 52:return"/";case 53:return"%";case 54:return"EOF"}},rules:[/^(?:(\/\/.*?(\r|\n|$)))/,/^(?:(\s+))/,/^(?:\/)/,/^(?:<(?!=))/,/^(?:)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:true(\b))/,/^(?:false(\b))/,/^(?:null(\b))/,/^(?:undefined(\b))/,/^(?:and(\b))/,/^(?:or(\b))/,/^(?:has(\s+)no(\b))/,/^(?:has(\b))/,/^(?:in(\b))/,/^(?:not(\s+)in(\b))/,/^(?:not?(\b))/,/^(?:@)/,/^(?:#)/,/^(?:\$)/,/^(?:::self)/,/^(?:\d+(?:\.\d+)?([eE][-+]?\d+)?(\b))/,/^(?:"(?:\\.|[^"])*")/,/^(?:'(?:\\.|[^'])*')/,/^(?:(\/(?:\\.|[^\/])+\/i?))/,/^(?:[a-zA-Z_][a-zA-Z_$0-9]*)/,/^(?:<(?!=))/,/^(?:=)/,/^(?:!=)/,/^(?:~=)/,/^(?:>=)/,/^(?:<=)/,/^(?:<)/,/^(?:>)/,/^(?:\.\.\()/,/^(?:\.\()/,/^(?:\.\[)/,/^(?:\.\.\.)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\?)/,/^(?:,)/,/^(?::)/,/^(?:;)/,/^(?:\-)/,/^(?:\+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\%)/,/^(?:$)/],conditions:{preventPrimitive:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],inclusive:!0},INITIAL:{rules:[0,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],inclusive:!0}}};function xt(){this.yy={}}return yt.lexer=bt,xt.prototype=yt,yt.Parser=xt,new xt}();e.exports=function(t){function e(t,e){Object.entries(e).forEach(([e,n])=>t[e]=n(t[e]))}const n=new t.Parser;n.lexer=Object.assign({},t.lexer),[t.lexer,n.lexer].forEach(t=>e(t,{setInput:t=>(function(e,n){return n.commentRanges=[],this.fnOpened=0,this.fnOpenedStack=[],this.prevToken=null,this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]},t.call(this,e,n)})}));const i=["AND","OR","IN","NOTIN","HAS","HASNO"],r=[...i,"NOT"],o=["+","-","*","/","%","=","!=","~=",">=","<=","<",">"],s=[null,":",";",",",".","..",...o,...i,"NOT"],a=new Set([",","?",":",";","EOF","]",")","}",...o,...i]),l=s.reduce((t,e)=>t.set(e,a),new Map);return l.set("{",new Set([","])),l.set("[",new Set([","])),l.set("(",new Set([","])),e(n.lexer,{lex:t=>(function e(){this.lex=t;const n=this._input,i=this.lex(this);if(this.lex=e,l.has(this.prevToken)&&l.get(this.prevToken).has(i)){const t={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};if(this.unput(this.yytext),this.pushState("preventPrimitive"),this.done=!1,this.yytext="_",this.yylloc=this.prevYylloc=t,n!==this._input&&r.includes(i)){const e=n.length-this._input.length-1;switch(n[e]){case" ":case"\t":t.last_column--,t.range[1]--;break;case"\n":{const i=n.lastIndexOf("\n",e-1);t.last_line--,t.last_column=-1===i?t.last_column-1:e-i,t.range[1]--;break}}}return this.prevToken="SYMBOL"}if(this.prevYylloc=this.yylloc,r.includes(i))switch(this._input[0]){case" ":case"\t":this.prevYylloc=Object.assign({},this.prevYylloc,{last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]});break;case"\n":this.prevYylloc=Object.assign({},this.prevYylloc,{last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]})}return this.prevToken=i})}),t.strict=t,t.tolerant=n,t}(i)},{}],2:[function(t,e,n){e.exports={version:"1.0.0-alpha.10"}},{}],3:[function(t,e,n){const{addToSet:i,getPropertyValue:r,isPlainObject:o,isRegExp:s}=t("./utils");e.exports=Object.freeze({bool:function(t){if(Array.isArray(t))return t.length>0;if(o(t)){for(const e in t)if(hasOwnProperty.call(t,e))return!0;return!1}return Boolean(t)},and:function(t,e){return this.bool(t)?e:t},or:function(t,e){return this.bool(t)?t:e},add:function(t,e){return Array.isArray(t)||Array.isArray(e)?[...new Set([].concat(t,e))]:t+e},sub:function(t,e){if(Array.isArray(t)){const n=new Set(t);return Array.isArray(e)?e.forEach(t=>n.delete(t)):n.delete(e),[...n]}return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},eq:function(t,e){return t===e},ne:function(t,e){return t!==e},lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e},in:function(t,e){return o(e)?hasOwnProperty.call(e,t):!(!e||"function"!=typeof e.indexOf)&&-1!==e.indexOf(t)},match:function(t,e){return"function"==typeof e?this.filter(t,e):s(e)?this.filter(t,e.test.bind(e)):null==e},map:function(t,e){const n="function"==typeof e?e:t=>r(t,e);return Array.isArray(t)?[...t.reduce((t,e)=>i(t,n(e)),new Set)]:void 0!==t?n(t):t},recursive:function(t,e){const n=new Set;return i(n,this.map(t,e)),n.forEach(t=>i(n,this.map(t,e))),[...n]},filter:function(t,e){return Array.isArray(t)?t.filter(t=>this.bool(e(t))):this.bool(e(t))?t:void 0}})},{"./utils":6}],4:[function(t,e,n){const i=t("./buildin"),r=t("./methods"),{strict:o,tolerant:s}=t("./parser"),{addToSet:a,isPlainObject:l}=t("./utils"),c=new Map,u=new Map,h=new Map,d=new Map,f={path:"property",key:"property",value:"value","in-value":"value",var:"variable"};function p(t,e){const n=t.charCodeAt(e);return 9===n||10===n||13===n||32===n}function g(t,e){return e>=0&&e<t.length&&/[a-zA-Z_$0-9]/.test(t[e])}function m(t,e,n,i){const r=[];for(let o=0;o<n.length;o++){const[s,a,l]=n[o];for(let n=0;n<a.length;n+=2){let o=a[n],c=a[n+1];if(e>=o&&e<=c&&(i||s.size||s.length)){let n=t.substring(o,c);/\S/.test(n)||(n="",o=c=e),r.push({context:l,current:n,from:o,to:c,values:s})}}}return r}e.exports=function(t,e){e=e||{};const n=Boolean(e.debug),v=Boolean(e.stat),y=Boolean(e.tolerant),b=e.methods?Object.assign({},r,e.methods):r,x=v?y?d:u:y?h:c;let w;return t=String(t),x.has(t)?w=x.get(t):(w=function(t,e,n,i){function r(e,n){const i=[];for(let t=0;t<c.length;t++){const[r,o]=c[t];if(r>n)break;r<e||(r===e?i.push(e,e):i.push(e,r),e=o)}return e===t.length&&d||i.push(e,n),i}i&&(console.log("\n== compile ======"),console.log("source:",t));const a=n?s:o,{ast:l,commentRanges:c}=a.parse(t),u=[],h=[],d=c.length&&c[c.length-1][1]===t.length&&!/[\r\n]$/.test(t);let f=[],m=[];return function n(i,o){if(Array.isArray(i)){const e=i[0];let r=!1,s=0;if("/*scope*/"===e)o=o.slice(),s++;else if("string"==typeof e&&e.startsWith("/*define:")){let[n,i]=e.substring(9,e.length-2).split(",");if(r=t.substring(n,i),o.includes(`"${r}"`))throw new Error(`Identifier '$${r}' has already been declared`);s++}for(;s<i.length;s++)n(i[s],o);r&&o.push(`"${r}"`)}else if(e&&i.startsWith("/*"))if(i.startsWith("/*var:")){let[e,n]=i.substring(6,i.length-2).split(",");if(e===n){if(g(t,e-1))return;for(;n<t.length-1&&p(t,n);)n++;if(g(t,n)){if(e===n)return;n--}}h.push(`[[${o}], [${r(e,n)}], "var"]`)}else if(i.startsWith("/*sp:")){const e=f.push("sp"+f.length+" = new Set()")-1,n=i.substring(5,i.length-2).split(",");for(let i=0;i<n.length;i+=3){let o=Number(n[i]),s=Number(n[i+1]),a=n[i+2];const l=t.substring(o,s);if(".["===l||".("===l||"..("===l||"{"===l||"["===l||"("===l||"<"===l||"..."===l||o===s){if(o=s,g(t,o-1))continue;for(;s<t.length-1&&p(t,s);)s++;if(g(t,s)){if(o===s)continue;s--}}h.push(`[sp${e}, [${r(o,s)}], "${a||"path"}"]`)}u.push(`suggestPoint(sp${e}, `)}else"/**/"===i&&u.push(")");else u.push(i)}(l,[]),f.length&&m.push("const "+f.join(", ")+";","const suggestPoint = (set, value) => (set.add(value), value);"),m.push("const $data = undefined, $context = undefined, $ctx = undefined, $array = undefined, $idx = undefined, $index = undefined;","let current = data;","let tmp;",u.join("")),e&&m.push(`,[${h}]`),i&&console.log("== body =========\n"+m.join("\n")+"\n=================\n"),new Function("fn","method","data","context","self",m.join("\n"))}(t,v,y,n),x.set(t,w)),n&&console.log("fn",w.toString()),v?function e(n,r){const o=w(i,b,n,r,e);return{stat(e,n){const i=m(t,e,o,n);return i.forEach(t=>{t.values=[...t.values]}),i.length?i:null},suggestion(e,n){const i=[];return m(t,e,o,n).forEach(t=>{const{context:e,current:n,from:r,to:o,values:s}=t;i.push(...function(t,e){const n=new Set,i=t=>{switch(typeof t){case"string":n.add(JSON.stringify(t));break;case"number":n.add(String(t))}};switch(t){case"":case"path":e.forEach(t=>{Array.isArray(t)?t.forEach(t=>{l(t)&&a(n,Object.keys(t))}):l(t)&&a(n,Object.keys(t))});break;case"key":e.forEach(t=>{l(t)&&a(n,Object.keys(t))});break;case"value":e.forEach(t=>{Array.isArray(t)?t.forEach(i):i(t)});break;case"in-value":e.forEach(t=>{Array.isArray(t)?t.forEach(i):l(t)?Object.keys(t).forEach(i):i(t)});break;case"var":e.forEach(t=>{n.add("$"+t)})}return[...n]}(e,s).map(t=>({current:n,type:f[e],value:t,from:r,to:o})))}),i.length?i:null}}}:function t(e,n){return w(i,b,e,n,t)}},e.exports.version=t("../package.json").version,e.exports.buildin=i,e.exports.methods=r},{"../package.json":2,"./buildin":3,"./methods":5,"./parser":1,"./utils":6}],5:[function(t,e,n){const i=t("./buildin"),{addToSet:r,isPlainObject:o}=t("./utils");function s(){}function a(t){return t}e.exports=Object.freeze({bool:i.bool,filter:i.filter,map:i.map,keys:function(t){return Object.keys(t||{})},values:function(t){const e=new Set;for(const n in t)hasOwnProperty.call(t,n)&&r(e,t[n]);return[...e]},entries:function(t){const e=[];for(const n in t)hasOwnProperty.call(t,n)&&e.push({key:n,value:t[n]});return e},pick:function(t,e){if(t){if("function"!=typeof e)return Array.isArray(t)?t[e||0]:t[e];if(Array.isArray(t))return t.find(t=>e(t));for(const n in t)if(hasOwnProperty.call(t,n)&&e(t[n]))return{key:n,value:t[n]}}},mapToArray:function(t,e="key",n){const i=[];for(const r in t)hasOwnProperty.call(t,r)&&i.push(n?{[e]:r,[n]:t[r]}:Object.assign({[e]:r},t[r]));return i},size:function(t){switch(!0){case Array.isArray(t):return t.length;case o(t):return Object.keys(t).length;default:return t&&t.length||0}},sort:function(t,e){return Array.isArray(t)?"function"==typeof e?t.slice().sort((t,n)=>{if(t=e(t),n=e(n),Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return t.length<n.length?-1:1;for(let e=0;e<t.length;e++){if(t[e]<n[e])return-1;if(t[e]>n[e])return 1}return 0}return t<n?-1:t>n}):t.slice().sort():t},reverse:function(t){return Array.isArray(t)?t.slice().reverse():t},group:function(t,e,n){"function"!=typeof e&&(e=s),"function"!=typeof n&&(n=a),Array.isArray(t)||(t=[t]);const i=new Map,r=[];return t.forEach(t=>{let r=e(t);Array.isArray(r)||(r=[r]),r.forEach(e=>{i.has(e)?i.get(e).add(n(t)):i.set(e,new Set([n(t)]))})}),i.forEach((t,e)=>r.push({key:e,value:[...t]})),r}})},{"./buildin":3,"./utils":6}],6:[function(t,e,n){const i=Object.prototype.toString;e.exports={addToSet:function(t,e){return void 0!==e&&(Array.isArray(e)?e.forEach(e=>t.add(e)):t.add(e)),t},getPropertyValue:function(t,e){return t&&hasOwnProperty.call(t,e)?t[e]:void 0},isPlainObject:function(t){return t&&"object"==typeof t&&t.constructor===Object},isRegExp:function(t){return"[object RegExp]"===i.call(t)}}},{}]},{},[4])(4)})),Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},{"../package.json":void 0,"./buildin":void 0,"./methods":void 0,"./parser":void 0,"./utils":void 0}],6:[function(t,e,n){var i={},r=(e=void 0,function(){const t=arguments[arguments.length-1];o=t(),r=void 0});r.amd=!0;var o=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,n=0,i={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof r?new r(t.type,i.util.encode(t.content),t.alias):Array.isArray(t)?t.map(i.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var r,o,s=i.util.type(e);switch(n=n||{},s){case"Object":if(o=i.util.objId(e),n[o])return n[o];for(var a in r={},n[o]=r,e)e.hasOwnProperty(a)&&(r[a]=t(e[a],n));return r;case"Array":return o=i.util.objId(e),n[o]?n[o]:(r=[],n[o]=r,e.forEach((function(e,i){r[i]=t(e,n)})),r);default:return e}}},languages:{extend:function(t,e){var n=i.util.clone(i.languages[t]);for(var r in e)n[r]=e[r];return n},insertBefore:function(t,e,n,r){var o=(r=r||i.languages)[t],s={};for(var a in o)if(o.hasOwnProperty(a)){if(a==e)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(a)||(s[a]=o[a])}var c=r[t];return r[t]=s,i.languages.DFS(i.languages,(function(e,n){n===c&&e!=t&&(this[e]=s)})),s},DFS:function t(e,n,r,o){o=o||{};var s=i.util.objId;for(var a in e)if(e.hasOwnProperty(a)){n.call(e,a,e[a],r||a);var l=e[a],c=i.util.type(l);"Object"!==c||o[s(l)]?"Array"!==c||o[s(l)]||(o[s(l)]=!0,t(l,n,a,o)):(o[s(l)]=!0,t(l,n,null,o))}}},plugins:{},highlightAll:function(t,e){i.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var r={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r);for(var o,s=t.querySelectorAll(r.selector),a=0;o=s[a++];)i.highlightElement(o,!0===e,r.callback)},highlightElement:function(n,r,o){for(var s,a="none",l=n;l&&!e.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(e)||[,"none"])[1].toLowerCase(),s=i.languages[a]),n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a));var c={element:n,language:a,grammar:s,code:n.textContent},u=function(t){c.highlightedCode=t,i.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,i.hooks.run("after-highlight",c),i.hooks.run("complete",c),o&&o.call(c.element)};if(i.hooks.run("before-sanity-check",c),c.code)if(i.hooks.run("before-highlight",c),c.grammar)if(r&&t.Worker){var h=new Worker(i.filename);h.onmessage=function(t){u(t.data)},h.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else u(i.highlight(c.code,c.grammar,c.language));else u(i.util.encode(c.code));else i.hooks.run("complete",c)},highlight:function(t,e,n){var o={code:t,grammar:e,language:n};return i.hooks.run("before-tokenize",o),o.tokens=i.tokenize(o.code,o.grammar),i.hooks.run("after-tokenize",o),r.stringify(i.util.encode(o.tokens),o.language)},matchGrammar:function(t,e,n,o,s,a,l){for(var c in n)if(n.hasOwnProperty(c)&&n[c]){if(c==l)return;var u=n[c];u="Array"===i.util.type(u)?u:[u];for(var h=0;h<u.length;++h){var d=u[h],f=d.inside,p=!!d.lookbehind,g=!!d.greedy,m=0,v=d.alias;if(g&&!d.pattern.global){var y=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,y+"g")}d=d.pattern||d;for(var b=o,x=s;b<e.length;x+=e[b].length,++b){var w=e[b];if(e.length>t.length)return;if(!(w instanceof r)){if(g&&b!=e.length-1){if(d.lastIndex=x,!(P=d.exec(t)))break;for(var k=P.index+(p?P[1].length:0),O=P.index+P[0].length,S=b,M=x,C=e.length;S<C&&(M<O||!e[S].type&&!e[S-1].greedy);++S)k>=(M+=e[S].length)&&(++b,x=M);if(e[b]instanceof r)continue;T=S-b,w=t.slice(x,M),P.index-=x}else{d.lastIndex=0;var P=d.exec(w),T=1}if(P){p&&(m=P[1]?P[1].length:0);O=(k=P.index+m)+(P=P[0].slice(m)).length;var A=w.slice(0,k),L=w.slice(O),j=[b,T];A&&(++b,x+=A.length,j.push(A));var E=new r(c,f?i.tokenize(P,f):P,v,P,g);if(j.push(E),L&&j.push(L),Array.prototype.splice.apply(e,j),1!=T&&i.matchGrammar(t,e,n,b,x,!0,c),a)break}else if(a)break}}}}},tokenize:function(t,e){var n=[t],r=e.rest;if(r){for(var o in r)e[o]=r[o];delete e.rest}return i.matchGrammar(t,n,e,0,0,!1),n},hooks:{all:{},add:function(t,e){var n=i.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=i.hooks.all[t];if(n&&n.length)for(var r,o=0;r=n[o++];)r(e)}},Token:r};function r(t,e,n,i,r){this.type=t,this.content=e,this.alias=n,this.length=0|(i||"").length,this.greedy=!!r}if(r.stringify=function(t,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(t){return r.stringify(t,e)})).join("");var n={type:t.type,content:r.stringify(t.content,e),tag:"span",classes:["token",t.type],attributes:{},language:e};if(t.alias){var o=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(n.classes,o)}i.hooks.run("wrap",n);var s=Object.keys(n.attributes).map((function(t){return t+'="'+(n.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(s?" "+s:"")+">"+n.content+"</"+n.tag+">"},!t.document)return t.addEventListener?(i.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),r=n.language,o=n.code,s=n.immediateClose;t.postMessage(i.highlight(o,i.languages[r],r)),s&&t.close()}),!1),i):i;return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});void 0!==e&&e.exports&&(e.exports=o),void 0!==i&&(i.Prism=o),o.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(t,e){var n={};n["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[e]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+e]={pattern:/[\s\S]+/,inside:o.languages[e]};var r={};r[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:i},o.languages.insertBefore("markup","cdata",r)}}),o.languages.xml=o.languages.extend("markup",{}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+e.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},n.tag))}(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}}}),o.languages.markup&&o.languages.markup.tag.addInlined("script","javascript"),o.languages.js=o.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(t){t=t||document;var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(t.querySelectorAll("pre[data-src]")).forEach((function(t){if(!t.hasAttribute("data-src-loaded")){for(var n,i=t.getAttribute("data-src"),r=t,s=/\blang(?:uage)?-([\w-]+)\b/i;r&&!s.test(r.className);)r=r.parentNode;if(r&&(n=(t.className.match(s)||[,""])[1]),!n){var a=(i.match(/\.(\w+)$/)||[,""])[1];n=e[a]||a}var l=document.createElement("code");l.className="language-"+n,t.textContent="",l.textContent="Loading…",t.appendChild(l);var c=new XMLHttpRequest;c.open("GET",i,!0),c.onreadystatechange=function(){4==c.readyState&&(c.status<400&&c.responseText?(l.textContent=c.responseText,o.highlightElement(l),t.setAttribute("data-src-loaded","")):c.status>=400?l.textContent="✖ Error "+c.status+" while fetching file: "+c.statusText:l.textContent="✖ Error: File does not exist or is empty")},c.send(null)}})),o.plugins.toolbar&&o.plugins.toolbar.registerButton("download-file",(function(t){var e=t.element.parentNode;if(e&&/pre/i.test(e.nodeName)&&e.hasAttribute("data-src")&&e.hasAttribute("data-download-link")){var n=e.getAttribute("data-src"),i=document.createElement("a");return i.textContent=e.getAttribute("data-download-link-label")||"Download",i.setAttribute("download",""),i.href=n,i}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()}))),o.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},function(t){t.languages.php=t.languages.extend("clike",{keyword:/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|new|or|parent|print|private|protected|public|require|require_once|return|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,boolean:{pattern:/\b(?:false|true)\b/i,alias:"constant"},constant:[/\b[A-Z_][A-Z0-9_]*\b/,/\b(?:null)\b/i],comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0}}),t.languages.insertBefore("php","string",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),t.languages.insertBefore("php","comment",{delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"}}),t.languages.insertBefore("php","keyword",{variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),t.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}});var e={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[.+?]|->\w+)*)/,lookbehind:!0,inside:{rest:t.languages.php}};t.languages.insertBefore("php","string",{"nowdoc-string":{pattern:/<<<'([^']+)'(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;/,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},"heredoc-string":{pattern:/<<<(?:"([^"]+)"(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\1;|([a-z_]\w*)(?:\r\n?|\n)(?:.*(?:\r\n?|\n))*?\2;)/i,greedy:!0,alias:"string",inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:e}},"single-quoted-string":{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,alias:"string",inside:{interpolation:e}}}),delete t.languages.php.string,t.hooks.add("before-tokenize",(function(e){if(/<\?/.test(e.code)){t.languages["markup-templating"].buildPlaceholders(e,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#)(?:[^?\n\r]|\?(?!>))*|\/\*[\s\S]*?(?:\*\/|$))*?(?:\?>|$)/gi)}})),t.hooks.add("after-tokenize",(function(e){t.languages["markup-templating"].tokenizePlaceholders(e,"php")}))}(o),o.languages.twig={comment:/\{#[\s\S]*?#\}/,tag:{pattern:/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}/,inside:{ld:{pattern:/^(?:\{\{-?|\{%-?\s*\w+)/,inside:{punctuation:/^(?:\{\{|\{%)-?/,keyword:/\w+/}},rd:{pattern:/-?(?:%\}|\}\})$/,inside:{punctuation:/.+/}},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:true|false|null)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-xor|b-or|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],property:/\b[a-zA-Z_]\w*\b/,punctuation:/[()\[\]{}:.,]/}},other:{pattern:/\S(?:[\s\S]*\S)?/,inside:o.languages.markup}},o.languages.yaml={scalar:{pattern:/([\-:]\s*(?:![^\s]+)?[ \t]*[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)[^\r\n]+(?:\2[^\r\n]+)*)/,lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:/(\s*(?:^|[:\-,[{\r\n?])[ \t]*(?:![^\s]+)?[ \t]*)[^\r\n{[\]},#\s]+?(?=\s*:\s)/,lookbehind:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?)?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?)(?=[ \t]*(?:$|,|]|}))/m,lookbehind:!0,alias:"number"},boolean:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:true|false)[ \t]*(?=$|,|]|})/im,lookbehind:!0,alias:"important"},null:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)(?:null|~)[ \t]*(?=$|,|]|})/im,lookbehind:!0,alias:"important"},string:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)("|')(?:(?!\2)[^\\\r\n]|\\.)*\2(?=[ \t]*(?:$|,|]|}|\s*#))/m,lookbehind:!0,greedy:!0},number:{pattern:/([:\-,[{]\s*(?:![^\s]+)?[ \t]*)[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+\.?\d*|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)[ \t]*(?=$|,|]|})/im,lookbehind:!0},tag:/![^\s]+/,important:/[&*][\w]+/,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},o.languages.yml=o.languages.yaml,function(t){var e={url:/url\((["']?).*?\1\)/i,string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,number:/\b\d+(?:\.\d+)?%?/,boolean:/\b(?:true|false)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.+|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],punctuation:/[{}()\[\];:,]/};e.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^{|}$/,alias:"punctuation"},rest:e}},e.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:e}},t.languages.stylus={comment:{pattern:/(^|[^\\])(\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},"atrule-declaration":{pattern:/(^\s*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:e}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:(?:\{[^}]*\}|.+)|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:e}},statement:{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t]+.+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:e}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:e.interpolation}},rest:e}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\))?|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:!0,inside:{interpolation:e.interpolation,punctuation:/[{},]/}},func:e.func,string:e.string,interpolation:e.interpolation,punctuation:/[{}()\[\];:.]/}}(o),Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(t("../widget/index.js")),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(t("../views/index-complex.js")),o=a(t("../core/router.js")),s=t("../core/utils/dom.js");function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,g(e).call(this,t,null,i))).mode=i.mode,n.apply(r),n.apply(o.default),n.addBadge("Index",(function(){return n.setPage("default")}),(function(t){return"default"!==t.pageId&&"modelfree"!==t.mode})),n.addBadge("Make report",(function(){return n.setPage("report")}),(function(t){return"report"!==t.pageId&&"modelfree"!==t.mode})),n.addBadge("Reload with no cache",(function(){return fetch("drop-cache").then((function(){return location.reload()}))}),(function(){return i.cache})),n.addBadge("Switch model",(function(){return location.href=".."}),(function(t){return"multi"===t.mode})),n.addBadge((function(t){t.classList.add("load-data-badge"),t.innerHTML='Load data<input type="file" accept="application/json,.json">',t.lastChild.addEventListener("change",(function(t){return n.loadDataFromEvent(t)}))}),(function(){}),(function(t){return"modelfree"===t.mode})),"modelfree"===n.mode&&n.dom.container&&(n.dom.container.addEventListener("drop",(function(t){return n.loadDataFromEvent(t)}),!0),n.dom.container.addEventListener("dragover",(function(t){t.stopPropagation(),t.preventDefault()}),!0)),n}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,(i=[{key:"setData",value:function(t,n){var i=this,r=p(g(e.prototype),"setData",this).call(this,t,n);return"modelfree"===this.mode&&r.then((function(){var t=i.pageHash;i.defaultPageId="report",i.pageHash=void 0,i.setPageHash(t,!0)})),r}},{key:"loadDataFromEvent",value:function(t){var e=this,n=t.dataTransfer||t.target,i=n&&n.files&&n.files[0];if(t.stopPropagation(),t.preventDefault(),"application/json"===i.type){var r=new FileReader;r.onload=function(t){var n=JSON.parse(t.target.result);e.setData(n,{name:"Discover file: ".concat(i.name),createdAt:new Date,data:n})},r.readAsText(i)}}},{key:"loadDataFromUrl",value:function(t,e){var n=this,i=Date.now(),r="string"==typeof t?void 0:t;return this.dom.loadingOverlay.classList.remove("error","done"),fetch(r?"data:application/json,{}":t).then((function(t){return console.log("[Discovery] Data loaded in ".concat(Date.now()-i,"ms")),n.dom.loadingOverlay.innerHTML="Processing data...",r||t.json()})).then((function(t){if(t.error)throw new Error(t.error);var i=e?t[e]:t,r=u({name:"Discovery"},e?t:{data:t},{createdAt:e&&t.createdAt?new Date(Date.parse(t.createdAt)):new Date});n.setData(i,r),n.dom.loadingOverlay.classList.add("done")})).catch((function(t){n.dom.loadingOverlay.classList.add("error"),n.dom.loadingOverlay.innerHTML="<pre>Data loading error:<br>"+String(t).replace(/^Error:\s*Error:/,"Error:")+"</pre><button onclick=\"fetch('drop-cache').then(() => location.reload())\">Reload with no cache</button>",console.error("[Discovery] Data load error:",t)}))}},{key:"setContainer",value:function(t){p(g(e.prototype),"setContainer",this).call(this,t),this.dom.container&&this.dom.container.appendChild(this.dom.loadingOverlay=(0,s.createElement)("div","loading-overlay done","Loading..."))}},{key:"getRenderContext",value:function(){return u({},p(g(e.prototype),"getRenderContext",this).call(this),{modelfree:"modelfree"===this.mode})}},{key:"renderPage",value:function(){return document.title=this.getRenderContext().name||document.title,p(g(e.prototype),"renderPage",this).call(this)}}])&&d(n.prototype,i),a&&d(n,a),e}(i.default);n.default=v},{"../core/router.js":12,"../core/utils/dom.js":16,"../views/index-complex.js":44,"../widget/index.js":70}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("./emitter.js"))&&i.__esModule?i:{default:i};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=new WeakMap,h=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?l(t):e}(this,a(e).call(this)),u.set(l(t),Object.create(null)),t}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(i=[{key:"define",value:function(t,e){u.get(this)[t]=e,this.emit("define",t,e)}},{key:"isDefined",value:function(t){return t in u.get(this)}},{key:"get",value:function(t){return u.get(this)[t]}},{key:"names",get:function(){return Object.keys(u.get(this)).sort()}}])&&s(n.prototype,i),r&&s(n,r),e}(r.default);n.default=h},{"./emitter.js":9}],9:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners=Object.create(null)}var e,n,r;return e=t,(n=[{key:"on",value:function(t,e){return this.listeners[t]={callback:e,next:this.listeners[t]||null},this}},{key:"once",value:function(t,e){return this.on(t,(function n(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];e.apply(this,r),this.off(t,n)}))}},{key:"off",value:function(t,e){for(var n=this.listeners[t],i=null;n;){if(n.callback===e){n.callback=null,i?i.next=n.next:this.listeners[t]=n.next;break}i=n,n=n.next}return this}},{key:"emit",value:function(t){for(var e=this.listeners[t],n=!1,i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(;e;)"function"==typeof e.callback&&e.callback.apply(this,r),n=!0,e=e.next;return n}}])&&i(e.prototype,n),r&&i(e,r),t}();n.default=r},{}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("./dict.js"))&&i.__esModule?i:{default:i};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p={name:"not-found",render:function(t,e){var n=e.name;t.style.cssText="color:#a00",t.innerText="Page `".concat(n,"` not found")}},g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,d(e).call(this))).view=t,n.lastPage=null,n.lastPageId=null,n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(i=[{key:"define",value:function(t,n,i){var r=this;h(d(e.prototype),"define",this).call(this,t,Object.freeze({name:t,render:"function"==typeof n?n.bind(this.view):function(t,e,i){return r.view.render(t,n,e,i)},options:Object.freeze(a({},i))}))}},{key:"render",value:function(t,e,n,i){var r,o=Date.now(),s=this.get(e);s||(s=this.get("not-found")||p,n={name:e});var a=s.options||{},l=a.reuseEl,c=a.init,u=a.keepScrollOffset,h=void 0===u||u,d=this.lastPage!==e,f=i&&i.id,g=this.lastPageId!==f,m=l&&!d?t:document.createElement("article"),v=t.parentNode;this.lastPage=e,this.lastPageId=f,m.id=t.id,m.classList.add("page","page-"+e),d&&"function"==typeof c&&c(m);try{r=s.render(m,n,i)}catch(t){r=this.view.render(m,"alert-danger",String(t)+" (see details in console)"),console.error(t)}return m!==t&&v.replaceChild(m,t),(d||g||!h)&&(v.scrollTop=0),{pageEl:m,renderState:Promise.resolve(r).then((function(){return console.log("[Discovery] Page `"+s.name+"` rendered in "+(Date.now()-o)+"ms")}))}}}])&&c(n.prototype,i),r&&c(n,r),e}(r.default);n.default=g},{"./dict.js":8}],11:[function(t,e,n){"use strict";var i;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=s(this,l(e).call(this))).view=t,n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),n=e,(i=[{key:"define",value:function(t,n){var i=this;n=JSON.parse(JSON.stringify(n)),a(l(e.prototype),"define",this).call(this,t,Object.freeze({name:t,render:function(t,e,r,o){return i.view.render(t,n,r,o)},config:n}))}},{key:"render",value:function(t,e,n,i){var r=this.get(e);if(!r){var o="Preset `"+e+"` is not found";console.error(o,e);var s=t.appendChild(document.createElement("div"));return s.style.cssText="color:#a00;border:1px dashed #a00;font-size:12px;padding:4px",s.innerText=o,Promise.resolve()}return r.render(t,null,n,i)}}])&&o(n.prototype,i),r&&o(n,r),e}(((i=t("./dict.js"))&&i.__esModule?i:{default:i}).default);n.default=u},{"./dict.js":8}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.setPageHash(location.hash),t.cancelScheduledRender(),window.addEventListener("hashchange",(function(){return t.setPageHash(location.hash)}),!1),t.on("pageHashChange",(function(e){var n=t.pageHash||"#";("#"!==n||location.hash)&&(e?location.replace(n):location.hash=n)}))}},{}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.encode=function(t){var e="";Array.isArray(t)||(t=function(t){t=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);e+=r<128?i[r]:r<2048?i[r>>6|192]+i[63&r|128]:i[r>>12|224]+i[r>>6&63|128]+i[63&r|128]}return e}(t);for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t));for(var n=0;n<t.length;){var o=t[n++],s=t[n++],a=t[n++],l=(3&o)<<4|s>>4,c=(15&s)<<2|a>>6,u=63&a;null==s?c=u=64:null==a&&(u=64),e+=r[o>>2]+r[l]+r[c]+r[u]}return e},n.decode=function(t){var e,n,r,s,a=[];t=t.replace(/[^a-zA-Z0-9\+\/]/g,"");for(var l=0;l<t.length;){e=o[t.charAt(l++)],n=o[t.charAt(l++)],r=o[t.charAt(l++)],s=o[t.charAt(l++)];var c=e<<2|n>>4,u=(15&n)<<4|r>>2,h=(3&r)<<6|s;a.push(c,u,h)}null!=r&&64!=r||a.pop();null!=s&&64!=s||a.pop();return function(t){return function(t){for(var e="",n=0;n<t.length;){var i=t.charCodeAt(n++);if(i<128)e+=String.fromCharCode(i);else{var r=t.charCodeAt(n++);if(32&i){var o=t.charCodeAt(n++);e+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o)}else e+=String.fromCharCode((31&i)<<6|63&r)}}return e}(t.map((function(t){return i[t]})).join(""))}(a)};for(var i=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),o=r.reduce((function(t,e,n){return t[e]=n,t}),{}),s=0;s<255;s++)i[s]=String.fromCharCode(s)},{}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){navigator.clipboard?navigator.clipboard.writeText(t):function(t){var e=window.getSelection(),n=document.createRange();document.body.appendChild(i),i.firstChild.nodeValue=t,n.selectNodeContents(i),e.removeAllRanges(),e.addRange(n);try{document.execCommand("copy")}catch(t){console.error(t)}e.removeAllRanges(),i.remove()}(t)};var i=(0,t("./dom.js").createElement)("div",{style:["position: fixed","overflow: hidden","font-size: 1px","width: 1px","height: 1px","top: 0","left: 0","white-space: pre"].join(";")},["text"])},{"./dom.js":16}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){for(var n=0;n<t.length;n++)if(void 0!==t[n])return t[n];return e}},{}],16:[function(t,e,n){"use strict";function i(t){return document.createTextNode(String(t))}Object.defineProperty(n,"__esModule",{value:!0}),n.createElement=function(t,e,n){var r=document.createElement(t);"string"==typeof e&&(e={class:e});for(var o in e)o.startsWith("on")?r.addEventListener(o.substr(2),e[o]):r.setAttribute(o,e[o]);Array.isArray(n)?n.forEach((function(t){return r.appendChild(t instanceof Node?t:i(t))})):"string"==typeof n&&(r.innerHTML=n);return r},n.createText=i,n.createFragment=function(){for(var t=document.createDocumentFragment(),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){return t.appendChild(e instanceof Node?e:i(e))})),t}},{}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.escapeHtml=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=h(t("./base64.js")),r=u(t("./copy-text.js")),o=u(t("./defined.js")),s=h(t("./dom.js")),a=h(t("./html.js")),l=h(t("./layout.js")),c=u(t("./safe-filter-rx.js"));function u(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({base64:i,copyText:r.default,defined:o.default},s,{},a,{},l,{safeFilterRx:c.default});n.default=p},{"./base64.js":13,"./copy-text.js":14,"./defined.js":15,"./dom.js":16,"./html.js":17,"./layout.js":19,"./safe-filter-rx.js":20}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getOffsetParent=function(t){var e=t.offsetParent||i;for(;e&&e!==i&&"static"==getComputedStyle(e,"position");)e=e.offsetParent;return e||i},n.getPageOffset=o,n.getBoundingRect=s,n.getViewportRect=function(t,e){var n,i,a=r?document.documentElement:document.body,l=t!==a||e?s(t,e):o(),c=l.top,u=l.left;t&&t!==window?(c+=t.clientTop,u+=t.clientLeft,n=t.clientWidth,i=t.clientHeight):(n=window.innerWidth||0,i=window.innerHeight||0);return{top:c,left:u,right:u+n,bottom:c+i,width:n,height:i}};var i=document.documentElement,r="CSS1Compat"===document.compatMode;function o(t){var e=0,n=0;if(t&&t.getBoundingClientRect){var o=t.getBoundingClientRect();e=-o.top,n=-o.left}else if(r)e=window.pageYOffset||i.scrollTop,n=window.pageXOffset||i.scrollLeft;else{var s=document.body;t!==s&&(e=s.scrollTop-s.clientTop,n=s.scrollLeft-s.clientLeft)}return{left:n,top:e}}function s(t,e){var n=o(e),i=0,r=0,s=0,a=0;if(t&&t.getBoundingClientRect){var l=t.getBoundingClientRect();i=l.top,r=l.left,s=l.right,a=l.bottom}return{top:i+n.top,left:r+n.left,right:s+n.left,bottom:a+n.top,width:s-r,height:a-i}}},{}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i";try{return new RegExp("((?:"+t+")+)",e)}catch(t){}return new RegExp("((?:"+t.replace(/[\(\)\?\+\*\{\}\\]/g,"\\$&")+")+)",e)}},{}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=t("./dict.js"))&&i.__esModule?i:{default:i};function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m=Object.freeze({});function v(t,e,n,i,r){var o=t.options.tag,s=!1===o||null===o?document.createDocumentFragment():document.createElement(o||"div");return Promise.resolve(t.render(s,n,i,r)).then((function(){if(s.classList&&(t.name&&s.classList.add("view-".concat(t.name)),n.className)){var o,a=n.className;if("string"==typeof a)s.classList.add(a);else Array.isArray(a)||(a=[a]),(o=s.classList).add.apply(o,g(a.map((function(t){return"function"==typeof t?t(i,r):t})).filter(Boolean)))}e.parentNode.replaceChild(s,e)}))}function y(t,e,n,i){var r=this;if(Array.isArray(e))return Promise.all(e.map((function(e){return y.call(r,t,e,n,i)})));var o=null;switch(p(e.view)){case"function":o={render:e.view,name:!1,options:m};break;case"string":if("render"===e.view)o={render:function(t,e,i,o){return r.render(t,i,n,o)},name:!1,options:{tag:!1}};else if(e.view.startsWith("preset/")){var s=e.view.substr(7);if(!this.host.preset.isDefined(s))return this.host.preset.render(t,s,n,i);o={render:this.host.preset.get(s).render,name:!1,options:{tag:!1}}}else o=this.get(e.view)}if(!o){var a="string"==typeof e.view?"View `"+e.view+"` is not found":"Render is not a function";console.error(a,e),o=this.get("config-error")||this.defaultConfigErrorRenderer,e={reason:a,config:e}}if(t||(t=document.createDocumentFragment()),"when"in e==!1||this.host.queryBool(e.when,n,i)){var l=t.appendChild(document.createComment(""));return Promise.resolve("data"in e?this.host.query(e.data,n,i):n).then((function(t){return v(o,l,e,t,i)})).catch((function(t){v(r.get("alert-danger"),l,{},t),console.error(t)}))}return Promise.resolve()}var b=function(t){function e(t){var n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?u(t):e}(this,d(e).call(this))).host=t,n.defaultConfigErrorRenderer=(i=u(n),{name:"config-error",render:function(t,e){if(t.className="buildin-view-config-error",t.textContent=e.reason,"config"in e){var n=t.appendChild(document.createElement("span"));n.className="show-config",n.textContent="show config...",n.addEventListener("click",(function(){n.remove();var r=document.createDocumentFragment();i.render(r,{view:"struct",expanded:1},e.config).then((function(){t.appendChild(r),t.classList.add("expanded")}))}))}},options:m}),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(i=[{key:"define",value:function(t,n,i){var r=this;h(d(e.prototype),"define",this).call(this,t,Object.freeze({name:t,render:"function"==typeof n?n.bind(this):function(t,e,i,o){return r.render(t,n,i,o)},options:Object.freeze(a({},i))}))}},{key:"normalizeConfig",value:function(t){var e=this;if(!t)return null;if(Array.isArray(t))return t.reduce((function(t,n){return t.concat(e.normalizeConfig(n)||[])}),[]);if("string"==typeof t){var n=o(t.match(/^(\S+?):((?:.|\s)+)$/)||[],3),i=n[1],r=n[2];t=i?{view:i,data:r}:{view:t}}else"function"==typeof t&&(t={view:t});return t}},{key:"ensureValidConfig",value:function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.ensureValidConfig(t)})):t&&t.view?t:{view:this.defaultConfigErrorRenderer.render,reason:t?"Option `view` is missed":"Config is not a valid value",config:t}}},{key:"composeConfig",value:function(t,e){return t=this.normalizeConfig(t),e=this.normalizeConfig(e),t&&e?Array.isArray(t)?t.map((function(t){return a({},t,{},e)})):a({},t,{},e):t||e}},{key:"render",value:function(t,e,n,i){return y.call(this,t,this.ensureValidConfig(this.normalizeConfig(e)),n,i)}},{key:"listLimit",value:function(t,e){return!1!==t&&(!t||isNaN(t)?e:Math.max(parseInt(t,10),0)||e)}},{key:"renderList",value:function(t,e,n,i){var r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;!1===s&&(s=n.length);var c=Promise.all(n.slice(o,o+s).map((function(s,l,c){return r.render(t,e,s,a({},i,{index:o+l,array:n,sliceIndex:l,slice:c}))})));return this.maybeMoreButtons(l||t,null,n.length,o+s,s,(function(o,s){return r.renderList(t,e,n,i,o,s,l)})),c}},{key:"maybeMoreButtons",value:function(t,e,n,i,r,o){var s=n-i,a=s<=0?null:document.createElement("span");return s>r&&this.renderMoreButton(a,"Show "+r+" more...",(function(){return o(i,r)})),s>0&&this.renderMoreButton(a,"Show all the rest "+s+" items...",(function(){return o(i,1/0)})),null!==a&&(a.className="more-buttons",t.insertBefore(a,e)),a}},{key:"renderMoreButton",value:function(t,e,n){var i=document.createElement("button");i.className="more-button",i.addEventListener("click",(function(){t.remove(),n()})),i.innerHTML=e,t.appendChild(i)}}])&&c(n.prototype,i),r&&c(n,r),e}(r.default);n.default=b},{"./dict.js":8}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Widget",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"App",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"router",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"utils",{enumerable:!0,get:function(){return c.default}}),n.pages=n.complexViews=n.views=void 0;var i=h(t("./widget/index.js")),r=h(t("./app/index.js")),o=u(t("./views/index.js"));n.views=o;var s=u(t("./views/index-complex.js"));n.complexViews=s;var a=u(t("./pages/index.js"));n.pages=a;var l=h(t("./core/router.js")),c=h(t("./core/utils/index.js"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}},{"./app/index.js":7,"./core/router.js":12,"./core/utils/index.js":18,"./pages/index.js":24,"./views/index-complex.js":44,"./views/index.js":45,"./widget/index.js":70}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.page.define("default",{view:"switch",content:[{when:"#.modelfree",content:[{view:"h1",className:"modelfree",content:['text:"Discovery "','badge:{ text: "model free mode" }']},'html:"<p>Running in <b>model free mode</b>, because no config or no models is set up. Please, read <a href=\\"https://github.com/discoveryjs/discovery/blob/master/README.md\\" href=\\"_blank\\">documention</a> to learn how to set up models."','html:"<p>In this mode you can load a data (JSON), via a button in top right corner or via dropping a file on the page.</p>"']},{content:["h1:#.name",{view:"struct",expanded:1}]}]})}},{}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"notFound",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"report",{enumerable:!0,get:function(){return o.default}});var i=s(t("./default.js")),r=s(t("./not-found.js")),o=s(t("./report.js"));function s(t){return t&&t.__esModule?t:{default:t}}},{"./default.js":23,"./not-found.js":25,"./report.js":26}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.page.define("not-found",['alert-warning:"Page `" + name + "` not found"'])}},{}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e,n,i,r,u=!1,g={},m={},b=Array.isArray(t.options.viewPresets)?d.concat(t.options.viewPresets):d;function x(e,n){return t.setPageParams(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.pageParams,{},e),n)}var w,k=new t.view.Popup({render:function(e,n,i){return t.view.render(e,{view:"menu",data:[{text:"Copy link to report",action:function(){return(0,a.default)(location)}},{text:"Copy report as JSON",action:function(){return(0,a.default)((e=t.pageParams,n=e.title,i=e.query,r=e.view,o={title:n,query:i,view:r},"{\n".concat(Object.keys(o).reduce((function(t,e){return t.concat(o[e]?"    ".concat(e,": '").concat(o[e].replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'"),"'"):[])}),[]).join(",\n"),"\n}")));var e,n,i,r,o}}],onClick:function(t){i(),t.action()}})}}),O=(0,o.createElement)("div","report-header",[(0,o.createElement)("div",{class:"report-header-text","data-title":" "},[e=(0,o.createElement)("input",{placeholder:"Untitled report",oninput:function(t){return x({title:t.target.value},!0)},onkeypress:function(t){13!==event.charCode&&13!==event.keyCode||t.target.blur()}}),(0,o.createElement)("span","timestamp",[n=(0,o.createElement)("span",null,"&nbsp;"),i=(0,o.createElement)("span")])]),(0,o.createElement)("div","data-query-view-options",[r=(0,o.createElement)("button",{class:"edit-mode",title:"Toggle edit mode",onclick:function(e){e.target.blur(),x({noedit:!t.pageParams.noedit})}}),(0,o.createElement)("button",{class:"share",title:"Share ...",onclick:function(t){var e=t.target;e.blur(),k.show(e)}}),(0,o.createElement)("button",{class:"toggle-fullscreen",title:"Toggle fullscreen mode",onclick:function(e){e.target.blur(),x({dzen:!t.pageParams.dzen})}})])]),S=new t.view.QueryEditor((function(e,n){return t.querySuggestions(e,n,t.data,t.context)})).on("change",(function(t){return w.checked&&x({query:t},!0)})),M=t.getQueryEngineInfo(),C=(0,o.createElement)("div","buttons"),P=(0,o.createElement)("div","query-editor-form",[(0,o.createElement)("div","query-editor",[S.el,(0,o.createElement)("div","editor-toolbar",[(0,o.createElement)("span","syntax-hint",'Use <a class="view-link" href="'.concat(M.link,'" target="_blank">').concat(M.name,"</a> ").concat(M.version||""," syntax for queries")),(0,o.createElement)("label",null,[w=(0,o.createElement)("input",{class:"live-update",type:"checkbox",checked:!0,onchange:function(t){t.target.checked&&x({query:S.getValue()},!0)}})," process on input"]),C])])]);t.view.render(C,{view:"button-primary",content:'text:"Process"',onClick:function(){g={},x({query:S.getValue()},!0),t.scheduleRender("page")}});var T,A,L,j,E=(0,o.createElement)("div","data-query-result"),D=new t.view.ViewEditor(t).on("change",(function(t){return j.checked&&x({view:t},!0)})),N=(0,o.createElement)("div","buttons"),I=(0,o.createElement)("div","view-editor-form",[(0,o.createElement)("div","tabs view-mode",L=["Default","Custom"].map((function(t){return(0,o.createElement)("div",{class:"tab","data-mode":t.toLowerCase(),onclick:function(){return x({view:"Default"===t?void 0:h},!0)}},t)}))),(0,o.createElement)("div","tabs presets",b.map((function(t){return function(t,e){return(0,o.createElement)("div",{class:"tab",onclick:function(){return x({view:e})}},t||"Untitled preset")}(t.name,t.content)}))),T=(0,o.createElement)("div",{class:"view-editor",hidden:!0},[(0,o.createElement)("button",{class:"view-button formatting",title:"Prettify (input should be a JSON)",onclick:function(){D.focus();try{var t=D.getValue().trim();x({view:f(new Function("return 0,"+t)())})}catch(t){console.error("[Discovery] Prettify failed",t)}}}),D.el,(0,o.createElement)("div","editor-toolbar",[(0,o.createElement)("div","editor-toolbar-view-dict",[(0,o.createText)("Available views: "),A=(0,o.createElement)("span","editor-toolbar-view-list")]),(0,o.createElement)("label",null,[j=(0,o.createElement)("input",{class:"live-update",type:"checkbox",checked:!0,onchange:function(t){t.target.checked&&x({view:D.getValue()},!0)}})," build on input"]),N])])]);t.view.render(N,{view:"button-primary",content:'text:"Build"',onClick:function(){m={},x({view:D.getValue()},!0),t.scheduleRender("page")}});var _=function(){return A.innerHTML=t.view.names.map((function(t){return'<span class="view">'.concat(t,"</span>")})).join(", ")};_(),t.view.on("define",_);var z=(0,o.createElement)("div",{class:"report-editor",hidden:!0},[P,E,I]),R=(0,o.createElement)("div","report-content");t.page.define("report",(function(o,a,l){var c,d="string"==typeof l.params.view?"custom":"default",f=l.params.title,v=l.params.query,y=l.params.view,b=null,x=null;if(z.hidden=l.params.noedit,r.classList.toggle("disabled",l.params.noedit),e.parentNode.dataset.title=f||e.placeholder,e.value=f,n.innerText=l.createdAt&&"function"==typeof l.createdAt.toLocaleString?"Data collected at "+l.createdAt.toLocaleString().replace(",","")+" | ":"",S.setValue(v),D.setValue(y),g.data===a&&g.query===v&&g.context===l)x=g.results;else{try{c=Date.now(),x=t.query(v,a,l),c=Date.now()-c,I.hidden=!1,R.hidden=!1}catch(t){return g={},E.innerHTML='<div class="error">'+(0,s.escapeHtml)(t.message)+"</div>",I.hidden=!0,void(R.hidden=!0)}E.innerHTML="",g={data:a,query:v,context:l,results:x},t.view.render(E,{view:"expand",title:'text:"'.concat(p(x)," in ").concat(parseInt(c,10),'ms"'),expanded:u,onToggle:function(t){return u=t},content:{view:"struct",expanded:1}},x)}if(T.hidden="custom"!==d,L.forEach((function(t){return t.classList.toggle("active",t.dataset.mode===d)})),y||"default"!==d||(y=h),m.data!==x||m.view!==y){R.innerHTML="";try{b=Function("return "+(y?"0,"+y:"null"))(),t.view.render(R,b,x,l)}catch(e){t.view.render(R,(function(t){t.className="view-build-error",t.innerHTML=(0,s.escapeHtml)(String(e))+"<br>(see details in console)",console.error(e)}))}i.innerText="View built at "+(new Date).toLocaleString().replace(",",""),m={data:x,view:y}}}),{reuseEl:!0,init:function(t){[O,z,R].forEach((function(e){t.appendChild(e)}))},encodeParams:v,decodeParams:y})};var i,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(t("../core/utils/base64.js")),o=t("../core/utils/dom.js"),s=t("../core/utils/html.js"),a=(i=t("../core/utils/copy-text.js"))&&i.__esModule?i:{default:i};function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h="{\n    view: 'struct',\n    expanded: 1\n}",d=[{name:"Table",content:f({view:"table"})},{name:"Auto-link list",content:f({view:"ol",item:"auto-link"})},{name:"Signature",content:f({view:"signature",expanded:2})}];function f(t){return JSON.stringify(t,null,4).replace(/"((?:\\.|[^"])*)"(:?)/g,(function(t,e,n){return n&&/^[a-z$_][a-z$_\d]*$/i.test(e)?e+n:"'".concat(e.replace(/\\"/g,'"').replace(/'/g,"\\'"),"'")+n}))}function p(t){if(Array.isArray(t))return"Array (".concat(t.length?"".concat(t.length," ").concat(t.length>1?"elements":"element"):"empty",")");if(t&&"object"===u(t)){var e=Object.keys(t);return"Object (".concat(e.length?"".concat(e.length," ").concat(e.length>1?"keys":"key"):"empty",")")}return"Scalar (".concat("null"===t?"null":u(t),")")}function g(t,e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}function m(t,e){return"string"==typeof t?t:e||""}function v(t){var e=["query","view","title","dzen","noedit"],n="string"==typeof t?{query:t}:t,i=n.query,o=n.view,s=n.title,a=n.dzen,l=n.noedit,c=n.extra,u=[];return a&&u.push("dzen"),l&&u.push("noedit"),s&&u.push(g("title",s)),i&&u.push(g("q",r.encode(i))),"string"==typeof o&&u.push(o?g("v",r.encode(o)):"v"),Object.keys(c||{}).sort().forEach((function(t){e.includes(t)||u.push(g(t,c[t]))})),u.join("&")}function y(t){var e=["q","v","title","dzen","noedit"],n={title:t.title||"",query:r.decode(m(t.q,"")),view:"v"in t?r.decode(m(t.v,"")):void 0,dzen:"dzen"in t,noedit:"noedit"in t};return Object.keys(t).forEach((function(i){e.includes(i)||(n[i]=t[i])})),n}},{"../core/utils/base64.js":13,"../core/utils/copy-text.js":14,"../core/utils/dom.js":16,"../core/utils/html.js":17}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){function e(e,n,i,r){var o=n.content;t.view.render(e,o||"text",i,r)}t.view.define("alert",e),t.view.define("alert-success",e),t.view.define("alert-danger",e),t.view.define("alert-warning",e)}},{}],28:[function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("auto-link",(function(e,n,o,s){var a=n.content,l=n.fallback,c=n.href;if(o){var u=t.resolveValueLinks(o),h=u?("function"==typeof c?c:function(t){return t})(u[0].href,o,s):null;h?t.view.render(e,{view:"link",content:a},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},u[0],{href:h}),s):t.view.render(e,l||a||"text",o,s)}}),{tag:!1})}},{}],29:[function(t,e,n){"use strict";function i(t,e,n){if(n){var i=t.appendChild(document.createElement("span"));i.className=e,i.innerText=n}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){function e(e,n,r,o){var s=n.content,a=r||{},l=a.color,c=a.text,u=a.href,h=a.prefix,d=a.postfix;"string"==typeof r&&(c=r),e.style.backgroundColor=l,u&&(e.href=u),i(e,"prefix",h),s?t.view.render(e,s,r,o):e.appendChild(document.createTextNode(String(c))),i(e,"postfix",d)}t.view.define("badge",e,{tag:"a"}),t.view.define("pill-badge",e,{tag:"a"})}},{}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("block",(function(e,n,i,r){var o=n.content;t.view.render(e,o,i,r)}))}},{}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){function e(e,n,i,r){var o=n.content,s=n.disabled,a=void 0!==s&&s,l=n.onClick,c=(i||{}).text,u=void 0===c?"":c;e.classList.add("view-button"),e.disabled=t.query(a,i,r),e.addEventListener("click",(function(){"function"==typeof l&&l(e,i,r)})),o?t.view.render(e,o,i,r):e.innerText=u}t.view.define("button",e,{tag:"button"}),t.view.define("button-primary",e,{tag:"button"}),t.view.define("button-danger",e,{tag:"button"}),t.view.define("button-warning",e,{tag:"button"})}},{}],32:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("chart",(function(e,n,i,o){var s=n.options,a="<b>{point.y}</b> ({point.percentage:.1f}%)";Array.isArray(i)||(i=i?[i]:[]),i[0]&&!i[0].data&&(i=[{data:i}]);try{r.default.chart(e,r.default.merge({chart:{type:"pie",height:"60%"},title:{text:void 0},credits:{enabled:!1},tooltip:{pointFormat:a},plotOptions:{pie:{cursor:"pointer",dataLabels:{format:"{point.name} – "+a,useHTMsL:!0}}},series:i},s))}catch(n){t.view.render(e,{view:"fallback",reason:n.message},i,o)}}))};var i,r=(i=t("/gen/highcharts.js"))&&i.__esModule?i:{default:i}},{"/gen/highcharts.js":2}],33:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("checkbox",(function(e,n,i,a){var l=n.name,c=n.checked,u=n.readonly,h=n.content,d=n.onInit,f=n.onChange,p=e.appendChild(document.createElement("input")),g=null;if(p.type="checkbox",p.checked=(0,r.default)([void 0!==c?t.queryBool(c,i,a):void 0,a[l]],!1),p.readOnly=u,p.addEventListener("click",(function(t){u&&t.preventDefault()})),p.addEventListener("change",(function(){"function"==typeof f&&(f(p.checked,l),null!==g&&g())})),"function"==typeof d&&d(p.checked,l),h){var m=e.appendChild(document.createElement("span"));(g=function(){var e=l?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},a,s({},l,p.checked)):a;m.innerHTML="",t.view.render(m,h,i,e)})()}}),{tag:"label"})};var i,r=(i=t("../core/utils/defined.js"))&&i.__esModule?i:{default:i};function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},{"../core/utils/defined.js":15}],34:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("columns",(function(e,n,i,r){var o=n.column,s=void 0===o?"text":o,a=n.columnConfig,l=n.emptyText,c=n.limit;!1!==l&&""!==l&&e.setAttribute("emptyText",l||"Empty"),!Array.isArray(i)&&i&&(i=[i]),Array.isArray(i)&&t.view.renderList(e,this.composeConfig({view:"column",content:s},a),i,r,0,t.view.listLimit(c,25))})),t.view.define("column",(function(e,n,i,r){t.view.render(e,n.content,i,r)}))}},{}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("content-filter",(function(e,n,i,r){var o=n.name,s=void 0===o?"filter":o,a=n.type,l=void 0===a?"regexp":a,c=n.placeholder,u=n.content;t.view.render(e,{view:"context",modifiers:{view:"input",name:s,type:l,placeholder:c||"Filter"},content:{view:"block",className:"content",content:u}},i,r)}))}},{}],36:[function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("context",(function(e,n,o,s){var a=this;function l(){for(var e=h.parentNode,n=d.previousSibling;n&&n!==h;)n=n.previousSibling,e.removeChild(n.nextSibling);var i=document.createDocumentFragment();t.view.render(i,m,o,u).then((function(){return d.parentNode.insertBefore(i,d)}))}function c(t,e){e&&(u[e]=t,f&&l())}var u=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s),h=null,d=null,f=!1,p=n.modifiers,g=void 0===p?[]:p,m=n.content;Array.isArray(g)||(g=[g]);var v=t.view.render(e,g.map((function(t){return a.composeConfig(t,{onInit:c,onChange:c})})),o,s);h=e.appendChild(document.createComment("context view content start")),d=e.appendChild(document.createComment("context view content end")),v.then((function(){f=!0,l()}))}),{tag:!1})}},{}],37:[function(t,e,n){"use strict";var i,r=(i=t("/gen/codemirror.js"))&&i.__esModule?i:{default:i};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u="CodeMirror-hint",h="active",d=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},f=window.cancelAnimationFrame||clearTimeout;r.default.defineExtension("showHint",(function(t){t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,container:null},this.options.hintOptions,{},t),this.listSelections().length>1||this.somethingSelected()||(this.state.completionActive&&this.state.completionActive.close(),t.hint&&(this.state.completionActive=new p(this,t),this.state.completionActive.update(!0),r.default.signal(this,"startCompletion",this)))}));var p=function(){function t(e,n){var i=this;o(this,t),this.cm=e,this.options=n,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,e.on("cursorActivity",this.activityFunc=function(){return i.cursorActivity()})}return a(t,[{key:"close",value:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&(this.data&&r.default.signal(this.data,"close"),this.widget.close()),r.default.signal(this.cm,"endCompletion",this.cm))}},{key:"active",value:function(){return this.cm.state.completionActive===this}},{key:"pick",value:function(t,e){var n=t.list[e];n.hint?n.hint(this.cm,t,n):this.cm.replaceRange(g(n),n.from||t.from,n.to||t.to,"complete"),r.default.signal(t,"pick",n),this.close()}},{key:"cursorActivity",value:function(){var t=this;this.debounce&&(f(this.debounce),this.debounce=0);var e=this.cm.getCursor(),n=this.cm.getLine(e.line);e.line!=this.startPos.line||n.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||!e.ch||this.options.closeCharacters.test(n.charAt(e.ch-1))?this.close():(this.debounce=d((function(){return t.update()})),this.widget&&this.widget.disable())}},{key:"update",value:function(t){var e=this;if(null!=this.tick){var n=++this.tick;Promise.resolve(this.options.hint(this.cm,this.options)).then((function(i){e.tick==n&&e.finishUpdate(i,t)}))}}},{key:"finishUpdate",value:function(t){this.data&&r.default.signal(this.data,"update");var e=this.widget&&this.widget.picked;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(e&&1==t.list.length?this.pick(t,0):(this.widget=new m(this,t),r.default.signal(t,"shown")))}}]),t}();function g(t){return"string"==typeof t?t:t.text}var m=function(){function t(e,n){var i=this;o(this,t);var s,a=e.cm,l=this.hintsEl=document.createElement("ul");(this.completion=e,this.data=n,this.picked=!1,this.selectedHint=n.selectedHint||0,l.className="CodeMirror-hints "+e.cm.options.theme,(e.options.container||document.body).appendChild(l),this.items=n.list.map((function(t,e){var r=l.appendChild(document.createElement("li"));return r.className=u,e===i.selectedHint&&r.classList.add(h),t.render?t.render(r,n,t):r.appendChild(document.createTextNode(t.displayText||g(t))),r})),a.addKeyMap(this.keyMap={Up:function(){return i.changeActive(i.selectedHint-1)},Down:function(){return i.changeActive(i.selectedHint+1)},Enter:function(){return i.pick()},Tab:function(){return i.pick()},Esc:function(){return e.close()}}),e.options.closeOnUnfocus)&&(a.on("blur",this.onBlur=function(){s=setTimeout((function(){return e.close()}),100)}),a.on("focus",this.onFocus=function(){return clearTimeout(s)}));return this.updatePosSize(),document.addEventListener("scroll",this.onScroll=function(){return i.updatePosSize()},!0),r.default.on(l,"mousedown",(function(){return setTimeout((function(){return a.focus()}),20)})),r.default.on(l,"click",(function(t){var e=function(t,e){for(;e&&e.parentNode!==t;)e=e.parentNode;return e}(l,t.target),n=i.items.indexOf(e);-1!==n&&(i.changeActive(n),i.pick())})),r.default.signal(n,"select",n.list[this.selectedHint],this.items[this.selectedHint]),!0}return a(t,[{key:"close",value:function(){if(this.completion.widget===this){this.completion.widget=null,this.completion.cm.removeKeyMap(this.keyMap),this.hintsEl.remove();var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),document.removeEventListener("scroll",this.onScroll,!0)}}},{key:"disable",value:function(){var t=this;this.completion.cm.removeKeyMap(this.keyMap),this.keyMap={Enter:function(){return t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)}},{key:"pick",value:function(){this.completion.pick(this.data,this.selectedHint)}},{key:"changeActive",value:function(t,e){t>=this.items.length?t=e?this.items.length-1:0:t<0&&(t=e?0:this.items.length-1);var n=this.items[this.selectedHint],i=this.items[this.selectedHint=t];i!==n&&(n&&n.classList.remove(h),i.classList.add(h),i.offsetTop<this.hintsEl.scrollTop?this.hintsEl.scrollTop=i.offsetTop-3:i.offsetTop+i.offsetHeight>this.hintsEl.scrollTop+this.hintsEl.clientHeight&&(this.hintsEl.scrollTop=i.offsetTop+i.offsetHeight-this.hintsEl.clientHeight+3),r.default.signal(this.data,"select",this.data.list[this.selectedHint],i))}},{key:"updatePosSize",value:function(){var t=this.completion,e=this.hintsEl,n=this.data,i=t.cm,r=i.cursorCoords(),o=r.left,s=r.bottom;e.style.left=o+"px",e.style.top=s+"px";var a=window.innerWidth,l=window.innerHeight,c=e.getBoundingClientRect();if(c.bottom-l>0){var u=c.bottom-c.top;if(r.top-(r.bottom-c.top)-u>0)e.style.top=(s=r.top-u)+"px";else if(u>l){e.style.height=l-5+"px",e.style.top=(s=r.bottom-c.top)+"px";var h=i.getCursor();n.from.ch!=h.ch&&(r=i.cursorCoords(h),e.style.left=(o=r.left)+"px",c=e.getBoundingClientRect())}}var d=c.right-a;d>0&&(c.right-c.left>a&&(e.style.width=a-5+"px",d-=c.right-c.left-a),e.style.left=(o=r.left-d)+"px")}}]),t}();r.default.commands.autocomplete=r.default.showHint,r.default.defineOption("hintOptions",null)},{"/gen/codemirror.js":1}],38:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){Object.assign(t.view,{QueryEditor:v,ViewEditor:y})};var i=t("../core/utils/dom.js"),r=t("../core/utils/html.js"),o=a(t("../core/emitter.js")),s=a(t("/gen/codemirror.js"));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e,n){var o=n.entry,s=o.value,a=o.current,l=o.type,c=a[0],u=a[a.length-1],h='"'===c||"'"===c?1:0,d='"'===u||"'"===u?1:0,f=a.toLowerCase().substring(h,a.length-d),p=f?s.toLowerCase().indexOf(f,'"'===s[0]||"'"===s[0]?1:0):-1;-1!==p&&(s=(0,r.escapeHtml)(s.substring(0,p))+'<span class="match">'+(0,r.escapeHtml)(s.substr(p,f.length))+"</span>"+(0,r.escapeHtml)(s.substr(p+f.length))),t.appendChild((0,i.createElement)("span","name",s)),t.appendChild((0,i.createElement)("span","type",l))}t("./editors-hint.js");var m=function(t){function e(t){var n;c(this,e),(n=h(this,d(e).call(this))).el=document.createElement("div"),n.el.className="discovery-editor";var i=(0,s.default)(n.el,{extraKeys:{"Alt-Space":"autocomplete"},mode:"javascript",theme:"neo",indentUnit:0,hintOptions:t&&{hint:t,completeSingle:!1,closeOnUnfocus:!0}});return i.on("change",(function(){return n.emit("change",i.getValue())})),t&&(i.on("cursorActivity",(function(e){return e.state.focused&&e.showHint(t)})),i.on("focus",(function(e){return!e.state.completionActive&&e.showHint(t)}))),n.cm=i,n}var n,i,r;return f(e,t),n=e,(i=[{key:"getValue",value:function(){return this.cm.getValue()}},{key:"setValue",value:function(t){var e=this;Promise.resolve().then((function(){return e.cm.refresh()})),"string"==typeof t&&this.getValue()!==t&&this.cm.setValue(t||"")}},{key:"focus",value:function(){this.cm.focus()}}])&&u(n.prototype,i),r&&u(n,r),e}(o.default),v=function(t){function e(t){return c(this,e),h(this,d(e).call(this,(function(e){var n=e.getCursor(),i=t(e.getValue(),e.doc.indexFromPos(n));if(i)return{list:i.slice(0,50).map((function(t){return{entry:t,text:t.value,render:g,from:e.posFromIndex(t.from),to:e.posFromIndex(t.to)}}))}})))}return f(e,t),e}(m),y=function(t){function e(){return c(this,e),h(this,d(e).call(this))}return f(e,t),e}(m)},{"../core/emitter.js":9,"../core/utils/dom.js":16,"../core/utils/html.js":17,"./editors-hint.js":37,"/gen/codemirror.js":1}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("expand",(function(e,n,i,r){function o(){f&&(f.remove(),f=null),s?(e.classList.add("expanded"),f=document.createElement("div"),t.view.render(f,l,i,r),e.appendChild(f)):e.classList.remove("expanded")}var s=n.expanded,a=n.title,l=n.content,c=n.onToggle,u=e.appendChild(document.createElement("div")),h=u.appendChild(document.createElement("div")),d=u.appendChild(document.createElement("div")),f=null;s=t.queryBool(s,i,r),u.className="header",d.className="trigger",u.addEventListener("click",(function(){s=!s,o(),"function"==typeof c&&c(s)})),t.view.render(h,a||{view:"text",data:'"No title"'},i,r),o()}))}},{}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){function e(e,n,i,r){var o=n.content;t.view.render(e,o||"text",i,r)}t.view.define("header",e,{tag:"h2"}),t.view.define("h1",e,{tag:"h1"}),t.view.define("h2",e,{tag:"h2"}),t.view.define("h3",e,{tag:"h3"}),t.view.define("h4",e,{tag:"h4"}),t.view.define("h5",e,{tag:"h5"})}},{}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("hstack",(function(e,n,i,r){var o=n.content;t.view.render(e,o,i,r)}))}},{}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=document.createElement("div");t.view.define("html",(function(t,n,i){for(e.innerHTML=i;e.firstChild;)t.appendChild(e.firstChild)}),{tag:null})}},{}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("image-preview",(function(t,e,n){var r=n||{},o=r.content,s=r.binary,a=r.mime;t.hidden=!0,/^image\//i.test(a)&&(t.hidden=!1,s||(o=i.encode(o)),t.innerHTML='<img src="data:'.concat(a,";base64,").concat(o,'">'))}))};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(t("../core/utils/base64.js"))},{"../core/utils/base64.js":13}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"chart",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"source",{enumerable:!0,get:function(){return r.default}});var i=o(t("./chart.js")),r=o(t("./source.js"));function o(t){return t&&t.__esModule?t:{default:t}}},{"./chart.js":32,"./source.js":57}],45:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"alerts",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"autoLink",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"badges",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"block",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"button",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"checkbox",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"columns",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"contentFilter",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"context",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(n,"editors",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"expand",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(n,"headers",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(n,"hstack",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(n,"html",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(n,"imagePreview",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(n,"indicator",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(n,"input",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(n,"link",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(n,"listItem",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(n,"lists",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(n,"menu",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(n,"menuItem",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(n,"popup",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(n,"section",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(n,"select",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(n,"signature",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(n,"switch",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(n,"tableCell",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(n,"tableRow",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(n,"table",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(n,"tab",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(n,"tabs",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(n,"text",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(n,"textMatch",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(n,"tocSection",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(n,"treeItem",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(n,"tree",{enumerable:!0,get:function(){return F.default}});var i=B(t("./alerts.js")),r=B(t("./auto-link.js")),o=B(t("./badges.js")),s=B(t("./block.js")),a=B(t("./button.js")),l=B(t("./checkbox.js")),c=B(t("./columns.js")),u=B(t("./content-filter.js")),h=B(t("./context.js")),d=B(t("./editors.js")),f=B(t("./expand.js")),p=B(t("./headers.js")),g=B(t("./hstack.js")),m=B(t("./html.js")),v=B(t("./image-preview.js")),y=B(t("./indicator.js")),b=B(t("./input.js")),x=B(t("./link.js")),w=B(t("./list-item.js")),k=B(t("./lists.js")),O=B(t("./menu.js")),S=B(t("./menu-item.js")),M=B(t("./popup.js")),C=B(t("./section.js")),P=B(t("./select.js")),T=B(t("./signature.js")),A=B(t("./struct.js")),L=B(t("./switch.js")),j=B(t("./table-cell.js")),E=B(t("./table-row.js")),D=B(t("./table.js")),N=B(t("./tab.js")),I=B(t("./tabs.js")),_=B(t("./text.js")),z=B(t("./text-match.js")),R=B(t("./toc-section.js")),H=B(t("./tree-leaf.js")),F=B(t("./tree.js"));function B(t){return t&&t.__esModule?t:{default:t}}},{"./alerts.js":27,"./auto-link.js":28,"./badges.js":29,"./block.js":30,"./button.js":31,"./checkbox.js":33,"./columns.js":34,"./content-filter.js":35,"./context.js":36,"./editors.js":38,"./expand.js":39,"./headers.js":40,"./hstack.js":41,"./html.js":42,"./image-preview.js":43,"./indicator.js":46,"./input.js":47,"./link.js":48,"./list-item.js":49,"./lists.js":50,"./menu-item.js":51,"./menu.js":52,"./popup.js":53,"./section.js":54,"./select.js":55,"./signature.js":56,"./struct.js":58,"./switch.js":59,"./tab.js":60,"./table-cell.js":61,"./table-row.js":62,"./table.js":63,"./tabs.js":64,"./text-match.js":65,"./text.js":66,"./toc-section.js":67,"./tree-leaf.js":68,"./tree.js":69}],46:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("indicator",(function(e,n,i,r){var o=n.value,s=n.label,a=(i||{}).href,l=e.appendChild(document.createElement("div")),c=e.appendChild(document.createElement("div"));l.className="value",t.view.render(l,o||"text:value",i,r),c.className="label",t.view.render(c,s||"text:label",i,r),a&&(e.href=a)}),{tag:"a"})}},{}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e={regexp:function(t){return t?(0,r.default)(t):null},text:function(t){return t}};t.view.define("input",(function(t,n,r,o){var s=n.name,a=n.value,l=n.type,c=void 0===l?"text":l,u=n.placeholder,h=n.onInit,d=n.onChange,f=n.htmlType,p=void 0===f?"text":f,g=n.htmlMin,m=n.htmlMax,v=e[c]||e.text,y=t.appendChild(document.createElement("input")),b=(0,i.default)([a,o[s]],"");y.type=p,y.value=b,y.placeholder=[u||"",v!==e.text?"("+c+")":""].filter(Boolean).join(" "),void 0!==g&&(y.min=g),m&&(y.max=m),y.addEventListener("input",(function(){var t=y.value.trim();b!==t&&(b=t,"function"==typeof d&&d(v(t),s))})),"function"==typeof h&&h(v(y.value.trim()),s)}))};var i=o(t("../core/utils/defined.js")),r=o(t("../core/utils/safe-filter-rx.js"));function o(t){return t&&t.__esModule?t:{default:t}}},{"../core/utils/defined.js":15,"../core/utils/safe-filter-rx.js":20}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("link",(function(e,n,i,r){var o=n.content,s=i||{},a=s.href,l=s.text,c=s.external;"string"==typeof i&&(a=l=i),!l&&a?l=a:!a&&l&&(a=l),e.href=a,c&&e.setAttribute("target","_blank"),o?t.view.render(e,o,i,r):e.appendChild(document.createTextNode(String(l)))}),{tag:"a"})}},{}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("list-item",(function(e,n,i,r){var o=n.content;t.view.render(e,o,i,r)}),{tag:"li"})}},{}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){function e(e,n,i,r){var o=n.item,s=void 0===o?"text":o,a=n.itemConfig,l=n.limit,c=n.emptyText;!1!==c&&""!==c&&e.setAttribute("emptyText",c||"Empty list"),!Array.isArray(i)&&i&&(i=[i]),Array.isArray(i)&&t.view.renderList(e,this.composeConfig({view:"list-item",content:s},a),i,r,0,t.view.listLimit(l,25))}t.view.define("list",e),t.view.define("inline-list",e),t.view.define("comma-list",e),t.view.define("ol",e,{tag:"ol"}),t.view.define("ul",e,{tag:"ul"})}},{}],51:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("menu-item",(function(e,n,i,r){var o=n.content,s=n.onClick,a=i.text,l=i.selected,c=void 0!==l&&l,u=i.disabled;void 0!==u&&u?e.classList.add("disabled"):"function"==typeof s&&e.addEventListener("click",(function(){return s(i)})),c&&e.classList.add("selected"),o?t.view.render(e,o,i,r):e.innerText=a||"Untitled item"}))}},{}],52:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("menu",(function(e,n,i,r){var o=n.item,s=n.itemConfig,a=n.limit,l=n.emptyText,c=n.onClick;!1!==l&&""!==l&&e.setAttribute("emptyText",l||"No items"),Array.isArray(i)&&t.view.renderList(e,this.composeConfig({view:"menu-item",content:o,onClick:c},s),i,r,0,t.view.listLimit(a,25))}))}},{}],53:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.Popup=function(){function e(n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},c,{},n),this.el=document.createElement("div"),this.el.classList.add("discovery-view-popup",t.isolateStyleMarker),this.el.dataset.discoveryInstanceId=t.instanceId,this.hide=this.hide.bind(this),this.hideTimer,this.lastTriggerEl=null,this.lastHoverTriggerEl=null,this.hoverPinned=!1,this.options.className&&this.el.classList.add(this.options.className),l.includes(this.options.hoverPin)||(console.warn("Bad value for `Popup#options.hoverPin` (should be ".concat(l.join(", "),"):"),this.options.hoverPin),this.options.hoverPin=!1),this.options.hoverTriggers&&(this.el.classList.add("show-on-hover"),this.el.dataset.pinMode=this.options.hoverPin||"none",t.addGlobalEventListener("mouseenter",(function(t){var e=t.target;if(e!==document){var n=u(i,e),r=n?n.el:e.closest(i.options.hoverTriggers);r&&(i.hideTimer=clearTimeout(i.hideTimer),r!==i.lastHoverTriggerEl&&(n&&n.hoverPinned||(i.lastHoverTriggerEl=r),n||(i.hoverPinned=!1,i.el.classList.remove("pinned"),i.show(r))))}}),!0),t.addGlobalEventListener("mouseleave",(function(t){var e=t.target;i.lastHoverTriggerEl&&i.lastHoverTriggerEl===e&&(i.lastHoverTriggerEl=null,i.hideTimer=setTimeout(i.hide,100))}),!0),"trigger-click"===this.options.hoverPin&&t.addGlobalEventListener("click",(function(t){i.lastHoverTriggerEl&&i.lastTriggerEl.contains(t.target)&&(i.lastHoverTriggerEl=null,i.hoverPinned=!0,i.el.classList.add("pinned"),t.stopPropagation())}),!0))}return function(t,e,n){e&&s(t.prototype,e);n&&s(t,n)}(e,[{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.render,n=document.body,r=(0,i.getBoundingRect)(t,n),o=(0,i.getOffsetParent)(n.firstChild),s=(0,i.getViewportRect)(window,o),l=r.top-s.top-3,c=s.bottom-r.bottom-3,u=r.right-s.left-3,d=s.right-r.left-3;l>c?(this.el.style.maxHeight=l+"px",this.el.style.top="auto",this.el.style.bottom=s.bottom-r.top+"px",this.el.dataset.vTo="top"):(this.el.style.maxHeight=c+"px",this.el.style.top=r.bottom-s.top+"px",this.el.style.bottom="auto",this.el.dataset.vTo="bottom"),u>d?(this.el.style.left="auto",this.el.style.right=s.right-r.right+"px",this.el.style.maxWidth=u+"px",this.el.dataset.hTo="left"):(this.el.style.left=r.left-s.left+"px",this.el.style.right="auto",this.el.style.maxWidth=d+"px",this.el.dataset.hTo="right"),this.hideTimer=clearTimeout(this.hideTimer),this.relatedPopups.forEach((function(t){return t.hide()})),"function"==typeof e&&(this.el.innerHTML="",e(this.el,t,this.hide)),this.lastTriggerEl&&this.lastTriggerEl.classList.remove("discovery-view-popup-active"),t.classList.add("discovery-view-popup-active"),this.lastTriggerEl=t,n.appendChild(this.el),this.visible||(a.push(this),window.addEventListener("resize",this.hide),1===a.length&&(document.addEventListener("scroll",h,!0),document.addEventListener("click",h,!0)))}},{key:"hide",value:function(){this.hideTimer=clearTimeout(this.hideTimer),this.visible&&(this.relatedPopups.forEach((function(t){return t.hide()})),a.splice(a.indexOf(this),1),this.el.remove(),this.lastTriggerEl&&(this.lastTriggerEl.classList.remove("discovery-view-popup-active"),this.lastTriggerEl=null),window.removeEventListener("resize",this.hide),0===a.length&&(document.removeEventListener("scroll",h,!0),document.removeEventListener("click",h,!0)))}},{key:"hideIfEventOutside",value:function(t){var e=t.target;this.lastTriggerEl&&this.lastTriggerEl.contains(e)||u(this,e)||this.hide()}},{key:"relatedPopups",get:function(){var t=this;return a.filter((function(e){return t.el.contains(e.lastTriggerEl)}))}},{key:"visible",get:function(){return a.includes(this)}}]),e}()};var i=t("../core/utils/layout.js");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=[],l=[!1,"popup-hover","trigger-click"],c={hoverTriggers:null,hoverPin:!1,render:void 0};function u(t,e){return t.el.contains(e)?t:t.relatedPopups.reduce((function(t,n){return t||u(n,e)}),null)}function h(t){a.slice().forEach((function(e){return e.hideIfEventOutside(t)}))}},{"../core/utils/layout.js":19}],54:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("section",(function(e,n,i,r){var o=n.header,s=n.content;t.view.render(e,[{view:"header",content:o},s],i,r)}))}},{}],55:[function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e="{ value: $, text: #.selectVariantTextQuery.query($, #) }",n=".(".concat(e,")"),i=new t.view.Popup({className:"select-variants"});t.view.define("select",(function(o,s,a,l){function c(){o.innerHTML="",void 0!==k&&t.view.render(o,t.view.composeConfig({view:"menu-item",data:e,content:y},b),k,O)}var u=s.name,h=s.value,d=s.text,f=void 0===d?"$":d,p=s.placeholder,g=s.resetItem,m=void 0!==g&&g,v=s.item,y=void 0===v?"text-match:{ text, match: #.filter }":v,b=s.itemConfig,x=s.onInit,w=s.onChange,k=h?t.query(h,a,l):l[u],O=r({},l,{selectCurrentValue:k,selectVariantTextQuery:f,selectResetItem:!0===m?{value:void 0,text:""}:m});p&&(o.dataset.placeholder=p),o.tabIndex=0,o.addEventListener("click",(function(){i.visible?i.hide():i.show(o,(function(e){t.view.render(e,{view:"content-filter",data:m?'[{\n                            value: undefined,\n                            text: "",\n                            resetItem: true,\n                            ...#.selectResetItem\n                        }] + '.concat(n):n,content:{view:"menu",data:".[no #.filter or text~=#.filter or resetItem]",itemConfig:t.view.composeConfig({className:[function(t){return t.resetItem?"reset-item":""},function(t){return t.value===k?"selected":""}]},b),item:y,onClick:function(t){i.hide(),k!==t.value&&(k=t.value,O=r({},O,{selectCurrentValue:k}),c(),"function"==typeof w&&w(t.value,u))}}},a,O).then((function(){return e.querySelector("input").focus()}))}))})),"function"==typeof x&&x(k,u),c()}))}},{}],56:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=new WeakMap;document.addEventListener("click",(function(t){var n=t.target.closest("\n            .view-signature .expand,\n            .view-signature .collapse\n        ");if(n){n.classList.contains("collapse")&&(n=n.parentNode);var r=e.get(n);if(r){var o=r.path,s=r.map,a=r.offset,l=(0,i.createFragment)();null===s.properties?(s.properties=Object.create(null),s.forEach((function(t,e){return g(e,1,s)}))):s.properties=null,v(l,{object:s},e,o,a),n.replaceWith(l)}}}),!1),new t.view.Popup({className:"signature-details",hoverPin:"trigger-click",hoverTriggers:"\n            .view-signature .property,\n            .view-signature .type\n        ",render:function(n,i){var r=e.get(i);switch(r.type){case"property":return function(t,e,n){var i=e.stat.object.properties[e.name],r=i.count,o=i.map,s=e.stat.object.count,a={name:e.name,path:e.path,total:s,count:r,percent:d(100*r/s,1)+"%"};n.view.render(t,[{view:"inline-list",when:"path",className:"path",data:"path",item:'text:"." + $'},{view:"h1",className:"property",content:["text:name",{view:"html",when:"count != total",data:'"<span class=\\"usage-stat optional\\">" + (\n                        "(in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> objects, <span class=\\"num\\">" + percent + "</span>)"\n                    ) + "</span>"'}]}],a),y(t,{map:o,count:r},n)}(n,r,t);case"type":return b(n,r,t)}}}),t.view.define("signature",(function(t,n,i){var r=n.expanded,o=n.path,s=m(i,r),a=Array.isArray(o)?o.map((function(t){return"number"==typeof t?"pick(".concat(t,")"):t})):void 0;v(t,s,e,a)}))};var i=t("../core/utils/dom.js"),r=t("../core/utils/html.js");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=["#7ede78","#f5f061","#f7b28a","#af8af7","#61a3f5","#ef9898","#80ccb4","#b1ae8a","#e290d3","#91d9ea","#bbb"],h=["null","undefined","string","number","bigint","boolean","symbol","function","array","object"];function d(t,e){return t.toFixed(e).replace(/\.?0+$/,"")}function f(t){return[Math.cos(2*Math.PI*t),Math.sin(2*Math.PI*t)]}function p(t){var e=0;return['<svg viewBox="-1 -1 2 2" class="pie">'].concat(c(t.map((function(t){var n=l(f(e),2),i=n[0],r=n[1],o=l(f(e+=t.percent),2),s=o[0],a=o[1],c=t.percent>.5?1:0,u=["M ".concat(i," ").concat(r),"A 1 1 0 ".concat(c," 1 ").concat(s," ").concat(a),"L 0 0"];return'<path d="'.concat(u.join(" "),'" fill="').concat(t.color,'"/>')}))),["</svg>"]).join("\n")}function g(t,e,n){for(var i in t)if(hasOwnProperty.call(t,i)){if(!e){n.properties=null;break}var r=void 0;i in n.properties?(r=n.properties[i]).count++:r=n.properties[i]={count:1,map:Object.create(null)},m(t[i],e-1,r.map)}}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null),i=null===t?"null":Array.isArray(t)?"array":a(t);switch(i){default:i in n==!1&&(n[i]=new Map),n[i].set(t,(n[i].get(t)||0)+1);break;case"object":"object"in n==!1&&(n.object=new Map,n.object.count=0,n.object.properties=Object.create(null)),n.object.count++,n.object.has(t)?n.object.set(t,n.object.get(t)+1):(n.object.set(t,1),g(t,e,n.object));break;case"array":"array"in n==!1&&(n.array=new Map,n.array.count=0,n.array.map=Object.create(null)),n.array.count++,n.array.set(t,(n.array.get(t)||0)+1);for(var r=0;r<t.length;r++)m(t[r],e,n.array.map)}return n}function v(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object.keys(e).sort((function(t,e){return h.indexOf(t)-h.indexOf(e)})).forEach((function(s,a){switch(a>0&&t.appendChild((0,i.createText)(" | ")),s){default:var l=t.appendChild((0,i.createElement)("span","type",s));n.set(l,{type:"type",path:r,stat:e,name:s});break;case"object":var c=e[s],u=e[s].properties;if(null===u){n.set(t.appendChild((0,i.createElement)("span","expand","{…}")),{type:"expand",path:r,map:e[s],offset:o});break}var h=c.size,d=o+"    ",f=t.appendChild((0,i.createElement)("span","object",["{",(0,i.createElement)("span","collapse")]));for(var p in n.set(f,{type:"collapse",path:r,map:e[s],offset:o}),h>1&&(f.appendChild((0,i.createElement)("span","count")).dataset.value=String(h)),u){var g=(0,i.createElement)("span","property",[p]),m=u[p],y=m.count,b=m.map;n.set(g,{type:"property",path:r,stat:e,name:p,map:b}),f.appendChild((0,i.createText)("\n".concat(d))),f.appendChild(g),y!==h&&g.appendChild((0,i.createElement)("span","optional","?")),f.appendChild((0,i.createText)(": ")),v(f,b,n,r.concat(p),d),f.appendChild((0,i.createText)(";"))}";"===f.lastChild.nodeValue&&f.appendChild((0,i.createText)("\n".concat(o))),f.appendChild((0,i.createText)("}"));break;case"array":t.appendChild((0,i.createText)("[")),v(t,e[s].map,n,r,o),t.appendChild((0,i.createText)("]"))}}))}function y(t,e,n){var i=e.map,o=e.count,s=function(t){var e=Object.create(null),n=function(n){e[n]=0,t[n].forEach((function(t){return e[n]+=t}))};for(var i in t)n(i);return e}(i),a=[],c=h.filter((function(t){return t in i}));Object.entries(s).sort((function(t,e){return l(t,2)[1]-l(e,2)[1]})).reverse().forEach((function(t,e){var n=l(t,2),i=n[0],s=n[1];a.push({name:(0,r.escapeHtml)(i),count:s,percent:s/o,percent100:d(100*s/o,1),color:u[e]})})),n.view.render(t,{view:"block",when:"typeStat.size() > 1",data:"typeStat",className:"pie-stat",content:[{view:"block",content:{view:"html",data:p}},{view:"block",content:['html:"<span class=\\"list-header\\">Types usage:</span>"',{view:"list",item:'html:\n                            "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +\n                            "<span class=\\"caption\\">" + name + "</span>" +\n                            "<span class=\\"times\\"> × " + count + " (" + percent100 + "%)</span>"\n                        '}]}]},a),c.forEach((function(e){b(t,{name:e,stat:i},n)}))}function b(t,e,n){var i,a=e.stat[e.name],l=function(t){var e=0;for(var n in t)t[n].forEach((function(t){return e+=t}));return e}(e.stat),c=[];switch(e.name){case"number":var h=[],f=0,g=0,m=0,v=1/0,b=-1/0;a.forEach((function(t,e){h.push({count:t,value:e}),f+=e*t,g+=t,t>1&&m++,e<v&&(v=e),e>b&&(b=e)})),i={count:g,distinct:a.size,duplicated:m,min:v,max:b,sum:f,avg:d(f/g,3),values:h.sort((function(t,e){return e.count-t.count||t.value-e.value}))},c.push({view:"block",className:"overview-stat",content:'html:\n                    "range: (min) <span class=\\"num\\">" + min + "</span> ... " +\n                    "<span class=\\"num\\">" + max + "</span> (max), " +\n                    "avg: <span class=\\"num\\">" + avg + "</span>"\n                '});break;default:var x=[],w=0,k=0;a.forEach((function(t,e){x.push({count:t,value:e}),w+=t,t>1&&k++})),i={count:w,distinct:a.size,duplicated:k,values:"object"===e.name||"array"===e.name?x.sort((function(t,e){return e.count-t.count})):x.sort((function(t,e){return e.count-t.count||t.value>e.value||-(t.value<e.value)}))}}if("undefined"!==e.name&&"null"!==e.name){if(c.unshift({view:"block",className:"overview-stat",content:['html:"<span class=\\"num\\">" + count + "</span> values, "',{view:"switch",content:[{when:"count = distinct",content:'text:"all unique, no duplicates"'},{content:['html:"<span class=\\"num\\">" + distinct + "</span> unique, "','html:duplicated = distinct ? "all occur more than once" : "<span class=\\"num\\">" + duplicated + "</span> occur more than once"']}]}]}),i.values&&i.values.length>1&&i.duplicated&&"object"!==e.name&&"array"!==e.name){for(var O=[],S=10===i.values.length?10:Math.min(9,i.values.length),M=0,C=0;C<S;C++){var P=i.values[C],T=P.count,A=P.value;M+=T,O.push({name:(0,r.escapeHtml)(String(A)),count:T,percent:T/i.count,percent100:d(100*T/i.count,1),color:u[C]})}if(O.length){var L=i.count-M;L>0&&O.push({name:"...",count:L,percent:L/i.count,percent100:d(100*L/i.count,1),color:u[O.length]}),c.push({view:"block",className:"pie-stat",data:O,content:[{view:"block",content:{view:"html",data:p}},{view:"block",content:['html:"<span class=\\"list-header\\">Dominators:</span>"',{view:"list",item:'html:\n                                        "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +\n                                        "<span class=\\"caption\\" title=\\"" + name + "\\">" + name + "</span>" +\n                                        "<span class=\\"times\\"> × " + count + " (" + percent100 + "%)</span>"\n                                    '}]}]})}}"number"!==e.name&&"string"!==e.name||c.push({view:"content-filter",name:"filter",content:{view:"menu",data:"values.[no #.filter or value~=#.filter].sort(<value>)",item:[{view:"block",className:"caption",content:"text-match:{ text: value, match: #.filter }"},{view:"block",when:"count > 1",className:"count",content:'text:" × " + count'}]}}),"object"===e.name&&c.push({view:"list",className:"struct-list",data:"values",item:["struct:value",{view:"block",when:"count > 1",className:"count",content:'text:" × " + count'}]}),"array"===e.name&&Object.keys(a.map).length&&c.push({view:"block",className:"array-types",content:function(t){return y(t,a,n)}})}n.view.render(t,[{view:"inline-list",when:"path",className:"path",data:"path",item:'text:"." + $'},{view:"h1",className:"type",content:["text:name",'html:"<span class=\\"usage-stat\\">" + (\n                    count = total\n                        ? "only this type is used"\n                        : "used in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> cases (<span class=\\"num\\">" + percent + "</span>)"\n                ) + "</span>"']}].concat(c),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},i,{name:e.name,path:e.path,total:l,percent:d(100*i.count/l,1)+"%"}),{})}},{"../core/utils/dom.js":16,"../core/utils/html.js":17}],57:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("source",(function(t,e,n){var o=[],s=n.mime,a=n.binary,u=n.size,d=n.syntax,f=n.content,p=n.refs,g=n.error;return n.disabled?(t.classList.add("disabled"),void(t.innerText=g)):g?(t.classList.add("error"),void(t.innerText=g)):(f.length<l&&(d||c.hasOwnProperty(s))&&o.push((function(t,e){(0,r.default)(d||c[s])(t,e)})),Array.isArray(p)&&o.push((function(t,e){return p.forEach((function(t){t.range&&e(t.type||"spotlight",t.range[0],t.range[1],t)}))})),void(t.innerHTML=a?"Binary content"+("number"==typeof u?" ("+u+" bytes)":""):'<div class="lines">'+f.split(/\r\n?|\n/g).map((function(t,e){return"<span>"+(e+1)+"</span>"})).join("")+"</div>"+i.default.decorate(f,o,h)))}))};var i=o(t("/gen/hitext.js")),r=o(t("/gen/hitext-prismjs.js"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=102400,c={"application/javascript":"javascript","application/x-httpd-php":"php","application/xml":"xml","application/json":"json","text/html":"html","text/css":"css","text/stylus":"stylus","text/yaml":"yaml","image/svg+xml":"svg"};function u(t,e){var n=t&&t.className,i=[e,Array.isArray(n)?n.join(" "):"string"==typeof n&&n].filter(Boolean).join(" ");return i?' class="'.concat(i,'"'):""}var h=i.default.printer.html.fork(r.default.printer.html).fork({hooks:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},i.default.printer.html.hooks,{link:{open:function(t){return'<a href="'.concat(t.href,'"').concat(u(t)).concat(t.marker?' data-marker="'.concat(t.marker,'"'):"",">")},close:function(){return"</a>"}},spotlight:{open:function(t){return"<span ".concat(u(t,"spotlight")).concat(t.marker?' data-marker="'.concat(t.marker,'"'):"",">")},close:function(){return"</span>"}}})})},{"/gen/hitext-prismjs.js":3,"/gen/hitext.js":4}],58:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){function e(t,e){var o=a.get(t),s=r.get(t);if(t.classList.remove("struct-expand-value"),"string"==typeof s){t.innerHTML="",t.appendChild(b.cloneNode(!0));var c=t.lastChild.previousSibling,u=JSON.stringify(s);L(c.firstChild,u.slice(1,-1)),L(c.previousSibling,"length: ".concat(u.length," chars"))}else Array.isArray(s)?(t.innerHTML="",t.appendChild(x.cloneNode(!0)),i(t,t.lastChild,Object.entries(s),(function(t,i,r){n(t,r,l({},o,{autoExpandLimit:e,path:o.path.concat(Number(i))}))}),0,o.limit)):(t.innerHTML="",t.appendChild(w.cloneNode(!0)),i(t,t.lastChild,Object.entries(s),(function(t,i,r){var s,a,c;s=t,a=i,L((c=S.cloneNode(!0)).firstElementChild,a),s.appendChild(c),n(t,r,l({},o,{autoExpandLimit:e,path:o.path.concat(i)}))}),0,o.limit))}function n(n,i,s){var l=A(i),c=O.cloneNode(!0);l&&"string"!=typeof i&&s.autoExpandLimit?(a.set(c,s),r.set(c,i),n.classList.add("struct-expanded-value"),e(c,s.autoExpandLimit-1)):(l&&(a.set(c,s),r.set(c,i),c.classList.add("struct-expand-value")),c.innerHTML=T(i,!1,s)),function(e,n){var i=t.resolveValueLinks(n);Array.isArray(i)&&i.forEach((function(t){var n=t.type,i=t.href;return e.appendChild((0,o.createElement)("a",{href:i,class:"view-struct-auto-link"},[n]))}))}(n,i),n.appendChild(c)}function i(e,n,r,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p,l=r.length-s-1;!1===a&&(a=r.length),r.slice(s,s+a).forEach((function(t,i){var r,s,a=(s=2,function(t){if(Array.isArray(t))return t}(r=t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(r,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),c=a[0],u=a[1],h=k.cloneNode(!0);o(h,c,u),i!==l&&L(h,","),e.insertBefore(h,n)})),t.view.maybeMoreButtons(e,n,r.length,s+a,a,(function(t,s){return i(e,n,r,o,t,s)}))}var r=new WeakMap,a=new WeakMap,c=new WeakSet,u=new t.view.Popup({className:"view-struct-actions-popup",render:function(e,n){var i,o=r.get(n.parentNode),a=[];if("string"==typeof o)a=[{text:"Copy as quoted string",action:function(){return(0,s.default)(JSON.stringify(o))}},{text:"Copy as unquoted string",action:function(){return(0,s.default)(JSON.stringify(o).slice(1,-1))}},{text:"Copy a value (unescaped)",action:function(){return(0,s.default)(o)}}];else{var l,c=!1;try{l=JSON.stringify(o)}catch(t){c="Can't be copied: "+t.message}a=[{text:"Copy as JSON (formatted)",error:c,disabled:Boolean(c),action:function(){return(0,s.default)(JSON.stringify(o,null,4))}},{text:"Copy as JSON (compact".concat((i=l,i?", "+String(i.length).replace(/\B(?=(\d{3})+$)/g,'<span class="num-delim"></span>')+" bytes":""),")"),error:c,disabled:Boolean(c),action:function(){return(0,s.default)(l)}}]}t.view.render(e,{view:"menu",onClick:function(t){u.hide(),t.action()},item:["html:text",{view:"block",className:"error",when:"error",content:"text:error"}]},a)}}),h=new t.view.Popup({hoverPin:"popup-hover",hoverTriggers:".view-struct .show-signature",render:function(e,n){var i=a.get(n.parentNode),o=r.get(n.parentNode);t.view.render(e,{view:"signature",expanded:2,path:i.path},o)}}),d=function(t){var n,i,o,s=t.target.closest("\n            .view-struct.struct-expand,\n            .view-struct .struct-expand-value,\n            .view-struct .struct-collapse-value,\n            .view-struct .show-signature,\n            .view-struct .string-as-text-toggle,\n            .view-struct .value-actions\n        ");if(s)if(s.classList.contains("struct-expand"))s.classList.remove("struct-expand"),e(s.lastChild,0);else if(s.classList.contains("struct-expand-value"))e(s,0),s.parentNode.classList.add("struct-expanded-value"),c.has(s.parentNode)&&s.parentNode.classList.remove("struct-expand");else if(s.classList.contains("struct-collapse-value"))s=s.parentNode,n=s,i=a.get(n),o=r.get(n),n.classList.add("struct-expand-value"),n.innerHTML=T(o,!1,i),s.parentNode.classList.remove("struct-expanded-value"),c.has(s.parentNode)&&s.parentNode.classList.add("struct-expand");else if(s.classList.contains("string-as-text-toggle")){var l=s.parentNode.querySelector(".string-text").firstChild;l.nodeValue=s.parentNode.classList.toggle("string-value-as-text")?JSON.parse('"'.concat(l.nodeValue,'"')):JSON.stringify(l.nodeValue).slice(1,-1)}else s.classList.contains("show-signature")?h.show(s):s.classList.contains("value-actions")&&u.show(s)};return t.addGlobalEventListener("click",d,!1),t.view.define("struct",(function(e,i,r){var o=i.expanded,s=i.limit,a=i.limitCollapsed,l=A(r);c.add(e),n(e,r,{autoExpandLimit:o,limitCollapsed:t.view.listLimit(a,g),limit:t.view.listLimit(s,p),path:[]}),l&&!o&&e.classList.add("struct-expand")})),function(){document.removeEventListener("click",d,!1)}};var i,r=t("../core/utils/html.js"),o=t("../core/utils/dom.js"),s=(i=t("../core/utils/copy-text.js"))&&i.__esModule?i:{default:i};function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=Object.prototype.hasOwnProperty,f=Object.prototype.toString,p=50,g=4,m=150,v=50,y=/^(?:https?:)?\/\/(?:[a-z0-9]+(?:\.[a-z0-9]+)+|\d+(?:\.\d+){3})(?:\:\d+)?(?:\/\S*?)?$/i,b=(0,o.createFragment)('"',(0,o.createElement)("span","struct-action-button struct-collapse-value"),(0,o.createElement)("span","struct-action-button value-actions"),(0,o.createElement)("span","struct-action-button string-as-text-toggle"),(0,o.createElement)("span","string-length"),(0,o.createElement)("span","string-text-wrapper",[(0,o.createElement)("span","string-text")]),'"'),x=o.createFragment.apply(void 0,["["].concat(h(M()),["]"])),w=o.createFragment.apply(void 0,["{"].concat(h(M()),["}"])),k=(0,o.createElement)("div","entry-line"),O=(0,o.createElement)("span","value"),S=(0,o.createElement)("span","label",["    ",(0,o.createElement)("span","property"),": "]);function M(){return[(0,o.createElement)("span","struct-action-button struct-collapse-value"),(0,o.createElement)("span","struct-action-button show-signature"),(0,o.createElement)("span","struct-action-button value-actions")]}function C(t,e){return'<span class="'.concat(t,'">').concat(e,"</span>")}function P(t){return C("more","…".concat(t," more…"))}function T(t,e,n){switch(u(t)){case"boolean":case"undefined":return C("keyword",t);case"number":case"bigint":var i=String(t);return i.length>3&&(i=i.replace(/\..+$|\B(?=(\d{3})+(\D|$))/g,(function(t){return t||'<span class="num-delim"></span>'}))),C("number",i);case"symbol":return C("symbol",t);case"function":return"ƒn";case"string":var o=e?v:m;if(t.length>o+15)return C("string",(0,r.escapeHtml)(JSON.stringify(t.substr(0,o))).replace(/"$/,P(t.length-o)+'"'));var s=(0,r.escapeHtml)(JSON.stringify(t));return C("string",e||"h"!==t[0]&&"/"!==t[0]||!y.test(t)?s:'"<a href="'.concat((0,r.escapeHtml)(t),'" target="_blank">').concat(s.substr(1,s.length-2),'</a>"'));case"object":if(null===t)return C("keyword","null");switch(f.call(t)){case"[object Array]":var a=!1===n.limitCollapsed?t.length:n.limitCollapsed,l=t.slice(0,a).map((function(t){return T(t,!0,n)}));return t.length>a&&l.push("".concat(P(t.length-a)," ")),"[".concat(l.join(", "),"]");case"[object Date]":return C("date",t);case"[object RegExp]":return C("regexp",t)}if(e){for(var c in t)if(d.call(t,c))return"{…}";return"{}"}var h=!1===n.limitCollapsed?1/0:n.limitCollapsed,p=[],g=0;for(var b in t)d.call(t,b)&&(g<h&&p.push("".concat(C("property",b),": ").concat(T(t[b],!0,n))),g++);return g>h&&p.push(P(g-h)),p.length?"{ ".concat(p.join(", ")," }"):"{}";default:return'unknown type "'.concat(u(t),'"')}}function A(t){if(Array.isArray(t))return t.length>0;if("string"==typeof t&&(t.length>m||/[\r\n\f\t]/.test(t)))return!0;if(t&&"[object Object]"===f.call(t))for(var e in t)if(d.call(t,e))return!0;return!1}function L(t,e){t.appendChild(document.createTextNode(e))}},{"../core/utils/copy-text.js":14,"../core/utils/dom.js":16,"../core/utils/html.js":17}],59:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("switch",(function(e,n,i,r){var o=n.content,s='alert-warning:"No case choosen"';if(Array.isArray(o))for(var a=0;a<o.length;a++){var l=o[a];if(l&&t.queryBool(l.when||!0,i,r)){s="data"in l?{view:"context",data:l.data,content:l.content}:l.content;break}}t.view.render(e,s,i,r)}),{tag:!1})}},{}],60:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("tab",(function(e,n,i,r){var o=n.content,s=n.active,a=n.onClick,l=i.text,c=i.value;"function"==typeof a&&e.addEventListener("click",(function(){return a(c)})),s&&e.classList.add("active"),o?t.view.render(e,o,i,r):e.innerText=l||c}))}},{}],61:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("table-cell",(function(e,n,o,s){var a=n.content,l=n.details;a?t.view.render(e,a,o,s):function(t,e){if(Array.isArray(e))return t.className="details complex",void(t.innerText=e.length?"[…]":"[]");if(e&&"object"===i(e)){for(var n in t.className="details complex",e)if(Object.prototype.hasOwnProperty.call(e,n))return void(t.innerText="{…}");return void(t.innerText="{}")}if(void 0===e)return void(t.innerText="");"number"==typeof e&&(t.className="number");t.innerText=e}(e,o),l&&e.classList.add("details"),e.classList.contains("details")&&e.addEventListener("click",(function(n){var i=n.target;if(i===e){var a=i.parentNode,c=a.parentNode,u=Array.from(c.querySelectorAll(".view-table-cell.details-expanded")).find((function(t){return t.parentNode.parentNode===c})),h=null;if(u){var d=u.parentNode;if(u.classList.remove("details-expanded"),u===e)return void a.parentNode.removeChild(a.nextSibling);d!==a?d.parentNode.removeChild(d.nextSibling):(h=a.nextSibling.firstChild).innerHTML=""}null===h&&((h=a.parentNode.insertBefore(document.createElement("tr"),a.nextSibling).appendChild(document.createElement("td"))).parentNode.className="view-table-cell-details-content",h.colSpan=1e3),e.classList.add("details-expanded"),t.view.render(h,l||r,o,s)}}))}),{tag:"td"})};var r={view:"struct",expanded:1}},{}],62:[function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("table-row",(function(e,n,o,s){var a=n.cols;Array.isArray(a)&&a.forEach((function(n,a){return t.view.render(e,n,o,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s,{colIndex:a}))}))}),{tag:"tr"})}},{}],63:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("table",(function(e,n,r,s){var u=n.cols,h=n.rowConfig,d=n.limit,f=u&&"object"===i(u)?u:{},p=!1;!Array.isArray(r)&&r&&(r=[r]);var g=e.appendChild(document.createElement("thead")),m=e.appendChild(document.createElement("tbody")),v=e.appendChild(document.createElement("tbody")).appendChild(document.createElement("tr")).appendChild(document.createElement("td"));if(Array.isArray(u))u=u.map((function(t,e){return"string"==typeof t?c(t):o({header:"col"+e,view:"table-cell",data:l},t)}));else{if(!Array.isArray(r))return void console.warn("config.cols and data is not an array, no way to build a table");var y=new Set;u=[],r.forEach((function(t){if(t&&"object"===i(t))for(var e in t)y.add(e);else p=!0})),Object.keys(f).forEach((function(t){return f[t]?y.add(t):y.delete(t)})),p&&u.push({header:"[value]",view:"table-cell",data:function(t){return String(t)}}),y.forEach((function(t){return u.push(o({},c(t),{},a.call(f,t)?function(t){return"string"==typeof t?{data:l,content:t}:o({data:l},t)}(f[t]):null))}))}u.forEach((function(t){return g.appendChild(document.createElement("th")).innerText=t.header})),v.colSpan=u.length,t.view.renderList(m,this.composeConfig({view:"table-row",cols:u},h),r,s,0,t.view.listLimit(d,25),v)}))};var a=Object.prototype.hasOwnProperty,l=function(t){return t};function c(t){return{header:t,view:"table-cell",data:function(e){return e[t]}}}},{}],64:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("tabs",(function(e,n,s,a){var l=n.content,c=n.beforeTabs,u=n.afterTabs,h=n.tabConfig,d=n.onInit,f=n.onChange,p=n.name,g=n.tabs,m=e.appendChild(document.createElement("div")),v=null,y=null,b=null,x=!1,w=NaN,k="value"in n?n.value:p in a?a[p]:void 0;m.className="view-tabs-buttons",c&&((y=document.createElement("div")).className="view-tabs-buttons-before"),u&&((b=document.createElement("div")).className="view-tabs-buttons-after"),l&&((v=e.appendChild(document.createElement("div"))).className="view-tabs-content"),"string"!=typeof p&&(p="filter"),g=Array.isArray(g)?g.map((function(t){var e=i(t);return"string"!==e&&"number"!==e&&"boolean"!==e||(t={value:t}),(void 0===k||t.active)&&(k=t.value),t})):[],function e(n){var i=x?f:d;if(w!==n){var k=c||u||l?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},a,o({},p,n)):null;w=n,x=!0,Array.isArray(g)&&(m.innerHTML="",c&&(y.innerHTML="",t.view.render(y,c,s,k),m.appendChild(y)),g.forEach((function(n){return t.view.render(m,t.view.composeConfig({view:"tab",active:n.value===w,content:n.content,onClick:e},h),n,a)})),u&&(b.innerHTML="",t.view.render(b,u,s,k),m.appendChild(b))),l&&(v.innerHTML="",t.view.render(v,l,s,k)),"function"==typeof i&&i(w,p)}}(k)}))}},{}],65:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=document.createElement("span");e.className="view-text-match",t.view.define("text-match",(function(t,n,r){var o=r.text,s=r.match;("[object RegExp]"===i.call(s)?String(o).split(s):[String(o)]).forEach((function(n,i){if(""!==n){var r=t;i%2&&(r=r.appendChild(e.cloneNode())),r.appendChild(document.createTextNode(n))}}))}),{tag:!1})};var i=Object.prototype.toString},{}],66:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("text",(function(t,e,n){t.appendChild(document.createTextNode(String(n)))}),{tag:!1})}},{}],67:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){t.view.define("toc-section",(function(e,n,i,r){var o=n.header,s=n.content;t.view.render(e,[{view:"block",className:"header",content:o},{view:"block",className:"content",content:s}],i,r)}),{tag:"section"})}},{}],68:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=new WeakMap;t.addGlobalEventListener("click",(function(t){var n=t.target.closest(".view-tree-leaf-toggle");if(n){var i=e.get(n),r=!n.parentNode.classList.toggle("collapsed");"function"==typeof i.render&&i.render(),"function"==typeof i.onToggle&&i.onToggle(r,n.parentNode,i.data,i.context)}}),!1),t.view.define("tree-leaf",(function(n,r,o,s){var a=this,l=r.expanded,c=r.content,u=r.itemConfig,h=r.collapsible,d=void 0===h||h,f=r.last,p=r.hasChildren,g=r.children,m=r.limit,v=r.onToggle,y=n.appendChild((0,i.createElement)("span","view-tree-leaf-toggle")),b=n.appendChild((0,i.createElement)("span","view-tree-leaf-content")),x=null,w=p;if(f&&n.classList.add("last"),d||n.classList.add("non-collapsible"),this.render(b,c,o,s),g&&(x=t.query(g,o,s),w=Array.isArray(x)&&x.length>0),w){var k=n.appendChild((0,i.createElement)("ul","view-tree-leaf-children")),O={data:o,context:s,onToggle:v,render:null},S=function(t,e){"number"==typeof e&&e--,a.renderList(k,a.composeConfig({view:"tree-leaf",expanded:e,itemConfig:u,content:c,collapsible:d,children:g,limit:m,onToggle:v},u),t,s,0,a.listLimit(m,25))};n.classList.add("has-children"),e.set(y,O),("function"==typeof l?l(o,s):l)?x&&S(x,l):(n.classList.add("collapsed"),x&&(O.render=function(){O.render=null,S(x,l||1)}))}}),{tag:"li"})};var i=t("../core/utils/dom.js")},{"../core/utils/dom.js":16}],69:[function(t,e,n){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){function e(n,o,s,a,l,c,u){!1===u&&(u=a.length),a.slice(c,c+u).reduce((function(e,n){return e.then((function(){var e=o[0];return t.view.render(e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s,{expanded:n.expanded,last:n.last,hasChildren:n.hasChildren,children:n.children}),n.data,l).then((function(){if(n.expanded&&n.hasChildren){var t=e.lastChild.querySelector(".view-tree-leaf-children");t.classList.add("incomplete"),o.unshift(t)}else for(;n.shift--;)o.shift().classList.remove("incomplete")}))}))}),Promise.resolve()).then((function(){return t.view.maybeMoreButtons(n,null,a.length,c+u,u,(function(t,i){return e(n,o,s,a,l,t,i)}))}))}t.view.define("tree",(function(n,i,r,o){var s=i.children,a=i.item,l=void 0===a?"text":a,c=i.itemConfig,u=i.collapsible,h=i.emptyText,d=i.onToggle,f=i.expanded,p=i.limit,g=i.limitLines,m=void 0===g||g;if(!1!==h&&""!==h&&n.setAttribute("emptyText",h||"Empty tree"),!Array.isArray(r)&&r&&(r=[r]),Array.isArray(r))if(p=t.view.listLimit(p,25),m=t.view.listLimit(m,25),f="function"==typeof f?f:t.view.listLimit(f,1),m){var v=function(e,n,i,r){var o=[],s=new Set;return function e(r,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r.forEach((function(r,c,u){var h=t.query(i,r,n),d=Array.isArray(h)&&h.length>0,f=c===u.length-1,p=s.has(r)?0:"function"==typeof a?a(r,n):a;s.add(r),o.push({data:r,expanded:p,last:f,hasChildren:d,children:p?null:i,shift:!f||p&&d?0:l+1}),d&&p&&e(h,"number"==typeof a?a-1:a,f?l+1:0)}))}(e,r),o}(r,o,s,f);e(n,[n],this.composeConfig({view:"tree-leaf",itemConfig:c,content:l,collapsible:u,onToggle:d},c),v,o,0,m)}else this.renderList(n,this.composeConfig({view:"tree-leaf",itemConfig:c,content:l,collapsible:u,expanded:f,children:s,limit:p,onToggle:d},c),r,o,0,p)}),{tag:"ul"})}},{}],70:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=d(t("../core/emitter.js")),r=d(t("../core/view.js")),o=d(t("../core/preset.js")),s=d(t("../core/page.js")),a=h(t("../views/index.js")),l=h(t("../pages/index.js")),c=t("../core/utils/dom.js"),u=d(t("/gen/jora.js"));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var k=new WeakMap,O=new WeakMap,S=new WeakMap;function M(t){return new URLSearchParams(t).toString()}function C(t){return t}function P(t,e,n){n?t.dataset[e]=!0:delete t.dataset[e]}function T(t,e,n,i){var r=t.page.get(e);return r&&"function"==typeof r.options[n]?r.options[n]:i}function A(t,e){"function"==typeof t&&t.call(window,e)}function L(t,e){if(t===e)return!0;for(var n in t)if(hasOwnProperty.call(t,n)&&(!hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var i in e)if(hasOwnProperty.call(e,i)&&(!hasOwnProperty.call(t,i)||t[i]!==e[i]))return!1;return!0}var j=function(t){function e(t,n,i){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(c=function(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?y(t):e}(this,v(e).call(this))).options=i||{},c.view=new r.default(y(c)),c.preset=new o.default(c.view),c.page=new s.default(c.view),c.page.on("define",(function(t){return c.addValueLinkResolver(function(t,e){var n=t.page.get(e).options.resolveLink;if(n)switch(w(n)){case"string":var i=x(n.split(":"),2),r=i[0],o=i[1],s=void 0===o?"id":o;return function(n){if(n&&n.type===r)return{type:e,text:n.name,href:t.encodePageHash(e,n[s])}};case"function":return function(i,r,o,s){if(r){var a=n(i,r,o,s);return a?{type:e,text:"string"==typeof a?a:e,href:t.encodePageHash(e,a)}:void 0}};default:console.warn("[Discovery] Page '".concat(e,"' has a bad value for resolveLink:"),n)}}(y(c),t))})),c.entityResolvers=[],c.linkResolvers=[],c.prepare=function(t){return t},c.defaultPageId=c.options.defaultPageId||"default",c.pageId=c.defaultPageId,c.pageRef=null,c.pageParams={},c.pageHash=c.encodePageHash(c.pageId,c.pageRef,c.pageParams),c.scheduledRenderPage=null,c.instanceId=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=function(t){return Math.round(t).toString(36)},n=e(10+25*Math.random());n.length<t;)n+=e(new Date*Math.random());return n.substr(0,t)}(),c.isolateStyleMarker="style-boundary-Hs94Xo_O",c.badges=[],c.dom={},c.queryExtensions={query:function(){var t;return(t=c).query.apply(t,arguments)},pageLink:function(t,e,n){return c.encodePageHash(e,t,n)}},c.apply(a),c.apply(l),n&&c.page.define("default",n),c.options.extensions&&c.apply(c.options.extensions),c.setContainer(t),c}var n,i,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),n=e,(i=[{key:"apply",value:function(t){var e=this;Array.isArray(t)?t.forEach((function(t){return A(t,e)})):"function"==typeof t?A(t,this):t?this.apply(Object.values(t)):console.error("Bad type of extension:",t)}},{key:"setPrepare",value:function(t){if("function"!=typeof t)throw new Error("An argument should be a function");this.prepare=t}},{key:"setData",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Promise.resolve(this.prepare(t,(function(e){return t=e}))).then((function(){if(k.get(e)!==i)throw new Error("Prevented by another setData()");e.data=t,e.context=n,e.emit("data")}));return k.set(this,i),i.then((function(){e.scheduleRender("sidebar"),e.scheduleRender("page")})),i}},{key:"addEntityResolver",value:function(t){this.entityResolvers.push(t)}},{key:"resolveEntity",value:function(t){for(var e=0;e<this.entityResolvers.length;e++){var n=this.entityResolvers[e](t);if(n)return n}}},{key:"addValueLinkResolver",value:function(t){"function"==typeof t&&this.linkResolvers.push(t)}},{key:"resolveValueLinks",value:function(t){var e=[],n=w(t);if(t&&("object"===n||"string"===n))for(var i=this.resolveEntity(t),r=0;r<this.linkResolvers.length;r++){var o=this.linkResolvers[r](i,t,this.data,this.context);o&&e.push(o)}return e.length?e:null}},{key:"query",value:function(t,e,n){switch(w(t)){case"function":return t(e,n);case"string":return(0,u.default)(t,{methods:this.queryExtensions})(e,n);default:return t}}},{key:"queryBool",value:function(){try{return u.default.buildin.bool(this.query.apply(this,arguments))}catch(t){return!1}}},{key:"querySuggestions",value:function(t,e,n,i){var r,o=["property","value","method"];try{var s=O.get(this);if(!s||s.query!==t||s.data!==n||s.context!==i){var a={methods:this.queryExtensions,tolerant:!0,stat:!0};O.set(this,s=Object.assign((0,u.default)(t,a)(n,i),{query:t,data:n,context:i}))}if(r=s.suggestion(e))return r.filter((function(t){return t.value!==t.current&&(e=t.current,n=t.value,i=e[0],r=e[e.length-1],o='"'===i||"'"===i?1:0,s='"'===r||"'"===r?1:0,-1!==n.toLowerCase().indexOf(e.toLowerCase().substring(o,e.length-s),'"'===n[0]||"'"===n[0]));var e,n,i,r,o,s})).sort((function(t,e){return o.indexOf(t.type)-o.indexOf(e.type)||(t.value<e.value?-1:1)}))}catch(t){return void console.error(t)}}},{key:"getQueryEngineInfo",value:function(){return{name:"jora",version:u.default.version,link:"https://github.com/lahmatiy/jora"}}},{key:"addQueryHelpers",value:function(t){Object.assign(this.queryExtensions,t)}},{key:"setContainer",value:function(t){var e=this,n=t||null;if(n)this.dom.container=n,n.classList.add("discovery",this.isolateStyleMarker),n.dataset.discoveryInstanceId=this.instanceId,n.appendChild(this.dom.sidebar=(0,c.createElement)("nav","discovery-sidebar")),n.appendChild((0,c.createElement)("main","discovery-content",[this.dom.badges=(0,c.createElement)("div","discovery-content-badges"),this.dom.pageContent=(0,c.createElement)("article")])),this.badges.forEach((function(t){return e.dom.badges.appendChild(t.el)}));else for(var i in this.dom)this.dom[i]=null}},{key:"addGlobalEventListener",value:function(t,e,n){var i=this.instanceId,r=function(t){var n=t.target!==document?t.target.closest("[data-discovery-instance-id]"):null;n&&n.dataset.discoveryInstanceId===i&&e.call(this,t)};return document.addEventListener(t,r,n),function(){return document.removeEventListener(t,r,n)}}},{key:"addBadge",value:function(t,e,n){var i={el:document.createElement("div"),visible:"function"==typeof n?n:function(){return!0}};return i.el.className="badge",i.el.addEventListener("click",e),i.el.hidden=!i.visible(this),"function"==typeof t?t(i.el):i.el.innerHTML=t,this.dom.badges&&this.dom.badges.appendChild(i.el),this.badges.push(i),i}},{key:"scheduleRender",value:function(t){var e=this;if(!S.has(this)){var n=new Set;S.set(this,n),Promise.resolve().then((function(){S.delete(e),n.has("sidebar")&&e.renderSidebar(),n.has("page")&&e.renderPage()}))}S.get(this).add(t)}},{key:"cancelScheduledRender",value:function(t){var e=S.get(this);e&&(t?e.delete(t):e.clear())}},{key:"getRenderContext",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({page:this.pageId,id:this.pageRef,params:this.pageParams},this.context)}},{key:"renderSidebar",value:function(){if(S.has(this)&&S.get(this).delete("sidebar"),this.view.isDefined("sidebar")){var t=Date.now();this.dom.sidebar.innerHTML="",this.view.render(this.dom.sidebar,"sidebar",this.data,this.getRenderContext()).then((function(){return console.log("[Discovery] Sidebar rendered in ".concat(Date.now()-t,"ms"))}))}}},{key:"encodePageHash",value:function(t,e,n){var i=T(this,t,"encodeParams",M)(n||{});return"#".concat(t!==this.defaultPageId?t:"").concat("string"==typeof e&&e||"number"==typeof e?":"+e:"").concat(i?"&"+i:"")}},{key:"decodePageHash",value:function(t){var e=t.substr(1).split("&"),n=x((e.shift()||"").split(":"),2),i=n[0],r=n[1],o=T(this,i||this.defaultPageId,"decodeParams",C)(f(new URLSearchParams(e.join("&"))).reduce((function(t,e){var n=x(e,2),i=n[0],r=n[1];return t[i]=r||!0,t}),{}));return{pageId:i||this.defaultPageId,pageRef:r,pageParams:o}}},{key:"getPageOption",value:function(t,e){var n=this.page.get(this.pageId);return n&&t in n.options?n.options[t]:e}},{key:"setPage",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.setPageHash(this.encodePageHash(t||this.defaultPageId,e,n),i)}},{key:"setPageParams",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.setPageHash(this.encodePageHash(this.pageId,this.pageRef,t),e)}},{key:"setPageHash",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t!==this.pageHash){var n=this.decodePageHash(t),i=n.pageId,r=n.pageRef,o=n.pageParams,s=this.pageId!==i||this.pageRef!==r||!L(this.pageParams,o);return this.pageHash=t,s&&(this.pageId=i,this.pageRef=r,this.pageParams=o,this.scheduleRender("page"),this.emit("pageHashChange",e)),s}return!1}},{key:"renderPage",value:function(){var t=this;S.has(this)&&S.get(this).delete("page");var e=this.page.render(this.dom.pageContent,this.pageId,this.data,this.getRenderContext()),n=e.pageEl,i=e.renderState;return this.dom.pageContent=n,this.badges.forEach((function(e){return e.el.hidden=!e.visible(t)})),P(this.dom.container,"dzen",this.pageParams.dzen),P(this.dom.container,"compact",this.options.compact),i}}])&&m(n.prototype,i),h&&m(n,h),e}(i.default);n.default=j},{"../core/emitter.js":9,"../core/page.js":10,"../core/preset.js":11,"../core/utils/dom.js":16,"../core/view.js":21,"../pages/index.js":24,"../views/index.js":45,"/gen/jora.js":5}]},{},[22])(22)}));
},{}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){}

},{}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=_default;function _default(discovery){}

},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _default={"name":"Discovery","mode":"modelfree","model":{"cache":false}};exports["default"]=_default;

},{}],5:[function(require,module,exports){
"use strict";var _lib=require("../lib.js");var _setup=_interopRequireDefault(require("./gen/setup.js"));var _modelPrepare=_interopRequireDefault(require("./gen/model-prepare.js"));var _modelView=_interopRequireDefault(require("./gen/model-view.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}var discovery=new _lib.App(document.body,_setup["default"].model?{mode:_setup["default"].mode,cache:_setup["default"].model.cache}:{mode:'modelfree'});discovery.apply([_modelView["default"],_modelPrepare["default"]]);if(discovery.mode!=='modelfree'){discovery.loadDataFromUrl('./data.json','data');}else{discovery.renderPage();}

},{"../lib.js":1,"./gen/model-prepare.js":2,"./gen/model-view.js":3,"./gen/setup.js":4}]},{},[5])(5)
});
